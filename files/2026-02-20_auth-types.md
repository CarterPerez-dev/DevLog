# auth.types

**Type:** File Overview
**Repository:** social-media-notes
**File:** frontend/src/api/types/auth.types.ts
**Language:** typescript
**Lines:** 1-141
**Complexity:** 0.0

---

## Source Code

```typescript
/**
 * AngelaMos | 2025
 * auth.types.ts
 */

import { z } from 'zod'
import { PASSWORD_CONSTRAINTS } from '@/config'

export const UserRole = {
  UNKNOWN: 'unknown',
  USER: 'user',
  ADMIN: 'admin',
} as const

export type UserRole = (typeof UserRole)[keyof typeof UserRole]

export const userResponseSchema = z.object({
  id: z.string().uuid(),
  created_at: z.string().datetime(),
  updated_at: z.string().datetime().nullable(),
  email: z.string().email(),
  full_name: z.string().nullable(),
  is_active: z.boolean(),
  is_verified: z.boolean(),
  role: z.nativeEnum(UserRole),
})

export const tokenResponseSchema = z.object({
  access_token: z.string(),
  token_type: z.string(),
})

export const tokenWithUserResponseSchema = tokenResponseSchema.extend({
  user: userResponseSchema,
})

export const loginRequestSchema = z.object({
  username: z.string().email(),
  password: z
    .string()
    .min(PASSWORD_CONSTRAINTS.MIN_LENGTH)
    .max(PASSWORD_CONSTRAINTS.MAX_LENGTH),
})

export const registerRequestSchema = z.object({
  email: z.string().email(),
  password: z
    .string()
    .min(PASSWORD_CONSTRAINTS.MIN_LENGTH)
    .max(PASSWORD_CONSTRAINTS.MAX_LENGTH),
  full_name: z.string().max(255).optional(),
})

export const passwordChangeRequestSchema = z.object({
  current_password: z.string(),
  new_password: z
    .string()
    .min(PASSWORD_CONSTRAINTS.MIN_LENGTH)
    .max(PASSWORD_CONSTRAINTS.MAX_LENGTH),
})

export const logoutAllResponseSchema = z.object({
  revoked_sessions: z.number(),
})

export type UserResponse = z.infer<typeof userResponseSchema>
export type TokenResponse = z.infer<typeof tokenResponseSchema>
export type TokenWithUserResponse = z.infer<typeof tokenWithUserResponseSchema>
export type LoginRequest = z.infer<typeof loginRequestSchema>
export type RegisterRequest = z.infer<typeof registerRequestSchema>
export type PasswordChangeRequest = z.infer<typeof passwordChangeRequestSchema>
export type LogoutAllResponse = z.infer<typeof logoutAllResponseSchema>

export const isValidUserResponse = (data: unknown): data is UserResponse => {
  if (data === null || data === undefined) return false
  if (typeof data !== 'object') return false

  const result = userResponseSchema.safeParse(data)
  return result.success
}

export const isValidTokenResponse = (data: unknown): data is TokenResponse => {
  if (data === null || data === undefined) return false
  if (typeof data !== 'object') return false

  const result = tokenResponseSchema.safeParse(data)
  return result.success
}

export const isValidTokenWithUserResponse = (
  data: unknown
): data is TokenWithUserResponse => {
  if (data === null || data === undefined) return false
  if (typeof data !== 'object') return false

  const result = tokenWithUserResponseSchema.safeParse(data)
  return result.success
}

export const isValidLogoutAllResponse = (
  data: unknown
): data is LogoutAllResponse => {
  if (data === null || data === undefined) return false
  if (typeof data !== 'object'
```

---

## File Overview

### Documenting `auth.types.ts`

**Purpose & Responsibility:**
This TypeScript file defines validation schemas and utility functions for authentication-related responses and requests, ensuring consistent data handling across the application.

**Key Exports & Public Interface:**
- **Validation Schemas:** Defines schemas for user response, token response, token with user response, login request, register request, password change request, and logout all response.
- **Type Definitions:** Provides type definitions for validated responses and requests.
- **Error Handling:** Includes `AuthResponseError` class for handling authentication-related errors and predefined error messages.

**How It Fits in the Project:**
This file is crucial for maintaining data integrity and consistency. It ensures that all API responses are correctly parsed and validated, which is essential for user sessions, login, registration, password changes, and logout operations. The schemas and types are used throughout the application to handle these operations safely.

**Notable Design Decisions:**
- **Zod Validation:** Utilizes Zod for robust schema validation, ensuring that data conforms to expected formats.
- **Error Handling:** Implements a custom `AuthResponseError` class with predefined error messages, enhancing readability and maintainability of error handling logic.
- **Type Safety:** Extensive use of TypeScript types ensures type safety and reduces runtime errors.

This file acts as a central hub for authentication-related validation and error handling, making the codebase more robust and easier to understand.

---

*Generated by CodeWorm on 2026-02-20 22:28*
