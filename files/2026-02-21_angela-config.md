# angela.config

**Type:** File Overview
**Repository:** angelamos-3d
**File:** frontend/src/config/angela.config.ts
**Language:** typescript
**Lines:** 1-65
**Complexity:** 0.0

---

## Source Code

```typescript
// ===================
// Â© AngelaMos | 2026
// config.ts
// ===================

import type { AngelaConfig, AngelaSettings } from "../types";

const STORAGE_KEY = "angela-settings";

const API_BASE = import.meta.env.VITE_API_URL || "/api";

export const DEFAULT_SETTINGS: AngelaSettings = {
	wakeWordSensitivity: 0.5,
	silenceThreshold: 0.08,
	silenceDuration: 850,
};

export const getAngelaConfig = (): AngelaConfig => ({
	debug: import.meta.env.VITE_ANGELA_DEBUG === "true",

	api: {
		baseUrl: API_BASE,
		wsBaseUrl: `${window.location.protocol === "https:" ? "wss:" : "ws:"}//${window.location.host}${API_BASE}`,
	},

	vrm: {
		modelPath: "/vrm/angela.vrm",
	},

	audio: {
		sampleRate: 16000,
		silenceThreshold: 0.08,
		silenceDuration: 850,
		minSpeechDuration: 500,
	},

	animation: {
		blinkMinInterval: 3,
		blinkMaxInterval: 5,
	},

	scene: {
		backgroundColor: 0x080808,
		cameraFov: 99,
		cameraPosition: [0, 1.3, 2.0],
		cameraTarget: [0, 1.3, 0],
	},
});

export const loadSettings = (): AngelaSettings => {
	const stored = localStorage.getItem(STORAGE_KEY);
	if (stored) {
		return { ...DEFAULT_SETTINGS, ...JSON.parse(stored) };
	}
	return DEFAULT_SETTINGS;
};

export const saveSettings = (settings: Partial<AngelaSettings>): void => {
	const current = loadSettings();
	localStorage.setItem(
		STORAGE_KEY,
		JSON.stringify({ ...current, ...settings }),
	);
};

```

---

## File Overview

# config.ts

## Purpose and Responsibility
This TypeScript configuration file initializes and manages settings for AngelaMos, a 3D virtual assistant application. It handles default settings, environment variables, and local storage to persist user preferences.

## Key Exports and Public Interface
- `getAngelaConfig`: Returns the main configuration object with API, VRM model path, audio settings, animation parameters, and scene configurations.
- `DEFAULT_SETTINGS`: Default settings for various components like wake word sensitivity, silence thresholds, etc.
- `loadSettings`: Retrieves saved user settings from local storage or returns default settings if none are found.
- `saveSettings`: Persists updated settings to local storage.

## Project Integration
This file is crucial for setting up the application's initial state and ensuring consistent behavior across different environments. It integrates with environment variables, local storage, and various components of the frontend, such as audio processing and 3D scene rendering.

## Notable Design Decisions
- **Environment Variables**: Utilizes `import.meta.env` to handle API URLs and debug flags, allowing for easy configuration changes.
- **LocalStorage Persistence**: Ensures settings are saved locally, providing a seamless user experience across sessions.
- **Default Settings**: Provides fallbacks using `DEFAULT_SETTINGS`, ensuring the application remains functional even if local storage is unavailable or corrupted.
```

This documentation provides an overview of the file's role in the project and highlights its key components and design choices.

---

*Generated by CodeWorm on 2026-02-21 00:44*
