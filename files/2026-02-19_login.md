# login

**Type:** File Overview
**Repository:** fullstack-template
**File:** frontends/react-native-ios/app/(auth)/login.tsx
**Language:** tsx
**Lines:** 1-136
**Complexity:** 0.0

---

## Source Code

```tsx
/**
 * @AngelaMos | 2026
 * login.tsx
 */

import { useLogin } from '@/api/hooks'
import { loginRequestSchema } from '@/api/types'
import {
  Button,
  Card,
  CardContent,
  CardFooter,
  CardFooterLink,
  CardFooterText,
  CardHeader,
  CardSubtitle,
  CardTitle,
  DottedBackground,
  Input,
  PasswordInput,
} from '@/shared/components'
import { haptics } from '@/shared/utils'
import { Link, router } from 'expo-router'
import type React from 'react'
import { useState } from 'react'
import { KeyboardAvoidingView, Platform, ScrollView } from 'react-native'
import { Stack, Text, YStack } from 'tamagui'

export default function LoginScreen(): React.ReactElement {
  const login = useLogin()

  const [email, setEmail] = useState('')
  const [password, setPassword] = useState('')
  const [error, setError] = useState<string | null>(null)

  const handleSubmit = (): void => {
    setError(null)

    const result = loginRequestSchema.safeParse({
      username: email,
      password,
    })

    if (!result.success) {
      const firstError = result.error.issues[0]
      setError(firstError.message)
      haptics.error()
      return
    }

    login.mutate(result.data, {
      onSuccess: () => {
        haptics.success()
        router.replace('/(app)/(tabs)/home')
      },
      onError: (err) => {
        setError(err.message)
        haptics.error()
      },
    })
  }

  return (
    <DottedBackground>
      <KeyboardAvoidingView
        behavior={Platform.OS === 'ios' ? 'padding' : 'height'}
        style={{ flex: 1 }}
      >
        <ScrollView
          contentContainerStyle={{
            flexGrow: 1,
            justifyContent: 'center',
            padding: 16,
            paddingTop: 60,
          }}
          keyboardShouldPersistTaps="handled"
        >
          <YStack alignItems="center">
          <Card>
            <CardHeader>
              <CardTitle>Login</CardTitle>
              <CardSubtitle>Welcome back</CardSubtitle>
            </CardHeader>

            <CardContent>
              <Input
                label="Email"
                placeholder="xxx@example.com"
                value={email}
                onChangeText={setEmail}
                autoCapitalize="none"
                autoCorrect={false}
                keyboardType="email-address"
                textContentType="emailAddress"
              />

              <PasswordInput
                label="Password"
                value={password}
                onChangeText={setPassword}
                textContentType="password"
              />

              {error && (
                <Text fontSize={12} color="$errorDefault">
                  {error}
                </Text>
              )}

              <Stack marginTop="$2">
                <Button
                  fullWidth
                  loading={login.isPending}
                  onPress={handleSubmit}
                >
                  {login.isPending ? 'Logging in...' : 'Login'}
                <
```

---

## File Overview

### login.tsx Documentation

**File Purpose and Responsibility:**
This file is responsible for implementing the login screen of the application, providing a user-friendly interface to authenticate users.

**Key Exports or Public Interface:**
- `LoginScreen`: The primary component that renders the login form. It handles state management, validation, and API calls using the `useLogin` hook.

**How it Fits in the Project:**
The `LoginScreen` is part of the authentication flow within the application. It integrates with the `/auth` route to handle user login requests and redirects users to the home screen upon successful login. This component relies on shared UI components from `@/shared/components` for a consistent design and utility functions like `haptics` for feedback.

**Notable Design Decisions:**
- **State Management:** The component uses React's `useState` hook to manage form inputs and error messages.
- **Validation:** It leverages the `loginRequestSchema` from `@/api/types` to validate user input before making API calls, ensuring data integrity.
- **Error Handling:** Errors are displayed to users in a clear manner using Tamaguiâ€™s `Text` component. Haptic feedback is used to provide tactile confirmation of actions.
- **Routing:** The `expo-router` library is utilized for navigation, allowing smooth transitions between screens upon successful login.
```

This documentation provides an overview of the file's role within the project and highlights key aspects such as state management, validation, error handling, and routing.

---

*Generated by CodeWorm on 2026-02-19 17:27*
