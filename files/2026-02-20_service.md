# service

**Type:** File Overview
**Repository:** my-portfolio
**File:** v1/backend/app/certification/service.py
**Language:** python
**Lines:** 1-116
**Complexity:** 0.0

---

## Source Code

```python
"""
â’¸AngelaMos | 2025
service.py
"""

from uuid import UUID

from sqlalchemy.ext.asyncio import AsyncSession

import config
from config import (
    CertificationCategory,
    Language,
)
from core.exceptions import CertificationNotFound
from .repository import CertificationRepository
from .schemas import (
    CertificationBriefResponse,
    CertificationListResponse,
    CertificationResponse,
)


class CertificationService:
    """
    Business logic for certification operations.
    """
    def __init__(self, session: AsyncSession) -> None:
        self.session = session

    async def get_by_id(
        self,
        certification_id: UUID,
    ) -> CertificationResponse:
        """
        Get certification by ID.
        """
        certification = await CertificationRepository.get_by_id(
            self.session,
            certification_id,
        )
        if not certification:
            raise CertificationNotFound(str(certification_id))
        return CertificationResponse.model_validate(certification)

    async def list_visible(
        self,
        language: Language,
        skip: int = config.PAGINATION_DEFAULT_SKIP,
        limit: int = config.PAGINATION_DEFAULT_LIMIT,
    ) -> CertificationListResponse:
        """
        List visible certifications for a language.
        """
        certifications = await CertificationRepository.get_visible_by_language(
            self.session,
            language,
            skip,
            limit,
        )
        total = await CertificationRepository.count_visible_by_language(
            self.session,
            language,
        )
        return CertificationListResponse(
            items = [
                CertificationResponse.model_validate(c) for c in certifications
            ],
            total = total,
            skip = skip,
            limit = limit,
        )

    async def list_active(
        self,
        language: Language,
    ) -> list[CertificationResponse]:
        """
        List non-expired certifications for a language.
        """
        certifications = await CertificationRepository.get_active_by_language(
            self.session,
            language,
        )
        return [CertificationResponse.model_validate(c) for c in certifications]

    async def list_by_category(
        self,
        category: CertificationCategory,
        language: Language,
    ) -> list[CertificationResponse]:
        """
        List certifications by category and language.
        """
        certifications = await CertificationRepository.get_by_category_and_language(
            self.session,
            category,
            language,
        )
        return [CertificationResponse.model_validate(c) for c in certifications]

    async def get_badges(
        self,
        language: Language,
    ) -> list[CertificationBriefResponse]:
        """
        Get brief certification data for overview badges.
        """
        certifications = await CertificationR
```

---

## File Overview

### service.py

**Purpose and Responsibility:**
This Python file contains business logic for managing certifications, including fetching details, listing visible and active certifications, categorizing them, and generating brief data for overview badges.

**Key Exports and Public Interface:**
- `CertificationService`: The main class responsible for certification operations.
  - `get_by_id(certification_id)`: Retrieves a specific certification by ID.
  - `list_visible(language, skip=0, limit=config.PAGINATION_DEFAULT_LIMIT)`: Lists visible certifications for a given language.
  - `list_active(language)`: Lists non-expired certifications for a given language.
  - `list_by_category(category, language)`: Lists certifications by category and language.
  - `get_badges(language)`: Retrieves brief certification data for overview badges.

**How it Fits in the Project:**
This service layer sits between the repository layer (which handles database interactions) and the application logic. It provides a clean interface for business operations related to certifications, ensuring that domain-specific logic is encapsulated here rather than scattered throughout the codebase.

**Notable Design Decisions:**
- **Dependency Injection**: The `CertificationService` constructor accepts an `AsyncSession` object, allowing it to be tested in isolation.
- **Type Hints and Validation**: Use of type hints and Pydantic models for validation ensures data integrity and consistency.
- **Pagination Support**: Default pagination parameters are provided with sensible defaults, making the service flexible and user-friendly.
```

This documentation covers the high-level purpose, key exports, integration within the project, and notable design decisions.

---

*Generated by CodeWorm on 2026-02-20 08:24*
