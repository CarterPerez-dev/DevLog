# service

**Type:** File Overview
**Repository:** my-portfolio
**File:** v1/backend/app/project/service.py
**Language:** python
**Lines:** 1-117
**Complexity:** 0.0

---

## Source Code

```python
"""
â’¸AngelaMos | 2025
service.py
"""

from uuid import UUID

from sqlalchemy.ext.asyncio import AsyncSession

import config
from config import Language
from core.exceptions import ProjectNotFound
from .repository import ProjectRepository
from .schemas import (
    ProjectBriefResponse,
    ProjectListResponse,
    ProjectNavResponse,
    ProjectResponse,
)


class ProjectService:
    """
    Business logic for project operations
    """
    def __init__(self, session: AsyncSession) -> None:
        self.session = session

    async def get_by_id(self, project_id: UUID) -> ProjectResponse:
        """
        Get project by ID
        """
        project = await ProjectRepository.get_by_id(self.session, project_id)
        if not project:
            raise ProjectNotFound(str(project_id))
        return ProjectResponse.model_validate(project)

    async def get_by_slug(
        self,
        slug: str,
        language: Language,
    ) -> ProjectResponse:
        """
        Get project by slug and language
        Primary lookup for public project pages
        """
        project = await ProjectRepository.get_by_slug_and_language(
            self.session,
            slug,
            language,
        )
        if not project:
            raise ProjectNotFound(slug)
        return ProjectResponse.model_validate(project)

    async def list_visible(
        self,
        language: Language,
        skip: int = config.PAGINATION_DEFAULT_SKIP,
        limit: int = config.PAGINATION_DEFAULT_LIMIT,
    ) -> ProjectListResponse:
        """
        List visible projects for a language
        """
        projects = await ProjectRepository.get_visible_by_language(
            self.session,
            language,
            skip,
            limit,
        )
        total = await ProjectRepository.count_visible_by_language(
            self.session,
            language,
        )
        return ProjectListResponse(
            items = [ProjectResponse.model_validate(p) for p in projects],
            total = total,
            skip = skip,
            limit = limit,
        )

    async def list_featured(
        self,
        language: Language,
        limit: int = config.PAGINATION_FEATURED_LIMIT,
    ) -> list[ProjectResponse]:
        """
        List featured projects for a language
        Used for overview page highlights
        """
        projects = await ProjectRepository.get_featured_by_language(
            self.session,
            language,
            limit,
        )
        return [ProjectResponse.model_validate(p) for p in projects]

    async def get_nav_items(
        self,
        language: Language,
    ) -> ProjectNavResponse:
        """
        Get minimal project data for sidebar navigation
        """
        projects = await ProjectRepository.get_visible_by_language(
            self.session,
            language,
        )
        total = await ProjectRepository.count_visible_by_language(
            self.session,
     
```

---

## File Overview

# service.py

## Purpose and Responsibility
This file contains the business logic for managing projects within a portfolio application. It provides methods to fetch, list, and navigate through project data.

## Key Exports and Public Interface
- **ProjectService**: Manages project operations.
  - `get_by_id`: Fetches a project by ID.
  - `get_by_slug`: Fetches a project by slug and language.
  - `list_visible`: Lists visible projects for a given language.
  - `list_featured`: Lists featured projects for a given language.
  - `get_nav_items`: Provides minimal project data for navigation.

## How It Fits in the Project
`ProjectService` acts as an intermediary between the database layer (via `ProjectRepository`) and the application logic. It ensures that all project-related operations adhere to business rules and are consistent with the overall architecture.

## Notable Design Decisions
- **Dependency Injection**: The service takes an `AsyncSession` as a dependency, promoting loose coupling.
- **Type Hints and Validation**: Utilizes Pydantic models for validation and data transformation, ensuring consistency in data handling.
- **Pagination and Filtering**: Implements pagination and filtering to handle large datasets efficiently.
```

This documentation provides a high-level overview of the file's purpose, key exports, integration within the project, and notable design choices.

---

*Generated by CodeWorm on 2026-02-20 08:19*
