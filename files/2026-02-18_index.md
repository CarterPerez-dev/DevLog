# index

**Type:** File Overview
**Repository:** Cybersecurity-Projects
**File:** TEMPLATES/fullstack-template/frontend/src/pages/admin/index.tsx
**Language:** tsx
**Lines:** 1-416
**Complexity:** 0.0

---

## Source Code

```tsx
/**
 * Â©AngelaMos | 2025
 * index.tsx
 */

import { useState } from 'react'
import { LuPencil, LuPlus, LuTrash2, LuX } from 'react-icons/lu'
import {
  useAdminCreateUser,
  useAdminDeleteUser,
  useAdminUpdateUser,
  useAdminUsers,
} from '@/api/hooks'
import type { UserResponse } from '@/api/types'
import { UserRole } from '@/api/types'
import { PAGINATION } from '@/config'
import styles from './admin.module.scss'

type ModalState =
  | { type: 'closed' }
  | { type: 'create' }
  | { type: 'edit'; user: UserResponse }
  | { type: 'delete'; user: UserResponse }

export function Component(): React.ReactElement {
  const [page, setPage] = useState<number>(PAGINATION.DEFAULT_PAGE)
  const [modal, setModal] = useState<ModalState>({ type: 'closed' })

  const { data, isLoading } = useAdminUsers({
    page,
    size: PAGINATION.DEFAULT_SIZE,
  })
  const createUser = useAdminCreateUser()
  const updateUser = useAdminUpdateUser()
  const deleteUser = useAdminDeleteUser()

  const handleCreate = (formData: FormData): void => {
    const email = formData.get('email') as string
    const password = formData.get('password') as string
    const fullName = (formData.get('fullName') as string) || undefined
    const role = formData.get('role') as UserRole
    const isActive = formData.get('isActive') === 'on'

    createUser.mutate(
      { email, password, full_name: fullName, role, is_active: isActive },
      { onSuccess: () => setModal({ type: 'closed' }) }
    )
  }

  const handleUpdate = (userId: string, formData: FormData): void => {
    const email = formData.get('email') as string
    const fullName = (formData.get('fullName') as string) || undefined
    const role = formData.get('role') as UserRole
    const isActive = formData.get('isActive') === 'on'

    updateUser.mutate(
      {
        id: userId,
        data: { email, full_name: fullName, role, is_active: isActive },
      },
      { onSuccess: () => setModal({ type: 'closed' }) }
    )
  }

  const handleDelete = (userId: string): void => {
    deleteUser.mutate(userId, { onSuccess: () => setModal({ type: 'closed' }) })
  }

  const totalPages = data ? Math.ceil(data.total / PAGINATION.DEFAULT_SIZE) : 0

  return (
    <div className={styles.page}>
      <div className={styles.header}>
        <h1 className={styles.title}>Users</h1>
        <button
          type="button"
          className={styles.createBtn}
          onClick={() => setModal({ type: 'create' })}
        >
          <LuPlus />
          Create User
        </button>
      </div>

      <div className={styles.table}>
        <div className={styles.tableHeader}>
          <div className={styles.tableHeaderCell}>Email</div>
          <div className={styles.tableHeaderCell}>Name</div>
          <div className={styles.tableHeaderCell}>Role</div>
          <div className={styles.tableHeaderCell}>Status</div>
          <div className={styles.tableHeaderCell}>Actions</div>
        </div>

        <div className={styles.tableBody}
```

---

## File Overview

### Purpose and Responsibility

This `index.tsx` file is responsible for managing user administration within a full-stack application. It handles listing, creating, updating, and deleting users through API hooks provided by the `@/api/hooks` module. The component also manages modal states to facilitate these operations.

### Key Exports and Public Interface

- **Component**: A React functional component that renders the user management interface.
  - **Props**: None
  - **State**:
    - `page`: Current page number for pagination.
    - `modal`: State of the modal, indicating whether it is open or closed, and if open, which operation (create, edit, delete) is being performed.

### How It Fits in the Project

This file is part of the frontend module responsible for user management. It interacts with backend APIs to fetch users, create new ones, update existing records, and delete them. The component uses hooks from `@/api/hooks` to manage asynchronous operations and handles UI states using React's `useState`.

### Notable Design Decisions

- **Pagination**: Uses a constant `PAGINATION.DEFAULT_PAGE` and `PAGINATION.DEFAULT_SIZE` for consistent pagination across the application.
- **Modal States**: Defines specific modal states (`create`, `edit`, `delete`) to manage different user interaction scenarios.
- **Icon Usage**: Utilizes `react-icons/lu` for action icons, enhancing visual feedback in UI elements like create and delete buttons.

This component is a crucial part of the admin panel, ensuring that users can efficiently manage their roles and statuses within the application.

---

*Generated by CodeWorm on 2026-02-18 17:04*
