# index

**Type:** File Overview
**Repository:** Cybersecurity-Projects
**File:** TEMPLATES/fullstack-template/frontend/src/pages/register/index.tsx
**Language:** tsx
**Lines:** 1-165
**Complexity:** 0.0

---

## Source Code

```tsx
/**
 * ©AngelaMos | 2025
 * index.tsx
 */

import { useState } from 'react'
import { LuEye, LuEyeOff } from 'react-icons/lu'
import { Link, useNavigate } from 'react-router-dom'
import { toast } from 'sonner'
import { z } from 'zod'
import { useRegister } from '@/api/hooks'
import { userCreateRequestSchema } from '@/api/types'
import { PASSWORD_CONSTRAINTS, ROUTES } from '@/config'
import { useAuthFormStore } from '@/core/lib'
import styles from './register.module.scss'

const registerFormSchema = userCreateRequestSchema
  .extend({
    confirmPassword: z
      .string()
      .min(
        PASSWORD_CONSTRAINTS.MIN_LENGTH,
        `Password must be at least ${PASSWORD_CONSTRAINTS.MIN_LENGTH} characters`
      )
      .max(PASSWORD_CONSTRAINTS.MAX_LENGTH),
  })
  .refine((data) => data.password === data.confirmPassword, {
    message: 'Passwords do not match',
    path: ['confirmPassword'],
  })

export function Component(): React.ReactElement {
  const navigate = useNavigate()
  const register = useRegister()

  const { registerEmail, setRegisterEmail, clearRegisterForm } =
    useAuthFormStore()
  const [password, setPassword] = useState('')
  const [confirmPassword, setConfirmPassword] = useState('')
  const [showPassword, setShowPassword] = useState(false)
  const [showConfirmPassword, setShowConfirmPassword] = useState(false)

  const handleSubmit = (e: React.FormEvent): void => {
    e.preventDefault()

    const result = registerFormSchema.safeParse({
      email: registerEmail,
      password,
      confirmPassword,
    })

    if (!result.success) {
      const firstError = result.error.issues[0]
      toast.error(firstError.message)
      return
    }

    register.mutate(
      { email: result.data.email, password: result.data.password },
      {
        onSuccess: () => {
          clearRegisterForm()
          toast.success('Account created successfully')
          navigate(ROUTES.LOGIN)
        },
      }
    )
  }

  return (
    <div className={styles.page}>
      <div className={styles.card}>
        <div className={styles.header}>
          <h1 className={styles.title}>Sign up</h1>
          <p className={styles.subtitle}>Create a new account</p>
        </div>

        <form className={styles.form} onSubmit={handleSubmit}>
          <div className={styles.field}>
            <label className={styles.label} htmlFor="email">
              Email
            </label>
            <input
              id="email"
              type="email"
              className={styles.input}
              placeholder="xxx@example.com"
              value={registerEmail}
              onChange={(e) => setRegisterEmail(e.target.value)}
              autoComplete="email"
            />
          </div>

          <div className={styles.field}>
            <label className={styles.label} htmlFor="password">
              Password
            </label>
            <div className={styles.inputWrapper}>
              <input
                id="password"
   
```

---

## File Overview

### `index.tsx` Documentation

**File Purpose and Responsibility:**
This file is responsible for implementing the user registration functionality in the frontend application. It handles form validation, password confirmation, and API calls to create a new user account.

**Key Exports or Public Interface:**
- **Component:** A React functional component that renders the registration form.
  - Handles form submission and validation.
  - Manages state for email, password, and confirm password fields.
  - Displays eye icons to toggle password visibility.

**How It Fits in the Project:**
This file is part of the `/pages/register` directory, which contains all the necessary components and logic required for user registration. It integrates with other parts of the application such as authentication hooks, form stores, and navigation utilities. The component uses `react-router-dom` for navigation and `sonner` for displaying success or error messages.

**Notable Design Decisions:**
- **Form Validation:** Utilizes Zod to validate user input, ensuring that passwords meet specific constraints.
- **Password Confirmation:** Requires the password and confirm password fields to match before submission.
- **State Management:** Uses React’s `useState` hook for managing form state and a custom store (`useAuthFormStore`) for shared state across components.
- **Error Handling:** Displays the first validation error message using `sonner` toast notifications.
```

This documentation provides an overview of the file's purpose, its role within the project, and highlights key design decisions.

---

*Generated by CodeWorm on 2026-02-18 14:15*
