# errors

**Type:** File Overview
**Repository:** stripe-referral
**File:** src/stripe_referral/exceptions/errors.py
**Language:** python
**Lines:** 1-151
**Complexity:** 0.0

---

## Source Code

```python
"""
â’¸AngelaMos | 2025 | CertGames.com
Custom exception hierarchy for stripe referral
"""

from typing import Any


class StripeReferralError(Exception):
    """
    Base exception for all stripe referral errors
    """
    def __init__(self, message: str, **context: Any) -> None:
        super().__init__(message)
        self.message = message
        self.context = context

    def __str__(self) -> str:
        if self.context:
            context_str = ", ".join(
                f"{k}={v}" for k, v in self.context.items()
            )
            return f"{self.message} ({context_str})"
        return self.message


class ValidationError(StripeReferralError):
    """
    Raised when input validation fails
    """


class CodeNotFoundError(StripeReferralError):
    """
    Raised when referral code does not exist
    """


class CodeExpiredError(StripeReferralError):
    """
    Raised when referral code has expired
    """


class CodeInactiveError(StripeReferralError):
    """
    Raised when referral code is inactive or suspended
    """


class CodeMaxUsesReachedError(StripeReferralError):
    """
    Raised when referral code has reached maximum uses
    """


class ProgramNotFoundError(StripeReferralError):
    """
    Raised when referral program does not exist
    """


class ProgramInactiveError(StripeReferralError):
    """
    Raised when referral program is inactive
    """


class PayoutError(StripeReferralError):
    """
    Base exception for payout-related errors
    """


class PayoutAdapterError(PayoutError):
    """
    Raised when payout adapter fails
    """


class RecipientValidationError(PayoutError):
    """
    Raised when recipient data validation fails
    """


class InsufficientFundsError(PayoutError):
    """
    Raised when payout amount exceeds available balance
    """


class DuplicateReferralError(StripeReferralError):
    """
    Raised when attempting to track duplicate referral
    """


class SelfReferralError(StripeReferralError):
    """
    Raised when user attempts to refer themselves
    """


class DatabaseError(StripeReferralError):
    """
    Raised when database operation fails
    """


class ConfigurationError(StripeReferralError):
    """
    Raised when configuration is invalid or missing
    """


class StripeAPIError(PayoutError):
    """
    Raised when Stripe API call fails
    """


class CodeGenerationError(StripeReferralError):
    """
    Raised when unable to generate unique referral code after max attempts
    """


class PayoutNotFoundError(PayoutError):
    """
    Raised when payout record does not exist
    """


class PayoutAlreadyExistsError(PayoutError):
    """
    Raised when payout already exists for a tracking entry
    """


class TrackingNotFoundError(StripeReferralError):
    """
    Raised when tracking record does not exist
    """


class InvalidRecipientDataError(PayoutError):
    """
    Raised when recipient data is invalid or incomplete
    """

```

---

## File Overview

### Purpose and Responsibility

This Python source file defines a comprehensive exception hierarchy for handling errors related to Stripe referral programs within the `stripe-referral` project. The exceptions are designed to provide clear, structured error handling that can be easily understood and managed throughout the application.

### Key Exports and Public Interface

- **Base Exception**: `StripeReferralError`
- **Subclasses**:
  - `ValidationError`, `CodeNotFoundError`, `CodeExpiredError`, `CodeInactiveError`, `CodeMaxUsesReachedError`, `ProgramNotFoundError`, `ProgramInactiveError`, `PayoutError`, `PayoutAdapterError`, `RecipientValidationError`, `InsufficientFundsError`, `DuplicateReferralError`, `SelfReferralError`, `DatabaseError`, `ConfigurationError`, `StripeAPIError`, `CodeGenerationError`, `PayoutNotFoundError`, `PayoutAlreadyExistsError`, `TrackingNotFoundError`, `InvalidRecipientDataError`

These exceptions are intended to be raised in various parts of the application where specific errors occur, providing detailed context through their messages and additional attributes.

### How It Fits into the Project

This file serves as a central repository for custom exception classes. These exceptions are used throughout the project to handle Stripe-related errors, ensuring that error handling is consistent and comprehensive. The hierarchy allows for easy identification of the type of error and provides appropriate context via the `context` attribute in `StripeReferralError`.

### Notable Design Decisions

- **Hierarchical Structure**: The use of a base class `StripeReferralError` with specific subclasses ensures that related errors are grouped logically.
- **Contextual Information**: Each exception includes a `context` dictionary to provide additional details about the error, enhancing debugging and logging capabilities.
- **Type Hints**: Type hints for method parameters and return types improve code readability and maintainability.

This design supports robust error management in the `stripe-referral` project by providing clear, structured exceptions that can be easily extended or modified as needed.

---

*Generated by CodeWorm on 2026-02-20 10:35*
