# AngelaPage

**Type:** File Overview
**Repository:** angelamos-3d
**File:** frontend/src/AngelaPage.tsx
**Language:** tsx
**Lines:** 1-92
**Complexity:** 0.0

---

## Source Code

```tsx
// ===================
// Â© AngelaMos | 2026
// AngelaPage.tsx
// ===================

import { useCallback, useEffect, useState } from "react";
import { StatusOverlay } from "./components";
import { useThreeScene, useVoicePipeline, useWakeWord } from "./hooks";
import type { AngelaStatus } from "./types";

export function AngelaPage() {
	const [status, setStatus] = useState<AngelaStatus>("initializing");
	const [transcript, setTranscript] = useState("");
	const [response, setResponse] = useState("");
	const [error, setError] = useState("");

	const {
		canvasRef,
		animControllerRef,
		animManagerRef,
		analyserRef,
		dataArrayRef,
		isPlayingRef,
	} = useThreeScene();

	const handleReady = useCallback(() => setStatus("idle"), []);
	const handleInitError = useCallback((err: Error) => {
		setError(err.message);
		setStatus("error");
	}, []);

	const { wakeWordRef, recorderRef, setWakeWordCallback } = useWakeWord(
		handleReady,
		handleInitError,
	);

	const { handleWakeWord, handleStop, handleMute } = useVoicePipeline({
		animControllerRef,
		animManagerRef,
		analyserRef,
		dataArrayRef,
		isPlayingRef,
		wakeWordRef,
		recorderRef,
		onStatusChange: setStatus,
		onTranscriptChange: setTranscript,
		onResponseChange: setResponse,
		onError: setError,
	});

	useEffect(() => {
		setWakeWordCallback(handleWakeWord);
	}, [setWakeWordCallback, handleWakeWord]);

	const triggerManually = () => {
		if (status === "idle") {
			handleWakeWord();
		}
	};

	return (
		<div
			style={{
				width: "100vw",
				height: "100vh",
				overflow: "hidden",
				position: "relative",
			}}
		>
			<canvas ref={canvasRef} style={{ display: "block" }} />
			<div
				style={{
					position: "absolute",
					inset: 0,
					pointerEvents: "none",
					background:
						"radial-gradient(ellipse at center, transparent 32%, rgba(0,0,0,0.6 100%)",
				}}
			/>
			<StatusOverlay
				status={status}
				transcript={transcript}
				response={response}
				error={error}
				onTrigger={triggerManually}
				onStop={handleStop}
				onMute={handleMute}
			/>
		</div>
	);
}

```

---

## File Overview

# AngelaPage.tsx Documentation

## Purpose and Responsibility
`AngelaPage.tsx` is a React component that serves as the main entry point for the user interaction with the Angela voice assistant. It integrates various hooks and components to manage the state, handle voice interactions, and display status overlays.

## Key Exports or Public Interface
- **Function**: `AngelaPage`
  - **Responsibility**: Manages the overall state (status, transcript, response, error) and renders the main interface for user interaction.
  
## How It Fits in the Project
This file acts as a central hub, leveraging hooks from other modules to handle complex interactions. It integrates with the 3D scene (`useThreeScene`), voice pipeline (`useVoicePipeline`), and wake word detection (`useWakeWord`). The component renders a canvas for the 3D scene and overlays status information.

## Notable Design Decisions
- **State Management**: Uses React state hooks to manage application states like `status`, `transcript`, `response`, and `error`.
- **Modular Hooks**: Utilizes custom hooks (`useThreeScene`, `useVoicePipeline`, `useWakeWord`) for encapsulating complex logic, promoting reusability.
- **Error Handling**: Implements error handling through callbacks to manage initialization errors and status changes.
- **UI Layer Separation**: Keeps the UI layer clean by using a separate component (`StatusOverlay`) for displaying status information, enhancing maintainability and separation of concerns.

---

*Generated by CodeWorm on 2026-02-21 00:24*
