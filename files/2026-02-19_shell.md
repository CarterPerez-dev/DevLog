# shell

**Type:** File Overview
**Repository:** fullstack-template
**File:** frontends/react-scss/src/core/app/shell.tsx
**Language:** tsx
**Lines:** 1-161
**Complexity:** 0.0

---

## Source Code

```tsx
/**
 * Â©AngelaMos | 2025
 * shell.tsx
 */

import { Suspense } from 'react'
import { ErrorBoundary } from 'react-error-boundary'
import { GiCardAceClubs, GiCardJoker, GiExitDoor } from 'react-icons/gi'
import { LuChevronLeft, LuChevronRight, LuMenu, LuShield } from 'react-icons/lu'
import { Link, NavLink, Outlet, useLocation } from 'react-router-dom'
import { useLogout } from '@/api/hooks'
import { ROUTES } from '@/config'
import { useIsAdmin, useUIStore, useUser } from '@/core/lib'
import styles from './shell.module.scss'

const NAV_ITEMS = [
  { path: ROUTES.DASHBOARD, label: 'Dashboard', icon: GiCardJoker },
  { path: ROUTES.SETTINGS, label: 'Settings', icon: GiCardAceClubs },
]

const ADMIN_NAV_ITEM = {
  path: ROUTES.ADMIN.USERS,
  label: 'Admin',
  icon: LuShield,
}

function ShellErrorFallback({ error }: { error: Error }): React.ReactElement {
  return (
    <div className={styles.error}>
      <h2>Something went wrong</h2>
      <pre>{error.message}</pre>
    </div>
  )
}

function ShellLoading(): React.ReactElement {
  return <div className={styles.loading}>Loading...</div>
}

function getPageTitle(pathname: string, isAdmin: boolean): string {
  if (isAdmin && pathname === ADMIN_NAV_ITEM.path) {
    return ADMIN_NAV_ITEM.label
  }
  const item = NAV_ITEMS.find((i) => i.path === pathname)
  return item?.label ?? 'Dashboard'
}

export function Shell(): React.ReactElement {
  const location = useLocation()
  const { sidebarOpen, sidebarCollapsed, toggleSidebar, toggleSidebarCollapsed } =
    useUIStore()
  const { mutate: logout } = useLogout()
  const isAdmin = useIsAdmin()
  const user = useUser()

  const pageTitle = getPageTitle(location.pathname, isAdmin)
  const avatarLetter =
    user?.full_name?.[0]?.toUpperCase() ?? user?.email?.[0]?.toUpperCase() ?? 'U'

  return (
    <div className={styles.shell}>
      <aside
        className={`${styles.sidebar} ${sidebarOpen ? styles.open : ''} ${sidebarCollapsed ? styles.collapsed : ''}`}
      >
        <div className={styles.sidebarHeader}>
          <span className={styles.logo}>NavBar Template</span>
          <button
            type="button"
            className={styles.collapseBtn}
            onClick={toggleSidebarCollapsed}
            aria-label={sidebarCollapsed ? 'Expand sidebar' : 'Collapse sidebar'}
          >
            {sidebarCollapsed ? <LuChevronRight /> : <LuChevronLeft />}
          </button>
        </div>

        <nav className={styles.nav}>
          {NAV_ITEMS.map((item) => (
            <NavLink
              key={item.path}
              to={item.path}
              className={({ isActive }) =>
                `${styles.navItem} ${isActive ? styles.active : ''}`
              }
              onClick={() => sidebarOpen && toggleSidebar()}
            >
              <item.icon className={styles.navIcon} />
              <span className={styles.navLabel}>{item.label}</span>
            </NavLink>
          ))}
          {isAdmin && (
            <NavLink
        
```

---

## File Overview

### shell.tsx

**Purpose and Responsibility:**
This file is responsible for rendering the main layout of the application, providing a consistent navigation structure and handling user interactions like sidebar toggling and logout.

**Key Exports or Public Interface:**
- `Shell`: The primary component that renders the overall layout.
- `ShellErrorFallback` and `ShellLoading`: Components used to handle errors and loading states respectively.

**How it Fits in the Project:**
The `Shell` component acts as a higher-order component (HOC) for the main application shell. It is imported by other pages and components, ensuring that common UI elements like navigation, sidebar, and header are consistently displayed across the application. The use of `react-router-dom` allows for dynamic routing within the shell.

**Notable Design Decisions:**
- **Error Handling:** Utilizes `ErrorBoundary` to gracefully handle errors in child components.
- **Suspense:** Ensures smooth transitions during component rendering by providing a fallback while content is loading.
- **State Management:** Uses React hooks like `useLocation`, `useUIStore`, and custom hooks (`useLogout`, `useIsAdmin`) for state handling and API interactions, promoting reusability and decoupling.
- **Responsive Design:** The sidebar can be toggled between open and collapsed states based on user interaction, enhancing usability on different devices.
```

This documentation provides a high-level overview of the file's purpose, key components, integration within the project, and significant design choices.

---

*Generated by CodeWorm on 2026-02-19 16:43*
