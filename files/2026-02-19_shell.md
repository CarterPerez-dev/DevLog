# shell

**Type:** File Overview
**Repository:** oneIsNun_
**File:** react-scss/src/core/app/shell.tsx
**Language:** tsx
**Lines:** 1-166
**Complexity:** 0.0

---

## Source Code

```tsx
// ===================
// AngelaMos | 2026
// shell.tsx
// ===================

import { Suspense } from 'react'
import { ErrorBoundary } from 'react-error-boundary'
import {
  LuDatabase,
  LuHardDrive,
  LuChevronLeft,
  LuChevronRight,
  LuMenu,
  LuGauge,
  LuSearch,
  LuSettings,
  LuExternalLink,
} from 'react-icons/lu'
import { SiMongodb } from 'react-icons/si'
import { NavLink, Outlet, useLocation } from 'react-router-dom'
import { ROUTES } from '@/config'
import { useUIStore } from '@/core/lib'
import { useWebSocket } from '@/api'
import styles from './shell.module.scss'

const NAV_ITEMS = [
  { path: ROUTES.DASHBOARD, label: 'Dashboard', icon: LuGauge },
  { path: ROUTES.COLLECTIONS, label: 'Collections', icon: LuDatabase },
  { path: ROUTES.BACKUPS, label: 'Backups', icon: LuHardDrive },
  { path: ROUTES.SLOW_QUERIES, label: 'Slow Queries', icon: LuSearch },
  { path: ROUTES.SETTINGS, label: 'Settings', icon: LuSettings },
]

function ShellErrorFallback({ error }: { error: Error }): React.ReactElement {
  return (
    <div className={styles.error}>
      <h2>Something went wrong</h2>
      <pre>{error.message}</pre>
    </div>
  )
}

function ShellLoading(): React.ReactElement {
  return <div className={styles.loading}>Loading...</div>
}

function getPageTitle(pathname: string): string {
  if (pathname.startsWith(ROUTES.COLLECTIONS) && pathname !== ROUTES.COLLECTIONS) {
    return 'Collection Details'
  }
  const item = NAV_ITEMS.find((i) => i.path === pathname)
  return item?.label ?? 'Dashboard'
}

export function Shell(): React.ReactElement {
  const location = useLocation()
  const { sidebarOpen, sidebarCollapsed, toggleSidebar, toggleSidebarCollapsed } =
    useUIStore()
  const { isConnected } = useWebSocket()

  const pageTitle = getPageTitle(location.pathname)

  return (
    <div className={styles.shell}>
      <aside
        className={`${styles.sidebar} ${sidebarOpen ? styles.open : ''} ${sidebarCollapsed ? styles.collapsed : ''}`}
      >
        <div className={styles.sidebarHeader}>
          <span className={styles.logo}>MongoDB Dashboard</span>
          <button
            type="button"
            className={styles.collapseBtn}
            onClick={toggleSidebarCollapsed}
            aria-label={sidebarCollapsed ? 'Expand sidebar' : 'Collapse sidebar'}
          >
            {sidebarCollapsed ? <LuChevronRight /> : <LuChevronLeft />}
          </button>
        </div>

        <nav className={styles.nav}>
          {NAV_ITEMS.map((item) => (
            <NavLink
              key={item.path}
              to={item.path}
              className={({ isActive }) =>
                `${styles.navItem} ${isActive ? styles.active : ''}`
              }
              onClick={() => sidebarOpen && toggleSidebar()}
            >
              <item.icon className={styles.navIcon} />
              <span className={styles.navLabel}>{item.label}</span>
            </NavLink>
          ))}

          <a
            href="http://lo
```

---

## File Overview

# shell.tsx Documentation

## Purpose and Responsibility
This file defines the main layout and navigation structure of the MongoDB Dashboard application. It serves as the entry point for most routes, providing a consistent sidebar menu, header, and content area.

## Key Exports and Public Interface
- **Shell**: The primary component that renders the shell layout.
  - `props`: None (uses context and hooks internally).
  - `children`: Rendered within the main content area (`Outlet`).

- **ShellErrorFallback**: A fallback component for error boundaries, displaying an error message.

- **ShellLoading**: A loading indicator displayed while components are being loaded.

## How It Fits into the Project
The `Shell` component acts as a wrapper around other routes and components. It includes navigation items, sidebar controls, and connection status indicators. This layout is crucial for maintaining a cohesive user experience across different sections of the application.

## Notable Design Decisions
- **React Icons**: Used to provide consistent iconography throughout the UI.
- **Error Boundary**: Ensures that any errors in child components are gracefully handled without crashing the entire app.
- **WebSocket Integration**: Monitors the connection status and updates the UI accordingly, ensuring real-time data synchronization.
- **Responsive Sidebar**: The sidebar can be toggled between open and collapsed states for better usability on smaller screens.
```

This documentation provides a high-level overview of the `shell.tsx` file, explaining its role in the application, key components it exports, how it integrates with other parts of the project, and important design choices.

---

*Generated by CodeWorm on 2026-02-19 23:40*
