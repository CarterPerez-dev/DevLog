# cli-script

**Type:** File Overview
**Repository:** Telehook
**File:** docs/examples/cli-script.py
**Language:** python
**Lines:** 1-44
**Complexity:** 0.0

---

## Source Code

```python
"""
Â©AngelaMos | 2026
cli-script.py

Example: simple CLI script that sends a notification
when a task completes or fails. Uses sync API.
"""

import sys

from telehook import Notifier
from telehook.formatters import alert_formatter, error_formatter


def main():
    notifier = Notifier()

    try:
        result = do_work()
        notifier.send_sync(
            alert_formatter(
                title="Backup completed",
                app="backup-script",
                details=f"Backed up {result} files",
            )
        )
    except Exception as e:
        notifier.send_sync(
            error_formatter(
                exception=e,
                component="backup",
                app="backup-script",
            )
        )
        sys.exit(1)


def do_work() -> int:
    return 1337


if __name__ == "__main__":
    main()

```

---

## File Overview

### cli-script.py

**Purpose & Responsibility:**
This Python script serves as a simple command-line interface (CLI) example for sending notifications using the `telehook` library. It demonstrates how to send alerts and error messages upon task completion or failure.

**Key Exports/Interface:**
- No public API is exposed; all functionality is encapsulated within the `main()` function.
- Utilizes `Notifier`, `alert_formatter`, and `error_formatter` from the `telehook` library.

**Project Integration:**
This script fits into the larger Telehook project by showcasing a practical use case for sending notifications. It can be used as a template or reference for integrating similar notification mechanisms in other scripts within the repository.

**Design Decisions:**
- **Synchronous API Usage:** The script uses synchronous methods to send notifications, ensuring simplicity and ease of understanding.
- **Exception Handling:** Errors are caught and handled by sending an error message via `telehook`, followed by a program exit with status code 1.
- **Modular Formatters:** Utilizes formatters from the `telehook.formatters` module for structured alert and error messages, promoting consistency in notification content.

This script exemplifies how to integrate real-time notifications into CLI applications using Telehook.

---

*Generated by CodeWorm on 2026-03-01 09:55*
