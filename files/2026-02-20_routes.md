# routes

**Type:** File Overview
**Repository:** my-portfolio
**File:** v1/backend/app/blog/routes.py
**Language:** python
**Lines:** 1-107
**Complexity:** 0.0

---

## Source Code

```python
"""
â’¸AngelaMos | 2025
routes.py
"""

from uuid import UUID

from fastapi import APIRouter, Query

import config
from config import BlogCategory
from core.dependencies import QueryLanguage
from core.responses import NOT_FOUND_404
from .dependencies import BlogServiceDep
from .schemas import (
    BlogBriefResponse,
    BlogListResponse,
    BlogResponse,
)


router = APIRouter(prefix = "/blogs", tags = ["blogs"])


@router.get(
    "",
    response_model = BlogListResponse,
)
async def list_blogs(
    service: BlogServiceDep,
    lang: QueryLanguage,
    skip: int = Query(default = config.PAGINATION_DEFAULT_SKIP,
                      ge = 0),
    limit: int = Query(
        default = config.PAGINATION_DEFAULT_LIMIT,
        ge = 1,
        le = config.PAGINATION_MAX_LIMIT
    ),
) -> BlogListResponse:
    """
    List all visible blog posts for the specified language.
    """
    return await service.list_visible(lang, skip, limit)


@router.get(
    "/featured",
    response_model = list[BlogResponse],
)
async def list_featured_blogs(
    service: BlogServiceDep,
    lang: QueryLanguage,
    limit: int = Query(
        default = config.PAGINATION_FEATURED_LIMIT,
        ge = 1,
        le = config.PAGINATION_FEATURED_MAX_LIMIT
    ),
) -> list[BlogResponse]:
    """
    List featured blog posts for the overview page.
    """
    return await service.list_featured(lang, limit)


@router.get(
    "/nav",
    response_model = list[BlogBriefResponse],
)
async def get_blog_nav(
    service: BlogServiceDep,
    lang: QueryLanguage,
) -> list[BlogBriefResponse]:
    """
    Get brief blog data for sidebar navigation.
    """
    return await service.get_nav_items(lang)


@router.get(
    "/category/{category}",
    response_model = list[BlogResponse],
)
async def list_blogs_by_category(
    service: BlogServiceDep,
    category: BlogCategory,
    lang: QueryLanguage,
) -> list[BlogResponse]:
    """
    List blog posts by category.
    """
    return await service.list_by_category(category, lang)


@router.get(
    "/{blog_id}",
    response_model = BlogResponse,
    responses = {**NOT_FOUND_404},
)
async def get_blog(
    service: BlogServiceDep,
    blog_id: UUID,
) -> BlogResponse:
    """
    Get a single blog post by ID.
    """
    return await service.get_by_id(blog_id)

```

---

## File Overview

# routes.py Documentation

**Purpose and Responsibility:**
This file defines the API endpoints for managing blog posts within a FastAPI application. It handles listing, fetching, and categorizing blog entries based on various criteria.

**Key Exports or Public Interface:**
- `list_blogs`: Lists all visible blog posts.
- `list_featured_blogs`: Lists featured blog posts for the overview page.
- `get_blog_nav`: Retrieves brief blog data for sidebar navigation.
- `list_blogs_by_category`: Lists blog posts by category.
- `get_blog`: Fetches a single blog post by ID.

**How it Fits in the Project:**
This file is part of the backend service layer, specifically handling blog-related operations. It integrates with the `BlogServiceDep` dependency to interact with the underlying data storage and business logic. The endpoints are tagged as "blogs" for easy identification and management within the API documentation.

**Notable Design Decisions:**
- Use of FastAPI's `APIRouter` for organizing related routes.
- Dependency injection through `BlogServiceDep` to maintain clean separation of concerns.
- Pagination support with configurable limits and skips.
- Integration of query language dependency to handle multilingual content.
- Custom response models for structured data representation.
```

This documentation provides a high-level overview of the file's purpose, key exports, integration within the project, and notable design decisions.

---

*Generated by CodeWorm on 2026-02-20 08:47*
