# routes

**Type:** File Overview
**Repository:** my-portfolio
**File:** v1/backend/app/certification/routes.py
**Language:** python
**Lines:** 1-102
**Complexity:** 0.0

---

## Source Code

```python
"""
ⒸAngelaMos | 2025
routes.py
"""

from uuid import UUID

from fastapi import APIRouter, Query

import config
from config import CertificationCategory
from core.dependencies import QueryLanguage
from core.responses import NOT_FOUND_404
from .dependencies import CertificationServiceDep
from .schemas import (
    CertificationBriefResponse,
    CertificationListResponse,
    CertificationResponse,
)


router = APIRouter(prefix = "/certifications", tags = ["certifications"])


@router.get(
    "",
    response_model = CertificationListResponse,
)
async def list_certifications(
    service: CertificationServiceDep,
    lang: QueryLanguage,
    skip: int = Query(default = config.PAGINATION_DEFAULT_SKIP,
                      ge = 0),
    limit: int = Query(
        default = config.PAGINATION_DEFAULT_LIMIT,
        ge = 1,
        le = config.PAGINATION_MAX_LIMIT
    ),
) -> CertificationListResponse:
    """
    List all visible certifications for the specified language.
    """
    return await service.list_visible(lang, skip, limit)


@router.get(
    "/active",
    response_model = list[CertificationResponse],
)
async def list_active_certifications(
    service: CertificationServiceDep,
    lang: QueryLanguage,
) -> list[CertificationResponse]:
    """
    List non-expired certifications.
    """
    return await service.list_active(lang)


@router.get(
    "/badges",
    response_model = list[CertificationBriefResponse],
)
async def get_certification_badges(
    service: CertificationServiceDep,
    lang: QueryLanguage,
) -> list[CertificationBriefResponse]:
    """
    Get brief certification data for overview badges.
    """
    return await service.get_badges(lang)


@router.get(
    "/category/{category}",
    response_model = list[CertificationResponse],
)
async def list_certifications_by_category(
    service: CertificationServiceDep,
    category: CertificationCategory,
    lang: QueryLanguage,
) -> list[CertificationResponse]:
    """
    List certifications by category.
    """
    return await service.list_by_category(category, lang)


@router.get(
    "/{certification_id}",
    response_model = CertificationResponse,
    responses = {**NOT_FOUND_404},
)
async def get_certification(
    service: CertificationServiceDep,
    certification_id: UUID,
) -> CertificationResponse:
    """
    Get a single certification by ID.
    """
    return await service.get_by_id(certification_id)

```

---

## File Overview

### routes.py

**Purpose and Responsibility:**
This file defines the API endpoints for managing certifications within a FastAPI application. It handles listing, filtering, and retrieving certification data based on various criteria.

**Key Exports and Public Interface:**
- `list_certifications`: Lists all visible certifications.
- `list_active_certifications`: Lists non-expired certifications.
- `get_certification_badges`: Retrieves brief certification data for overview badges.
- `list_certifications_by_category`: Lists certifications by category.
- `get_certification`: Fetches a single certification by ID.

**How it Fits in the Project:**
This file is part of the backend API layer, specifically handling CRUD operations related to certifications. It interacts with the `CertificationServiceDep` dependency for data retrieval and manipulation, ensuring that all requests are processed according to the service's logic.

**Notable Design Decisions:**
- Utilizes FastAPI’s routing and query parameter validation features.
- Implements pagination through query parameters (`skip`, `limit`).
- Ensures type safety with response models and dependencies.
- Handles 404 errors gracefully using custom responses.
```

This documentation provides a high-level overview of the file's purpose, key exports, integration within the project, and notable design choices.

---

*Generated by CodeWorm on 2026-02-20 08:54*
