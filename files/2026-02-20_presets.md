# presets

**Type:** File Overview
**Repository:** pyproject-setup
**File:** src/pyproject_setup/presets.py
**Language:** python
**Lines:** 1-402
**Complexity:** 0.0

---

## Source Code

```python
"""
AngelaMos | 2025
presets.py
"""

from typing import Any
from dataclasses import (
    field,
    dataclass,
)


@dataclass
class Preset:
    """
    Configuration preset for pyproject.toml generation
    """
    name: str
    description: str
    dependencies: list[str] = field(default_factory = list)
    dev_dependencies: list[str] = field(default_factory = list)
    entry_point: str | None = None


FASTAPI_DEPS = [
    "fastapi-cli>=0.0.16,<0.1.0",
    "pydantic>=2.12.5,<3.0.0",
    "pydantic-settings>=2.12.0,<3.0.0",
    "psycopg2-binary>=2.9.11,<3.0.0",
    "sqlalchemy>=2.0.32,<3.0.0",
    "alembic>=1.17.2,<2.0.0",
    "asyncpg>=0.31.0,<1.0.0",
    "python-multipart>=0.0.20,<0.1.0",
    "pyjwt>=2.10.1,<3.0.0",
    "pwdlib[argon2]>=0.3.0,<0.4.0",
    "uuid6>=2025.0.1,<2026.0.0",
    "slowapi>=0.1.9,<0.2.0",
    "redis>=7.1.0,<8.0.0",
    "structlog>=25.5.0,<26.0.0",
    "gunicorn>=23.0.0,<24.0.0",
    "uvicorn[standard]>=0.38.0,<0.39.0",
]

FASTAPI_DEV_DEPS = [
    "pytest>=9.0.2,<10.0.0",
    "pytest-asyncio>=1.3.0,<2.0.0",
    "pytest-cov>=7.0.0,<8.0.0",
    "httpx>=0.28.1,<0.29.0",
    "aiosqlite>=0.21.0,<0.22.0",
    "asgi-lifespan>=2.1.0,<3.0.0",
    "mypy>=1.19.0,<2.0.0",
    "types-redis>=4.6.0.20241004,<5.0.0",
    "ruff>=0.14.8,<0.15.0",
    "ty>=0.0.1a32,<0.1.0",
    "pre-commit>=4.5.0,<5.0.0",
    "pylint>=4.0.4,<5.0.0",
    "pylint-pydantic>=0.4.1,<0.5.0",
    "pylint-per-file-ignores>=3.2.0,<4.0.0",
]

LIBRARY_DEV_DEPS = [
    "pytest>=9.0.2,<10.0.0",
    "pytest-cov>=7.0.0,<8.0.0",
    "httpx>=0.28.1,<0.29.0",
    "mypy>=1.19.0,<2.0.0",
    "ruff>=0.14.8,<0.15.0",
    "ty>=0.0.1a32,<0.1.0",
    "pre-commit>=4.5.0,<5.0.0",
    "pylint>=4.0.4,<5.0.0",
]

CLI_DEPS = [
    "typer>=0.20.0,<0.21.0",
    "rich>=14.2.0,<15.0.0",
]

CLI_DEV_DEPS = [
    "pytest>=9.0.2,<10.0.0",
    "pytest-cov>=7.0.0,<8.0.0",
    "mypy>=1.19.0,<2.0.0",
    "ruff>=0.14.8,<0.15.0",
    "ty>=0.0.1a32,<0.1.0",
    "pre-commit>=4.5.0,<5.0.0",
    "pylint>=4.0.4,<5.0.0",
]

PRESETS: dict[
    str,
    Preset] = {
        "fastapi-backend":
        Preset(
            name = "fastapi-backend",
            description = "FastAPI async backend with SQLAlchemy + JWT",
            dependencies = FASTAPI_DEPS,
            dev_dependencies = FASTAPI_DEV_DEPS,
        ),
        "library":
        Preset(
            name = "library",
            description = "Python library (no runtime deps)",
            dependencies = [],
            dev_dependencies = LIBRARY_DEV_DEPS,
        ),
        "cli-tool":
        Preset(
            name = "cli-tool",
            description = "CLI tool with Typer + Rich",
            dependencies = CLI_DEPS,
            dev_dependencies = CLI_DEV_DEPS,
            entry_point = "main:app",
        ),
    }


def get_ruff_config(package_path: str) -> dict[str, Any]:
    """
    Return ruff configuration section.
    """
    return {
        "target-version": "py312",
        "line-length": 88,
        "src": [package_path],
        
```

---

## File Overview

### File Purpose and Responsibility

This Python source file, `presets.py`, defines configuration presets for generating `pyproject.toml` files. It includes predefined sets of dependencies and development dependencies for different types of projects such as FastAPI backends, libraries, and CLI tools.

### Key Exports or Public Interface

- **Preset Class**: A dataclass representing a project preset with fields for name, description, dependencies, dev_dependencies, and entry_point.
- **PRESETS Dictionary**: Contains predefined presets for "fastapi-backend", "library", and "cli-tool".
- **get_ruff_config Function**: Returns Ruff configuration settings based on the provided package path.
- **get_mypy_config Function**: Returns MyPy configuration settings based on the provided package path.

### How It Fits in the Project

This file is a crucial component of the `pyproject-setup` project, providing standardized configurations for different types of projects. These presets are used to generate `pyproject.toml` files with appropriate dependencies and development tools, ensuring consistency across various project setups.

### Notable Design Decisions

- **Dataclass Usage**: The `Preset` class uses Python's `dataclasses` module to define structured data, making it easy to manage configuration details.
- **Type Hints**: Extensive use of type hints ensures that the code is self-documenting and easier to maintain.
- **Predefined Presets**: The `PRESETS` dictionary contains predefined configurations for common project types, reducing boilerplate code when setting up new projects.
- **Configuration Functions**: `get_ruff_config` and `get_mypy_config` provide flexible ways to generate configuration files based on the package path, enhancing customization options.

---

*Generated by CodeWorm on 2026-02-20 21:10*
