# log

**Type:** File Overview
**Repository:** ios-test
**File:** red-recon/app/(app)/(tabs)/log.tsx
**Language:** tsx
**Lines:** 1-504
**Complexity:** 0.0

---

## Source Code

```tsx
/**
 * @AngelaMos | 2026
 * log.tsx
 */

import {
  useCreateDailyLog,
  useDailyLogByDate,
  useUpdateDailyLog,
} from '@/api/hooks'
import { Mood, MOOD_LABELS, VALID_SYMPTOMS, type DailyLogCreate } from '@/api/types'
import { DottedBackground } from '@/shared/components'
import { haptics } from '@/shared/utils'
import { colors } from '@/theme/tokens'
import {
  Check,
  ChevronLeft,
  ChevronRight,
  Frown,
  Hand,
  Meh,
  Smile,
  Sun,
  Swords,
  Zap,
} from 'lucide-react-native'
import type React from 'react'
import { useCallback, useEffect, useMemo, useState } from 'react'
import { Pressable, ScrollView } from 'react-native'
import { SafeAreaView } from 'react-native-safe-area-context'
import { Stack, Text, TextArea, XStack, YStack } from 'tamagui'

const MOOD_OPTIONS = [
  { value: Mood.GREAT, icon: Sun, color: '#f59e0b' },
  { value: Mood.GOOD, icon: Smile, color: '#22c55e' },
  { value: Mood.MEH, icon: Meh, color: '#64748b' },
  { value: Mood.ROUGH, icon: Frown, color: '#f97316' },
  { value: Mood.JUST_NOD, icon: Hand, color: '#ec4899' },
  { value: Mood.PICK_YOUR_BATTLES, icon: Swords, color: '#dc2626' },
] as const

const ENERGY_LEVELS = [1, 2, 3, 4, 5] as const

function MoodSelector({
  selected,
  onChange,
}: {
  selected: Mood | null
  onChange: (mood: Mood) => void
}): React.ReactElement {
  return (
    <Stack
      backgroundColor="$bgSurface100"
      borderWidth={1}
      borderColor="$borderDefault"
      borderRadius="$3"
      padding="$5"
    >
      <Text fontSize={14} fontWeight="600" color="$textDefault" marginBottom="$4" fontFamily="$body">
        How's she doing?
      </Text>
      <XStack flexWrap="wrap" gap="$2">
        {MOOD_OPTIONS.map(({ value, icon: Icon, color }) => {
          const isSelected = selected === value
          return (
            <Pressable
              key={value}
              onPress={() => {
                haptics.selection()
                onChange(value)
              }}
            >
              <Stack
                paddingVertical="$2.5"
                paddingHorizontal="$3"
                borderRadius="$2"
                borderWidth={1}
                borderColor={isSelected ? color : '$borderDefault'}
                backgroundColor={isSelected ? `${color}20` : '$bgSurface200'}
                flexDirection="row"
                alignItems="center"
                gap="$2"
              >
                <Icon
                  size={16}
                  color={color}
                />
                <Text
                  fontSize={13}
                  color={isSelected ? '$textDefault' : '$textLight'}
                  fontWeight="500"
                  fontFamily="$body"
                >
                  {MOOD_LABELS[value]}
                </Text>
              </Stack>
            </Pressable>
          )
        })}
      </XStack>
    </Stack>
  )
}

function EnergySelector({
  selected,
  onChange,
}: {
  selected: number | null
  onChange: (level: number
```

---

## File Overview

### log.tsx

**Purpose and Responsibility:**
This file is responsible for rendering the daily log entry screen, allowing users to input their mood, energy level, symptoms, and other details. It integrates with API hooks for creating and updating logs.

**Key Exports or Public Interface:**
- `MoodSelector`: A component for selecting a user's mood.
- `EnergySelector`: A component for choosing an energy level.
- `SymptomSelector`: A component for toggling symptoms on or off.

**How it Fits in the Project:**
This file is part of the logging feature, which is crucial for tracking daily health and well-being. It interacts with other components and APIs to provide a seamless user experience. The log entry screen is one of several tabs within the main application navigation.

**Notable Design Decisions:**
- **State Management:** Uses React hooks like `useState` and `useEffect` to manage state.
- **UI Components:** Utilizes Tamagui for styling, ensuring consistent and modern UI design.
- **Haptics Feedback:** Implements haptic feedback using the `haptics.selection()` function to provide user feedback on interactions.
- **Iconography:** Uses Lucide icons for visual representation of moods and energy levels, enhancing usability.
```

This documentation provides an overview of the file's role within the project, its key components, and design choices.

---

*Generated by CodeWorm on 2026-02-20 14:31*
