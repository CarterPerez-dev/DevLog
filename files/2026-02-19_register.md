# register

**Type:** File Overview
**Repository:** fullstack-template
**File:** frontends/react-native-ios/app/(auth)/register.tsx
**Language:** tsx
**Lines:** 1-165
**Complexity:** 0.0

---

## Source Code

```tsx
/**
 * @AngelaMos | 2026
 * register.tsx
 */

import { useRegister } from '@/api/hooks'
import { userCreateRequestSchema } from '@/api/types'
import { PASSWORD_CONSTRAINTS } from '@/core/config'
import {
  Button,
  Card,
  CardContent,
  CardFooter,
  CardFooterLink,
  CardFooterText,
  CardHeader,
  CardSubtitle,
  CardTitle,
  DottedBackground,
  Input,
  PasswordInput,
} from '@/shared/components'
import { haptics } from '@/shared/utils'
import { Link, router } from 'expo-router'
import type React from 'react'
import { useState } from 'react'
import { KeyboardAvoidingView, Platform, ScrollView } from 'react-native'
import { Stack, Text, YStack } from 'tamagui'
import { z } from 'zod'

const registerFormSchema = userCreateRequestSchema
  .extend({
    confirmPassword: z
      .string()
      .min(
        PASSWORD_CONSTRAINTS.MIN_LENGTH,
        `Password must be at least ${PASSWORD_CONSTRAINTS.MIN_LENGTH} characters`
      )
      .max(PASSWORD_CONSTRAINTS.MAX_LENGTH),
  })
  .refine((data) => data.password === data.confirmPassword, {
    message: 'Passwords do not match',
    path: ['confirmPassword'],
  })

export default function RegisterScreen(): React.ReactElement {
  const register = useRegister()

  const [email, setEmail] = useState('')
  const [password, setPassword] = useState('')
  const [confirmPassword, setConfirmPassword] = useState('')
  const [error, setError] = useState<string | null>(null)

  const handleSubmit = (): void => {
    setError(null)

    const result = registerFormSchema.safeParse({
      email,
      password,
      confirmPassword,
    })

    if (!result.success) {
      const firstError = result.error.issues[0]
      setError(firstError.message)
      haptics.error()
      return
    }

    register.mutate(
      { email: result.data.email, password: result.data.password },
      {
        onSuccess: () => {
          haptics.success()
          router.replace('/(auth)/login')
        },
        onError: (err) => {
          setError(err.message)
          haptics.error()
        },
      }
    )
  }

  return (
    <DottedBackground>
      <KeyboardAvoidingView
        behavior={Platform.OS === 'ios' ? 'padding' : 'height'}
        style={{ flex: 1 }}
      >
        <ScrollView
          contentContainerStyle={{
            flexGrow: 1,
            justifyContent: 'center',
            padding: 16,
            paddingTop: 60,
          }}
          keyboardShouldPersistTaps="handled"
        >
          <YStack alignItems="center">
            <Card>
            <CardHeader>
              <CardTitle>Sign up</CardTitle>
              <CardSubtitle>Create a new account</CardSubtitle>
            </CardHeader>

            <CardContent>
              <Input
                label="Email"
                placeholder="xxx@example.com"
                value={email}
                onChangeText={setEmail}
                autoCapitalize="none"
                autoCorrect={false}
                keyboardType="email-
```

---

## File Overview

### register.tsx Documentation

**Purpose and Responsibility:**
This file is responsible for implementing the user registration screen in a React Native application using Expo Router. It handles form validation, user input, and interaction with an API to create new user accounts.

**Key Exports or Public Interface:**
- `RegisterScreen`: The main component that renders the registration form and handles submission logic.

**How it Fits into the Project:**
`register.tsx` is part of the authentication flow in the application. It integrates with the `/auth` route, providing a user-friendly interface for new users to sign up. This screen is crucial for expanding the user base and ensuring secure account creation.

**Notable Design Decisions:**
- **Form Validation:** The `registerFormSchema` uses Zod for robust validation, ensuring that passwords meet specific constraints before submission.
- **Error Handling:** Errors are displayed immediately upon form submission, providing clear feedback to users. Haptic feedback is used to enhance user experience by giving tactile responses.
- **Component Reusability:** React components like `Card`, `Input`, and `PasswordInput` from the shared library are leveraged for consistent styling and behavior across the application.
- **Routing Integration:** The screen uses Expo Router for navigation, seamlessly redirecting users to the login page upon successful registration.

This file plays a vital role in the user onboarding process, ensuring that new accounts are created securely and efficiently.

---

*Generated by CodeWorm on 2026-02-19 16:56*
