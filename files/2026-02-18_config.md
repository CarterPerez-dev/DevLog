# config

**Type:** File Overview
**Repository:** Cybersecurity-Projects
**File:** TEMPLATES/fullstack-template/backend/app/config.py
**Language:** python
**Lines:** 1-166
**Complexity:** 0.0

---

## Source Code

```python
"""
â’¸AngelaMos | 2025
config.py
"""

from pathlib import Path
from typing import Literal
from functools import lru_cache

from pydantic import (
    EmailStr,
    Field,
    RedisDsn,
    SecretStr,
    PostgresDsn,
    model_validator,
)
from pydantic_settings import (
    BaseSettings,
    SettingsConfigDict,
)

from core.constants import (
    API_PREFIX,
    API_VERSION,
    DEVICE_ID_MAX_LENGTH,
    DEVICE_NAME_MAX_LENGTH,
    EMAIL_MAX_LENGTH,
    FULL_NAME_MAX_LENGTH,
    IP_ADDRESS_MAX_LENGTH,
    PASSWORD_HASH_MAX_LENGTH,
    PASSWORD_MAX_LENGTH,
    PASSWORD_MIN_LENGTH,
    TOKEN_HASH_LENGTH,
)
from core.enums import (
    Environment,
    HealthStatus,
    SafeEnum,
    TokenType,
    UserRole,
)


__all__ = [
    "API_PREFIX",
    "API_VERSION",
    "DEVICE_ID_MAX_LENGTH",
    "DEVICE_NAME_MAX_LENGTH",
    "EMAIL_MAX_LENGTH",
    "FULL_NAME_MAX_LENGTH",
    "IP_ADDRESS_MAX_LENGTH",
    "PASSWORD_HASH_MAX_LENGTH",
    "PASSWORD_MAX_LENGTH",
    "PASSWORD_MIN_LENGTH",
    "TOKEN_HASH_LENGTH",
    "Environment",
    "HealthStatus",
    "SafeEnum",
    "Settings",
    "TokenType",
    "UserRole",
    "get_settings",
    "settings",
]

_PROJECT_ROOT = Path(__file__).resolve().parent.parent.parent
_ENV_FILE = _PROJECT_ROOT / ".env"


class Settings(BaseSettings):
    """
    Application settings loaded from environment variables
    """
    model_config = SettingsConfigDict(
        env_file = _ENV_FILE,
        env_file_encoding = "utf-8",
        case_sensitive = False,
        extra = "ignore",
    )

    APP_NAME: str = "FastAPI Template"
    APP_VERSION: str = "1.0.0"
    APP_SUMMARY: str = "Developed CarterPerez-dev"
    APP_DESCRIPTION: str = "FastAPI async first boilerplate - JWT, Asyncdb, PostgreSQL"
    APP_CONTACT_NAME: str = "AngelaMos LLC"
    APP_CONTACT_EMAIL: str = "support@certgames.com"
    APP_LICENSE_NAME: str = "MIT"
    APP_LICENSE_URL: str = "https://github.com/CarterPerez-dev/fullstack-template/docs/templates/MIT"

    ENVIRONMENT: Environment = Environment.DEVELOPMENT
    DEBUG: bool = False

    HOST: str = "0.0.0.0"
    PORT: int = 8000
    RELOAD: bool = True

    DATABASE_URL: PostgresDsn
    DB_POOL_SIZE: int = Field(default = 20, ge = 5, le = 100)
    DB_MAX_OVERFLOW: int = Field(default = 10, ge = 0, le = 50)
    DB_POOL_TIMEOUT: int = Field(default = 30, ge = 10)
    DB_POOL_RECYCLE: int = Field(default = 1800, ge = 300)

    SECRET_KEY: SecretStr = Field(..., min_length = 32)
    JWT_ALGORITHM: Literal["HS256", "HS384", "HS512"] = "HS256"
    ACCESS_TOKEN_EXPIRE_MINUTES: int = Field(default = 15, ge = 5, le = 60)
    REFRESH_TOKEN_EXPIRE_DAYS: int = Field(default = 7, ge = 1, le = 30)

    ADMIN_EMAIL: EmailStr | None = None

    REDIS_URL: RedisDsn | None = None

    CORS_ORIGINS: list[str] = [
        "http://localhost",
        "http://localhost:3420",
        "http://localhost:8420",
    ]
    CORS_ALLOW_CREDENTIALS: bool = True
    CORS_ALLOW_METHODS: list[str] = [
        "GET",
        "POST",
      
```

---

## File Overview

### Purpose and Responsibility

This `config.py` file is responsible for defining and managing application settings, including environment-specific configurations and security parameters. It leverages Pydantic for structured configuration parsing from environment variables.

### Key Exports and Public Interface

- **Settings**: A Pydantic model class that loads application settings from the `.env` file.
- **get_settings()**: A cached function to retrieve a singleton instance of `Settings`.
- **settings**: The global instance of `Settings`, providing easy access throughout the application.

### How It Fits into the Project

This configuration file serves as the central hub for all environment-specific and security-related settings. It ensures that critical parameters such as database URLs, secret keys, CORS origins, and rate limits are properly defined and enforced. By using Pydantic, it also provides type safety and validation for these configurations.

### Notable Design Decisions

1. **Environment Variables**: Settings are loaded from a `.env` file, making the configuration flexible and easy to manage across different environments.
2. **Pydantic Validation**: The `Settings` class uses Pydantic's validators to enforce constraints on settings values, ensuring security and correctness.
3. **Caching**: The `get_settings()` function is decorated with `lru_cache` to avoid redundant parsing of environment variables, improving performance.
4. **Security Constraints**: Enforced in the `validate_production_settings` method to ensure that certain settings are not relaxed in production environments, such as disabling debug mode and restricting CORS origins.

This setup ensures a robust and maintainable configuration management system for the application.

---

*Generated by CodeWorm on 2026-02-18 18:42*
