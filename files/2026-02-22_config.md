# config

**Type:** File Overview
**Repository:** angelamos-operations
**File:** CarterOS-Server/src/config.py
**Language:** python
**Lines:** 1-165
**Complexity:** 0.0

---

## Source Code

```python
"""
â’¸AngelaMos | 2025
config.py
"""

from pathlib import Path
from typing import Literal
from functools import lru_cache

from pydantic import (
    Field,
    RedisDsn,
    SecretStr,
    PostgresDsn,
    model_validator,
)
from pydantic_settings import (
    BaseSettings,
    SettingsConfigDict,
)

from core.constants import (
    API_PREFIX,
    API_VERSION,
    CONTACT_EMAIL_MAX_LENGTH,
    CONTACT_NAME_MAX_LENGTH,
    DEVICE_ID_MAX_LENGTH,
    DEVICE_NAME_MAX_LENGTH,
    EMAIL_MAX_LENGTH,
    FULL_NAME_MAX_LENGTH,
    IDENTITY_NAME_MAX_LENGTH,
    IP_ADDRESS_MAX_LENGTH,
    JOB_URL_MAX_LENGTH,
    LOCATION_MAX_LENGTH,
    NOTES_MAX_LENGTH,
    PASSWORD_HASH_MAX_LENGTH,
    PASSWORD_MAX_LENGTH,
    PASSWORD_MIN_LENGTH,
    POSITION_TITLE_MAX_LENGTH,
    SOURCE_MAX_LENGTH,
    TOKEN_HASH_LENGTH,
)
from core.enums import (
    Environment,
    HealthStatus,
    SafeEnum,
    TokenType,
    UserRole,
)


_PROJECT_ROOT = Path(__file__).resolve().parent.parent.parent
_ENV_FILE = _PROJECT_ROOT / ".env"


class Settings(BaseSettings):
    """
    Application settings loaded from environment variables
    """
    model_config = SettingsConfigDict(
        env_file = _ENV_FILE,
        env_file_encoding = "utf-8",
        case_sensitive = False,
        extra = "ignore",
    )

    APP_NAME: str = "FastAPI Template"
    APP_VERSION: str = "1.0.0"
    APP_SUMMARY: str = "FastAPI Backend Template"
    APP_DESCRIPTION: str = "Async first boilerplate - JWT, Asyncdb, PostgreSQL"
    APP_CONTACT_NAME: str = "AngelaMos"
    APP_CONTACT_EMAIL: str = "support@certgames.com"
    APP_LICENSE_NAME: str = "MIT"
    APP_LICENSE_URL: str = "https://github.com/CarterPerez-dev/fullstack-template/docs/templates/MIT"

    ENVIRONMENT: Environment = Environment.DEVELOPMENT
    DEBUG: bool = False

    HOST: str = "0.0.0.0"
    PORT: int = 8000
    RELOAD: bool = True

    DATABASE_URL: PostgresDsn
    DB_POOL_SIZE: int = Field(default = 20, ge = 5, le = 100)
    DB_MAX_OVERFLOW: int = Field(default = 10, ge = 0, le = 50)
    DB_POOL_TIMEOUT: int = Field(default = 30, ge = 10)
    DB_POOL_RECYCLE: int = Field(default = 1800, ge = 300)

    SECRET_KEY: SecretStr = Field(..., min_length = 32)
    JWT_ALGORITHM: Literal["HS256", "HS384", "HS512"] = "HS256"
    ACCESS_TOKEN_EXPIRE_MINUTES: int = Field(default = 15, ge = 5, le = 60)
    REFRESH_TOKEN_EXPIRE_DAYS: int = Field(default = 30, ge = 1, le = 90)

    REDIS_URL: RedisDsn | None = None
    REDIS_MAX_CONNECTIONS: int = Field(default = 50, ge = 10, le = 200)
    REDIS_SOCKET_TIMEOUT: float = Field(default = 5.0, ge = 1.0)
    REDIS_SOCKET_CONNECT_TIMEOUT: float = Field(default = 2.0, ge = 0.5)
    REDIS_HEALTH_CHECK_INTERVAL: int = Field(default = 30, ge = 10)
    REDIS_DECODE_RESPONSES: bool = True

    CACHE_DEFAULT_TTL: int = Field(default = 300, ge = 60)
    CACHE_VERSION: str = "v1"
    CACHE_KEY_PREFIX: str = "carteros"

    CORS_ORIGINS: list[str] = [
        "http://localhost",
        "http://localhost:3420",
  
```

---

## File Overview

### config.py

**Purpose and Responsibility:**
This file defines the application settings using Pydantic, loading configuration from environment variables. It ensures that critical security constraints are enforced, especially in a production environment.

**Key Exports or Public Interface:**
- `Settings`: A Pydantic model for application settings.
- `get_settings()`: A cached function to retrieve the settings instance.

**How it Fits into the Project:**
This file serves as the central configuration hub for the FastAPI backend template. It provides essential parameters such as database URLs, security keys, and API details. The settings are used throughout the application via the `settings` object, ensuring consistency in configurations across different modules.

**Notable Design Decisions:**
- **Caching**: The `get_settings()` function uses an LRU cache to avoid redundant parsing of environment variables.
- **Security Constraints**: Enforced checks ensure that certain settings (e.g., `DEBUG`, CORS origins) are not used improperly, especially in production environments.
- **Pydantic Validation**: Model validation ensures type safety and enforces constraints on configuration values.

This file is crucial for maintaining the application's flexibility and security, making it easy to adjust configurations without altering code directly.

---

*Generated by CodeWorm on 2026-02-22 18:58*
