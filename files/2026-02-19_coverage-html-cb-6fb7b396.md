# coverage_html_cb_6fb7b396

**Type:** File Overview
**Repository:** CertGames-Core
**File:** backend/devtools/pytest/coverage-html/coverage_html_cb_6fb7b396.js
**Language:** javascript
**Lines:** 1-734
**Complexity:** 0.0

---

## Source Code

```javascript
// Licensed under the Apache License: http://www.apache.org/licenses/LICENSE-2.0
// For details: https://github.com/nedbat/coveragepy/blob/master/NOTICE.txt

// Coverage.py HTML report browser code.
/*jslint browser: true, sloppy: true, vars: true, plusplus: true, maxerr: 50, indent: 4 */
/*global coverage: true, document, window, $ */

coverage = {};

// General helpers
function debounce(callback, wait) {
    let timeoutId = null;
    return function(...args) {
        clearTimeout(timeoutId);
        timeoutId = setTimeout(() => {
            callback.apply(this, args);
        }, wait);
    };
};

function checkVisible(element) {
    const rect = element.getBoundingClientRect();
    const viewBottom = Math.max(document.documentElement.clientHeight, window.innerHeight);
    const viewTop = 30;
    return !(rect.bottom < viewTop || rect.top >= viewBottom);
}

function on_click(sel, fn) {
    const elt = document.querySelector(sel);
    if (elt) {
        elt.addEventListener("click", fn);
    }
}

// Helpers for table sorting
function getCellValue(row, column = 0) {
    const cell = row.cells[column]  // nosemgrep: eslint.detect-object-injection
    if (cell.childElementCount == 1) {
        var child = cell.firstElementChild;
        if (child.tagName === "A") {
            child = child.firstElementChild;
        }
        if (child instanceof HTMLDataElement && child.value) {
            return child.value;
        }
    }
    return cell.innerText || cell.textContent;
}

function rowComparator(rowA, rowB, column = 0) {
    let valueA = getCellValue(rowA, column);
    let valueB = getCellValue(rowB, column);
    if (!isNaN(valueA) && !isNaN(valueB)) {
        return valueA - valueB;
    }
    return valueA.localeCompare(valueB, undefined, {numeric: true});
}

function sortColumn(th) {
    // Get the current sorting direction of the selected header,
    // clear state on other headers and then set the new sorting direction.
    const currentSortOrder = th.getAttribute("aria-sort");
    [...th.parentElement.cells].forEach(header => header.setAttribute("aria-sort", "none"));
    var direction;
    if (currentSortOrder === "none") {
        direction = th.dataset.defaultSortOrder || "ascending";
    }
    else if (currentSortOrder === "ascending") {
        direction = "descending";
    }
    else {
        direction = "ascending";
    }
    th.setAttribute("aria-sort", direction);

    const column = [...th.parentElement.cells].indexOf(th)

    // Sort all rows and afterwards append them in order to move them in the DOM.
    Array.from(th.closest("table").querySelectorAll("tbody tr"))
        .sort((rowA, rowB) => rowComparator(rowA, rowB, column) * (direction === "ascending" ? 1 : -1))
        .forEach(tr => tr.parentElement.appendChild(tr));

    // Save the sort order for next time.
    if (th.id !== "region") {
        let th_id = "file";  // Sort by file if we don't have a column id
        let current_direction = direction;
        const s
```

---

## File Overview

### Documentation for `coverage_html_cb_6fb7b396.js`

**File Purpose and Responsibility:**
This JavaScript file is part of a coverage report browser for Coverage.py, responsible for enhancing user interaction with HTML reports generated by the tool. It handles dynamic sorting of table data, event handling for filtering and shortcuts, and ensures that user preferences are saved across sessions.

**Key Exports or Public Interface:**
- `debounce`: A utility function to debounce event handlers.
- `checkVisible`: Determines if an element is currently visible in the viewport.
- `on_click`: Attaches click event listeners to specified elements.
- `getCellValue`: Retrieves and processes cell values for sorting.
- `rowComparator`: Compares two rows based on a given column.
- `sortColumn`: Sorts table columns and updates user preferences.
- `assign_shortkeys`: Assigns keyboard shortcuts to elements with `data-shortcut` attributes.
- `wire_up_filter`: Sets up event listeners for the filter box, restoring saved values.

**How It Fits in the Project:**
This file is integral to the Coverage.py HTML report browser, providing interactive features that enhance usability. It works alongside other components like the main HTML structure and backend logic to deliver a comprehensive coverage analysis tool.

**Notable Design Decisions:**
- **Debouncing**: Utilizes debouncing for event handlers to prevent excessive reactivity.
- **LocalStorage**: Saves user preferences such as sorting order and filter settings, ensuring persistence across sessions.
- **Sorting Logic**: Implements efficient row comparison and DOM manipulation to update table sorting dynamically.

---

*Generated by CodeWorm on 2026-02-19 11:38*
