# custom-formatter

**Type:** File Overview
**Repository:** Telehook
**File:** docs/examples/custom-formatter.py
**Language:** python
**Lines:** 1-67
**Complexity:** 0.0

---

## Source Code

```python
"""
Â©AngelaMos | 2026
custom-formatter.py

Example: writing custom formatters for domain-specific notifications.
"""

import asyncio

from telehook import Notifier


def deploy_formatter(
    service: str,
    version: str,
    environment: str,
    status: str,
) -> str:
    emoji = "\u2705" if status == "success" else "\U0001f534"
    return (
        f"{emoji} <b>Deploy: {service}</b>\n"
        f"\n"
        f"<b>Version:</b> <code>{version}</code>\n"
        f"<b>Environment:</b> {environment}\n"
        f"<b>Status:</b> {status}"
    )


def payment_formatter(
    amount: float,
    currency: str,
    customer: str,
    status: str,
) -> str:
    emoji = "\U0001f4b0" if status == "success" else "\u274c"
    return (
        f"{emoji} <b>Payment {status}</b>\n"
        f"\n"
        f"<b>Amount:</b> {amount:.2f} {currency}\n"
        f"<b>Customer:</b> {customer}"
    )


async def main():
    async with Notifier() as notifier:
        await notifier.send(
            deploy_formatter(
                service="api-gateway",
                version="v2.3.1",
                environment="production",
                status="success",
            )
        )

        await notifier.send(
            payment_formatter(
                amount=99.99,
                currency="USD",
                customer="alice@example.com",
                status="failed",
            )
        )


if __name__ == "__main__":
    asyncio.run(main())

```

---

## File Overview

# custom-formatter.py

**Purpose:** This Python script demonstrates how to create custom formatters for domain-specific notifications using the `telehook` library, which is part of a larger project for sending notifications via Telegram.

**Key Exports/Interface:**
- `deploy_formatter`: Generates formatted strings for deployment status updates.
- `payment_formatter`: Creates payment-related notification messages.

**Project Fit:** This file serves as an example within the Telehook repository. It showcases how to integrate custom formatters into a notification system, making it easier to handle different types of notifications with consistent formatting.

**Design Decisions:**
- **Asynchronous Operations:** The `main` function uses asynchronous context management for `Notifier`, allowing efficient handling of multiple notifications.
- **Emoji Usage:** Emojis are used to visually indicate the status (e.g., success or failure) in notification messages, enhancing readability and user engagement.
- **Type Hints:** Function parameters include type hints for better code clarity and maintainability.
```

This documentation provides a high-level overview of the file's purpose, key components, integration within the project, and notable design choices.

---

*Generated by CodeWorm on 2026-03-01 08:36*
