# output

**Type:** File Overview
**Repository:** angela
**File:** internal/cli/output.go
**Language:** go
**Lines:** 1-535
**Complexity:** 0.0

---

## Source Code

```go
// Â©AngelaMos | 2026
// output.go

package cli

import (
	"fmt"
	"sort"
	"strings"

	"github.com/CarterPerez-dev/angela/internal/pypi"
	"github.com/CarterPerez-dev/angela/internal/ui"
	"github.com/CarterPerez-dev/angela/pkg/types"
)

func printDivider() {
	fmt.Printf("\n  %s\n", ui.HiBlack(ui.HRule(44)))
}

func printSectionHeader(
	symbol, title string,
	symbolColor, titleColor func(a ...any) string,
) {
	fmt.Printf(
		"\n  %s %s\n",
		symbolColor(symbol),
		titleColor(title),
	)
}

// PrintUpdates displays available dependency updates.
func PrintUpdates(updates []types.UpdateResult) {
	var actionable []types.UpdateResult
	for _, u := range updates {
		if !u.Skipped {
			actionable = append(actionable, u)
		}
	}

	if len(actionable) == 0 {
		printDivider()
		fmt.Printf(
			"\n  %s %s\n",
			ui.HiGreen(ui.Check),
			ui.HiBlackItalic(
				"All dependencies are up to date.",
			),
		)
		return
	}

	printDivider()
	printSectionHeader(
		ui.Diamond, "Updates available",
		ui.Cyan, ui.Red,
	)

	nameWidth := 0
	oldWidth := 0
	for _, u := range actionable {
		if len(u.Name) > nameWidth {
			nameWidth = len(u.Name)
		}
		if len(u.OldVer) > oldWidth {
			oldWidth = len(u.OldVer)
		}
	}

	for _, u := range actionable {
		changeColor := changeColorFn(u.Change)
		fmt.Printf(
			"      %-*s  %s %s %s  %s %s\n",
			nameWidth, ui.HiBlue(u.Name),
			ui.HiBlackCrossed(
				padRight(u.OldVer, oldWidth),
			),
			ui.Green(ui.Arrow),
			changeColor(u.NewVer),
			ui.HiBlack(ui.ArrowRight),
			changeColor(u.Change),
		)
	}
}

// PrintSkipped displays dependencies that were skipped during update.
func PrintSkipped(updates []types.UpdateResult) {
	var skipped []types.UpdateResult
	for _, u := range updates {
		if u.Skipped {
			skipped = append(skipped, u)
		}
	}
	if len(skipped) == 0 {
		return
	}

	printDivider()
	printSectionHeader(
		ui.ArrowRight, "Skipped",
		ui.Yellow, ui.Red,
	)

	for _, u := range skipped {
		fmt.Printf(
			"      %s  %s\n",
			ui.HiBlue(u.Name),
			ui.HiBlackItalic(u.Reason),
		)
	}
}

// PrintVulnerabilities displays found security vulnerabilities.
func PrintVulnerabilities(
	vulns map[string][]types.Vulnerability,
) {
	if len(vulns) == 0 {
		return
	}

	total := 0
	for _, vl := range vulns {
		total += len(vl)
	}

	printDivider()
	fmt.Printf(
		"\n  %s %s %s %s %s %s\n",
		ui.Red(ui.TriangleUp),
		ui.Red("Vulnerabilities:"),
		ui.RedBold(fmt.Sprintf("%d", total)),
		ui.HiBlack("across"),
		ui.RedBold(fmt.Sprintf("%d", len(vulns))),
		ui.HiBlack(pluralize("package", len(vulns))),
	)

	pkgs := sortedVulnPackages(vulns)

	if verbose {
		printVulnsVerbose(pkgs, vulns)
	} else {
		printVulnsCompact(pkgs, vulns)
	}
}

const maxVulnsPerPackage = 5

func printVulnsCompact(
	pkgs []string,
	vulns map[string][]types.Vulnerability,
) {
	for _, pkg := range pkgs {
		vlist := vulns[pkg]
		sortVulnsBySeverity(vlist)

		fmt.Printf(
			"\n      %s %s %s\n",
			ui.Blue(ui.Gem),
			ui.HiCyan(pkg),
			ui.HiBlack(fmt.Sprintf(
				"(%d %s: %s)",
				len(vlist),

```

---

## File Overview

// output.go

This file is responsible for formatting and printing various outputs related to dependency updates, skipped dependencies, and security vulnerabilities in a CLI application. It provides clear and structured visualizations of these data points.

### Key Exports and Public API
- `PrintUpdates`: Displays available dependency updates.
- `PrintSkipped`: Shows skipped dependencies during the update process.
- `PrintVulnerabilities`: Outputs found security vulnerabilities with details or summaries based on verbosity settings.

### How It Fits into the Project
This file is part of the CLI module, which handles user interaction and output. It integrates with other modules like `pypi` for fetching data and `ui` for styling outputs. The structured print functions ensure that the CLI provides a consistent and informative experience to users.

### Notable Design Decisions
- **Error Handling**: Primarily through return values and conditional checks, ensuring robust handling of various output scenarios.
- **Styling**: Uses colorized text and symbols from the `ui` package for better readability and user engagement.
- **Verbosity Control**: Allows for detailed or compact outputs based on command-line flags, enhancing usability across different use cases.
```

This documentation provides a high-level overview of the file's purpose, key functions, integration within the project, and design choices.

---

*Generated by CodeWorm on 2026-02-20 17:32*
