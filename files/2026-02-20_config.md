# config

**Type:** File Overview
**Repository:** ios-test
**File:** fastapi/app/config.py
**Language:** python
**Lines:** 1-174
**Complexity:** 0.0

---

## Source Code

```python
"""
ⒸAngelaMos | 2025
config.py
"""

from pathlib import Path
from typing import Literal
from functools import lru_cache

from pydantic import (
    EmailStr,
    Field,
    RedisDsn,
    SecretStr,
    PostgresDsn,
    model_validator,
)
from pydantic_settings import (
    BaseSettings,
    SettingsConfigDict,
)

from core.constants import (
    API_PREFIX,
    API_VERSION,
    DEVICE_ID_MAX_LENGTH,
    DEVICE_NAME_MAX_LENGTH,
    EMAIL_MAX_LENGTH,
    FULL_NAME_MAX_LENGTH,
    IP_ADDRESS_MAX_LENGTH,
    PASSWORD_HASH_MAX_LENGTH,
    PASSWORD_MAX_LENGTH,
    PASSWORD_MIN_LENGTH,
    TOKEN_HASH_LENGTH,
)
from core.enums import (
    CyclePhase,
    CycleRegularity,
    Environment,
    FlowIntensity,
    HealthStatus,
    Mood,
    SafeEnum,
    TokenType,
    UserRole,
)


__all__ = [
    "API_PREFIX",
    "API_VERSION",
    "CyclePhase",
    "CycleRegularity",
    "DEVICE_ID_MAX_LENGTH",
    "DEVICE_NAME_MAX_LENGTH",
    "EMAIL_MAX_LENGTH",
    "FlowIntensity",
    "FULL_NAME_MAX_LENGTH",
    "IP_ADDRESS_MAX_LENGTH",
    "Mood",
    "PASSWORD_HASH_MAX_LENGTH",
    "PASSWORD_MAX_LENGTH",
    "PASSWORD_MIN_LENGTH",
    "TOKEN_HASH_LENGTH",
    "Environment",
    "HealthStatus",
    "SafeEnum",
    "Settings",
    "TokenType",
    "UserRole",
    "get_settings",
    "settings",
]

_PROJECT_ROOT = Path(__file__).resolve().parent.parent.parent
_ENV_FILE = _PROJECT_ROOT / ".env"


class Settings(BaseSettings):
    """
    Application settings loaded from environment variables
    """
    model_config = SettingsConfigDict(
        env_file = _ENV_FILE,
        env_file_encoding = "utf-8",
        case_sensitive = False,
        extra = "ignore",
    )

    APP_NAME: str = "FastAPI Template"
    APP_VERSION: str = "1.0.0"
    APP_SUMMARY: str = "Developed CarterPerez-dev"
    APP_DESCRIPTION: str = "FastAPI async first boilerplate - JWT, Asyncdb, PostgreSQL"
    APP_CONTACT_NAME: str = "AngelaMos LLC"
    APP_CONTACT_EMAIL: str = "support@certgames.com"
    APP_LICENSE_NAME: str = "MIT"
    APP_LICENSE_URL: str = "https://github.com/CarterPerez-dev/fullstack-template/docs/templates/MIT"

    ENVIRONMENT: Environment = Environment.DEVELOPMENT
    DEBUG: bool = False

    HOST: str = "0.0.0.0"
    PORT: int = 8000
    RELOAD: bool = True

    DATABASE_URL: PostgresDsn
    DB_POOL_SIZE: int = Field(default = 20, ge = 5, le = 100)
    DB_MAX_OVERFLOW: int = Field(default = 10, ge = 0, le = 50)
    DB_POOL_TIMEOUT: int = Field(default = 30, ge = 10)
    DB_POOL_RECYCLE: int = Field(default = 1800, ge = 300)

    SECRET_KEY: SecretStr = Field(..., min_length = 32)
    JWT_ALGORITHM: Literal["HS256", "HS384", "HS512"] = "HS256"
    ACCESS_TOKEN_EXPIRE_MINUTES: int = Field(default = 15, ge = 5, le = 60)
    REFRESH_TOKEN_EXPIRE_DAYS: int = Field(default = 7, ge = 1, le = 30)

    ADMIN_EMAIL: EmailStr | None = None

    REDIS_URL: RedisDsn | None = None

    CORS_ORIGINS: list[str] = [
        "http://localhost",
        "http://localhost:8426",
        "http:
```

---

## File Overview

### config.py

**Purpose and Responsibility:**
This file defines the application settings using Pydantic, loading environment variables from a `.env` file. It includes constants, enums, and settings for various aspects of the application, such as database URLs, security tokens, CORS configurations, and logging levels.

**Key Exports and Public Interface:**
- **Constants:** `API_PREFIX`, `API_VERSION`, etc.
- **Enums:** `CyclePhase`, `CycleRegularity`, etc.
- **Settings Class:** `Settings` for loading application settings from environment variables.
- **Utility Functions:** `get_settings()` to provide a cached instance of the settings.

**How it Fits in the Project:**
This file serves as the central configuration hub, ensuring that all parts of the application can access and use consistent settings. It is imported by other modules to configure services like databases, authentication, and API endpoints.

**Notable Design Decisions:**
- **Caching:** `get_settings()` uses `lru_cache` to avoid redundant parsing of environment variables.
- **Security Constraints:** The `validate_production_settings` method enforces strict security rules in the production environment, such as disabling debug mode and restricting CORS origins.
- **Pydantic Validation:** Utilizes Pydantic's `model_validator` for robust validation of settings during initialization.
```

This documentation provides a high-level overview of the file’s purpose, key exports, integration within the project, and notable design decisions.

---

*Generated by CodeWorm on 2026-02-20 16:40*
