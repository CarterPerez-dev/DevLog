# settings

**Type:** File Overview
**Repository:** ios-test
**File:** red-recon/app/(app)/(tabs)/settings.tsx
**Language:** tsx
**Lines:** 1-247
**Complexity:** 0.0

---

## Source Code

```tsx
/**
 * @AngelaMos | 2026
 * settings.tsx
 */

import { useCurrentUser, useLogout, usePartner } from '@/api/hooks'
import { useBiometricsEnabled, useUIStore } from '@/core/lib'
import { DottedBackground } from '@/shared/components'
import { getBiometricLabel, useBiometrics } from '@/shared/hooks'
import { haptics } from '@/shared/utils'
import { colors } from '@/theme/tokens'
import { router } from 'expo-router'
import { ChevronRight, Heart, LogOut, Shield, User } from 'lucide-react-native'
import type React from 'react'
import { SafeAreaView } from 'react-native-safe-area-context'
import { Stack, Switch, Text, XStack, YStack } from 'tamagui'

function SettingsRow({
  icon,
  label,
  subtitle,
  onPress,
  rightElement,
  isDestructive,
}: {
  icon: React.ReactNode
  label: string
  subtitle?: string
  onPress?: () => void
  rightElement?: React.ReactNode
  isDestructive?: boolean
}): React.ReactElement {
  return (
    <Stack
      flexDirection="row"
      alignItems="center"
      justifyContent="space-between"
      paddingVertical="$4"
      paddingHorizontal="$4"
      pressStyle={onPress ? { backgroundColor: '$bgSurface75' } : undefined}
      onPress={onPress}
    >
      <XStack alignItems="center" gap="$3" flex={1}>
        <Stack
          width={36}
          height={36}
          borderRadius="$2"
          backgroundColor={isDestructive ? 'rgba(220, 38, 38, 0.12)' : '$bgSurface200'}
          alignItems="center"
          justifyContent="center"
        >
          {icon}
        </Stack>
        <YStack flex={1}>
          <Text
            fontSize={15}
            fontWeight="500"
            color={isDestructive ? '$errorDefault' : '$textDefault'}
            fontFamily="$body"
          >
            {label}
          </Text>
          {subtitle && (
            <Text fontSize={12} color="$textMuted" fontFamily="$body" marginTop="$1">
              {subtitle}
            </Text>
          )}
        </YStack>
      </XStack>
      {rightElement ??
        (onPress && <ChevronRight size={18} color={colors.textMuted.val} />)}
    </Stack>
  )
}

export default function SettingsScreen(): React.ReactElement {
  const logout = useLogout()
  const { data: user } = useCurrentUser()
  const { data: partner } = usePartner()
  const { biometryType, isAvailable, isEnrolled } = useBiometrics()
  const biometricsEnabled = useBiometricsEnabled()
  const setBiometricsEnabled = useUIStore((s) => s.setBiometricsEnabled)

  const handleLogout = (): void => {
    haptics.medium()
    logout.mutate()
  }

  const handleBiometricsToggle = (enabled: boolean): void => {
    haptics.selection()
    setBiometricsEnabled(enabled)
  }

  const canUseBiometrics = isAvailable && isEnrolled

  return (
    <DottedBackground>
      <SafeAreaView style={{ flex: 1 }} edges={['top']}>
        <YStack flex={1} padding="$5">
          <YStack marginBottom="$6">
            <YStack>
              <Text
                fontSize={28}
                fontWeight="700"
```

---

## File Overview

### settings.tsx

**Purpose:**
This file is responsible for rendering the Settings screen within the application, providing users with options to manage their account and preferences.

**Key Exports and Public Interface:**
- `SettingsScreen`: The main component that composes various UI elements such as profile management, partner information, and biometric settings.
- `SettingsRow`: A reusable component used to display individual settings items, including icons, labels, subtitles, and actions.

**How it Fits in the Project:**
This screen is part of the tab navigation within the application, specifically under the "Settings" tab. It leverages hooks from various modules like authentication (`useCurrentUser`, `useLogout`), biometrics (`useBiometrics`, `useBiometricsEnabled`), and UI state management (`useUIStore`). The component uses Tamagui for styling and React Native components for layout.

**Notable Design Decisions:**
- **Modular Components**: The use of `SettingsRow` allows for consistent styling and behavior across different settings items.
- **Haptics Feedback**: Utilizes haptic feedback to provide user confirmation on actions like logging out or toggling biometrics.
- **Biometric Handling**: Implements conditional rendering based on biometric availability, ensuring a seamless experience for users with supported devices.
```

This documentation provides an overview of the file's purpose, key components, integration within the project, and notable design choices.

---

*Generated by CodeWorm on 2026-02-20 15:46*
