# admin_sender

**Type:** File Overview
**Repository:** CertGames-Core
**File:** backend/api/core/services/senders/admin_sender.py
**Language:** python
**Lines:** 1-223
**Complexity:** 0.0

---

## Source Code

```python
"""
Admin Email Sender Service
/api/core/services/senders/admin_sender.py
"""

import resend
from flask import current_app


class AdminEmailSender:
    """
    Email sender specifically for admin-to-user communications
    """
    def __init__(self, resend_api_key: str, frontend_url: str) -> None:
        resend.api_key = resend_api_key
        self.frontend_url = frontend_url
        self.admin_from_email = "admin@certgames.com"

    def send_admin_message_to_user(
        self,
        to_email: str,
        username: str,
        subject: str,
        *,
        message: str,
        admin_email: str
    ) -> bool:
        """
        Send an admin message to a specific user
        """
        html_content = f'''
        <!DOCTYPE html>
        <html>
        <head>
            <meta charset="utf-8">
            <meta name="viewport" content="width=device-width, initial-scale=1.0">
            <title>{subject}</title>
        </head>
        <body style="font-family: Arial, sans-serif; color: #333333; line-height: 1.6; margin: 0; padding: 0;">
            <table width="100%" cellpadding="0" cellspacing="0" style="max-width: 600px; margin: 0 auto; padding: 20px; border: 1px solid #e0e0e0; border-radius: 5px;">
                <tr>
                    <td style="background-color: #2c3e50; padding: 20px; text-align: center; color: white; border-radius: 5px 5px 0 0;">
                        <h1 style="margin: 0; font-size: 24px;">CertGames Admin Team</h1>
                    </td>
                </tr>
                <tr>
                    <td style="padding: 30px; background-color: white; border: 1px solid #e0e0e0; border-top: none; border-radius: 0 0 5px 5px;">
                        <p>Hello {username},</p>
                        
                        <div style="background-color: #f8f9fa; padding: 20px; border-radius: 5px; margin: 20px 0; border-left: 4px solid #2c3e50;">
                            {message.replace(chr(10), '<br>')}
                        </div>
                        
                        <p>If you have any questions or need further assistance, please don't hesitate to reach out to our support team.</p>
                        
                        <div style="text-align: center; margin-top: 30px;">
                            <a href="{self.frontend_url}/support" style="background-color: #2c3e50; color: white; padding: 12px 30px; text-decoration: none; border-radius: 5px; display: inline-block;">Contact Support</a>
                        </div>
                        
                        <div style="margin-top: 40px; border-top: 1px solid #e0e0e0; padding-top: 20px; font-size: 12px; color: #777777;">
                            <p style="margin: 0;">
                                This message was sent by the CertGames admin team (via {admin_email}).<br>
                                For urgent matters, please visit our support center.
                            </p>
                        </di
```

---

## File Overview

Admin Email Sender Service
/api/core/services/senders/admin_sender.py

**Purpose and Responsibility:**
This file defines the `AdminEmailSender` class, responsible for sending emails from the admin team to users or other admins within the CertGames application. It leverages the Resend API for email delivery and includes templates for various types of notifications.

**Key Exports and Public Interface:**
- **Class:** `AdminEmailSender`
  - **Methods:**
    - `send_admin_message_to_user`: Sends a custom message to a user.
    - `send_admin_notification`: Sends predefined notifications (e.g., account warnings, suspensions) based on the notification type.

**How it Fits in the Project:**
This service is part of the core backend services layer and interacts with the Resend API for email delivery. It provides a standardized way to communicate between the admin team and users, ensuring consistent formatting and content across different types of messages.

**Notable Design Decisions:**
- **Resend API Integration:** The class uses the `resend` library to send emails, providing flexibility in email delivery.
- **Email Templates:** Custom HTML templates are used for sending emails, allowing for a professional look and feel. These templates can be easily updated or extended as needed.
- **Logging:** Detailed logging is implemented using Flask's logger to track email sends and failures, aiding in debugging and monitoring.

---

*Generated by CodeWorm on 2026-02-19 15:18*
