# prompts

**Type:** File Overview
**Repository:** CodeWorm
**File:** codeworm/llm/prompts.py
**Language:** python
**Lines:** 1-564
**Complexity:** 0.0

---

## Source Code

```python
"""
â’¸AngelaMos | 2026
llm/prompts.py
"""
from __future__ import annotations

from dataclasses import dataclass
from typing import TYPE_CHECKING

from codeworm.models import DocType, Language

if TYPE_CHECKING:
    from codeworm.analysis import AnalysisCandidate
    from codeworm.analysis.targets import DocumentationTarget
    from codeworm.core.config import PromptSettings


DEFAULT_SYSTEM_PROMPT = """You are a technical documentation writer analyzing code snippets.

Your task is to write clear, concise documentation that explains:
- What the code does (the "what")
- Why it matters or when to use it (the "why")
- Any notable patterns, trade-offs, or gotchas

Rules:
1. Only reference code that exists in the provided snippet
2. Do not invent or assume external functionality
3. Be specific - mention actual variable/function names
4. Keep explanations under 200 words
5. Use markdown formatting
6. Focus on practical understanding, not line-by-line description"""

DEFAULT_DOCUMENTATION_TEMPLATE = """Analyze and document this {language} code:

```{language}
{source}
```

Context:
- Function/Class: {name}
- File: {file_path}
- Repository: {repo}
- Complexity: {complexity} (cyclomatic)
- Lines: {line_count}

Write technical documentation (100-200 words) covering:
1. Purpose and behavior
2. Key implementation details
3. When/why to use this code
4. Any patterns or gotchas worth noting"""

DEFAULT_COMMIT_MESSAGE_TEMPLATE = """Based on this documentation snippet, generate a natural-sounding git commit message.

Documentation:
{documentation}

Code context:
- Function: {name}
- Language: {language}
- Repository: {repo}

Generate a commit message that:
- Starts with a verb (Document, Add, Analyze, etc)
- Is under 72 characters
- Sounds natural, not robotic
- Mentions the function/concept name

Return ONLY the commit message, nothing else."""

SECURITY_REVIEW_SYSTEM_PROMPT = """You are a security analyst reviewing code for vulnerabilities.

Analyze the code for:
- Injection vulnerabilities (SQL, command, XSS)
- Authentication and authorization issues
- Hardcoded secrets or credentials
- Race conditions and TOCTOU bugs
- Input validation gaps
- Insecure deserialization
- Error handling that leaks information

Rules:
1. Only reference code in the provided snippet
2. Be specific about line numbers and variable names
3. Rate severity: Critical, High, Medium, Low, Info
4. Suggest concrete fixes
5. Keep under 200 words
6. Use markdown formatting"""

SECURITY_REVIEW_TEMPLATE = """Review this {language} code for security issues:

```{language}
{source}
```

Context:
- Function/Class: {name}
- File: {file_path}
- Repository: {repo}

Write a security review (100-200 words) covering:
1. Any vulnerabilities found (with severity)
2. Attack vectors if applicable
3. Recommended fixes
4. Overall security posture"""

PERFORMANCE_ANALYSIS_SYSTEM_PROMPT = """You are a performance engineer analyzing code efficiency.

Analyze the code for:
- Time complexity (Big O notation)
- Space
```

---

## File Overview

**Purpose and Responsibility**: This file defines various system prompts and templates used for generating documentation, security reviews, performance analyses, and "Today I Learned" entries within the CodeWorm project.

**Key Exports and Public API**:
- `DEFAULT_SYSTEM_PROMPT`: A default prompt for technical documentation.
- `DEFAULT_DOCUMENTATION_TEMPLATE`: A template for creating documentation snippets.
- `DEFAULT_COMMIT_MESSAGE_TEMPLATE`: A template for generating commit messages based on documentation.
- `SECURITY_REVIEW_SYSTEM_PROMPT`: A system prompt for security analysis.
- `SECURITY_REVIEW_TEMPLATE`: A template for writing security reviews.
- `PERFORMANCE_ANALYSIS_SYSTEM_PROMPT`: A system prompt for performance analysis.
- `PERFORMANCE_ANALYSIS_TEMPLATE`: A template for analyzing code efficiency.
- `TIL_SYSTEM_PROMPT`: A system prompt for "Today I Learned" entries.
- `TIL_TEMPLATE`: A template for creating TIL entries.

**How it Fits into the Larger Project**: This file is part of the `llm` module, which handles interactions with language models. It provides essential templates and prompts used by other modules to generate various types of documentation and analyses.

**Notable Design Decisions**:
- **Modularity**: The templates and system prompts are designed to be flexible and reusable across different parts of the project.
- **Consistency**: Ensures consistent formatting and style in generated outputs, enhancing readability and maintainability.
- **Clarity**: Focuses on providing clear instructions for language models to generate high-quality documentation and analyses.

---

*Generated by CodeWorm on 2026-02-21 07:30*
