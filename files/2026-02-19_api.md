# api

**Type:** File Overview
**Repository:** CertGames-Core
**File:** backend/app/restx/api.py
**Language:** python
**Lines:** 1-151
**Complexity:** 0.0

---

## Source Code

```python
"""
CertGames Flask-RESTX Setup
/app/restx/restx.py
"""

from flask import Flask
from flask_restx import Api


rest = Api(
    version = 'v2',
    title = 'CertGames API',
    description = 'CertGames API, Gamified Cybersecurity Platform',
    doc = '/docs/',
    authorizations = {
        'BearerAuth': {
            'type': 'apiKey',
            'in': 'header',
            'name': 'Authorization',
            'description': 'Enter your JWT in the format: Bearer <token>'
        },
        'CSRFToken': {
            'type': 'apiKey',
            'in': 'header',
            'name': 'X-Cracked',
            'description': 'CSRF token for admin endpoints'
        }
    },
    security = 'BearerAuth',
    contact = 'support@certgames.com',
    contact_email = 'support@certgames.com',
    license = 'Proprietary',
    license_url = 'https://certgames.com/terms',
)


def init_api(app: Flask) -> Api:
    """
    Initialize Flask-RESTX with all domain namespaces
    """
    rest.init_app(app)

    from app.restx.ns import (
        account_ns,
        shop_ns,
        progression_ns,
        testing_ns,
        games_ns,
        tools_ns,
        content_ns,
        freemium_ns,
        community_ns,
        marketing_ns,
        referral_ns,
        social_ns,
        ollama_ns,
    )

    from app.restx.admin_ns import (
        admin_roles_ns,
        admin_auth_ns,
        admin_users_ns,
        admin_link_user_ns,
        admin_support_ns,
        admin_security_ns,
        admin_revenue_ns,
        admin_monitoring_ns,
        admin_audit_ns,
        admin_analytics_ns,
        admin_testing_ns,
        admin_content_ns,
        admin_newsletter_ns,
        admin_archives_ns,
        admin_referral_ns
    )

    import api.domains.account.routes
    import api.domains.shop.routes
    import api.domains.progression.routes
    import api.domains.testing.routes
    import api.domains.games.routes
    import api.domains.tools.routes
    import api.domains.content.routes
    import api.domains.freemium.routes
    import api.domains.community.routes
    import api.domains.marketing.routes
    import api.domains.referral.routes
    import api.domains.social.routes
    import api.domains.messaging.routes
    import api.domains.tools.ollama.routes

    import api.admin.roles.routes
    import api.admin.auth.routes
    import api.admin.domains.users.routes
    import api.admin.domains.link_user.routes
    import api.admin.domains.support.routes
    import api.admin.domains.security.routes
    import api.admin.domains.revenue.routes
    import api.admin.domains.monitoring.routes
    import api.admin.domains.audit.routes
    import api.admin.domains.analytics.routes
    import api.admin.domains.testing.routes
    import api.admin.domains.content.routes
    import api.admin.domains.newsletter.routes
    import api.admin.domains.archives.routes
    import api.admin.domains.referral.routes

    rest.add_namespace(account_ns)
    rest.add_namespace(shop_ns)
    re
```

---

## File Overview

## CertGames Flask-RESTX Setup

**Purpose:**
This file sets up the Flask-RESTX API for the CertGames platform, defining its structure and integrating various domain-specific namespaces.

**Key Exports/Interface:**
- `init_api(app: Flask) -> Api`: Initializes the RESTX API with all necessary namespaces and routes. This function is crucial for setting up the API within the Flask application.

**Project Integration:**
This file acts as a central hub, configuring the RESTX API and integrating it with various domain-specific modules (e.g., accounts, shops, testing). It ensures that the API is properly structured and secured according to CertGames' requirements. The `init_api` function is called during the Flask application initialization process.

**Design Decisions:**
- **Namespaces:** Organized into distinct namespaces for different functionalities like accounts, shops, and admin roles, ensuring a clean and modular API structure.
- **Security:** Implements JWT authentication and CSRF protection through specific authorizations. This enhances security by validating user tokens and protecting against cross-site request forgery attacks.
- **Comprehensive Documentation:** Includes detailed documentation within the code to explain key functions and configurations, facilitating easier maintenance and understanding.
```

This document provides a high-level overview of the file's purpose, its role in the project, and important design choices.

---

*Generated by CodeWorm on 2026-02-19 15:29*
