# shell

**Type:** File Overview
**Repository:** CodeWorm
**File:** dashboard/frontend/src/core/app/shell.tsx
**Language:** tsx
**Lines:** 1-138
**Complexity:** 0.0

---

## Source Code

```tsx
// Â©AngelaMos | 2026
// shell.tsx

import { Suspense } from 'react'
import { ErrorBoundary } from 'react-error-boundary'
import { LuActivity, LuChevronLeft, LuChevronRight, LuGitBranch, LuMenu } from 'react-icons/lu'
import { NavLink, Outlet, useLocation } from 'react-router-dom'
import { useWebSocket } from '@/api/hooks'
import { ROUTES } from '@/config'
import { useDashboardStore, useUIStore } from '@/core/lib'
import styles from './shell.module.scss'

const NAV_ITEMS = [
  { path: ROUTES.DASHBOARD, label: 'Dashboard', icon: LuActivity },
  { path: ROUTES.REPOS, label: 'Repositories', icon: LuGitBranch },
]

function ShellErrorFallback({ error }: { error: unknown }): React.ReactElement {
  const message = error instanceof Error ? error.message : String(error)
  return (
    <div className={styles.error}>
      <h2>Something went wrong</h2>
      <pre>{message}</pre>
    </div>
  )
}

function ShellLoading(): React.ReactElement {
  return <div className={styles.loading}>Loading...</div>
}

function getPageTitle(pathname: string): string {
  const item = NAV_ITEMS.find((i) => i.path === pathname)
  return item?.label ?? 'Dashboard'
}

export function Shell(): React.ReactElement {
  useWebSocket()

  const location = useLocation()
  const { sidebarOpen, sidebarCollapsed, toggleSidebar, toggleSidebarCollapsed } =
    useUIStore()
  const connected = useDashboardStore((s) => s.connected)

  const pageTitle = getPageTitle(location.pathname)

  return (
    <div className={styles.shell}>
      <aside
        className={`${styles.sidebar} ${sidebarOpen ? styles.open : ''} ${sidebarCollapsed ? styles.collapsed : ''}`}
      >
        <div className={styles.sidebarHeader}>
          <span className={styles.logo}>CodeWorm</span>
          <button
            type="button"
            className={styles.collapseBtn}
            onClick={toggleSidebarCollapsed}
            aria-label={sidebarCollapsed ? 'Expand sidebar' : 'Collapse sidebar'}
          >
            {sidebarCollapsed ? <LuChevronRight /> : <LuChevronLeft />}
          </button>
        </div>

        <nav className={styles.nav}>
          {NAV_ITEMS.map((item) => (
            <NavLink
              key={item.path}
              to={item.path}
              className={({ isActive }) =>
                `${styles.navItem} ${isActive ? styles.active : ''}`
              }
              onClick={() => sidebarOpen && toggleSidebar()}
            >
              <item.icon className={styles.navIcon} />
              <span className={styles.navLabel}>{item.label}</span>
            </NavLink>
          ))}
        </nav>

        <div className={styles.sidebarFooter}>
          <div className={styles.connectionStatus}>
            <span
              className={`${styles.statusDot} ${connected ? styles.connected : ''}`}
            />
            <span className={styles.statusText}>
              {connected ? 'Live' : 'Offline'}
            </span>
          </div>
        </div>
      </aside>

  
```

---

## File Overview

# shell.tsx Documentation

## Purpose and Responsibility
This file defines the `Shell` component, which serves as the main layout container for the CodeWorm application. It handles navigation, sidebar management, and error handling while providing a consistent UI structure.

## Key Exports or Public Interface
- **Shell**: The primary exported function that renders the shell layout.
  - **Props**:
    - None (uses context and hooks internally).
  - **Returns**: A React component representing the application shell.

## How It Fits in the Project
The `Shell` component acts as a central wrapper for the main content area, ensuring a consistent look and feel across different pages. It integrates with other components like navigation links, sidebar toggles, and error boundaries to provide a robust user experience. The component is crucial for maintaining the overall structure of the application.

## Notable Design Decisions
- **Error Handling**: Utilizes `ErrorBoundary` to gracefully handle errors in child components.
- **Suspense**: Ensures smooth loading states by rendering a fallback while waiting for asynchronous data.
- **Sidebar Management**: Implements state management using custom hooks (`useUIStore`) to toggle sidebar visibility and collapse state, providing responsive UI elements.
- **Navigation**: Defines navigation items statically but could be extended or fetched dynamically in the future.
```

This documentation provides an overview of the `shell.tsx` file's role within the CodeWorm project, highlighting its key components and design choices.

---

*Generated by CodeWorm on 2026-02-21 08:05*
