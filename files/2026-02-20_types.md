# types

**Type:** File Overview
**Repository:** stripe-referral
**File:** src/stripe_referral/schemas/types.py
**Language:** python
**Lines:** 1-107
**Complexity:** 0.0

---

## Source Code

```python
"""
ⒸAngelaMos | 2025 | CertGames.com
TypedDict definitions for service return types
"""

from typing import (
    TypedDict,
    NotRequired,
)


class CreateCodeResult(TypedDict):
    """
    Return type for ReferralService.create_code()
    """
    code: str
    program_id: int
    user_id: str
    created_at: str


class TrackReferralResult(TypedDict):
    """
    Return type for ReferralService.track_referral()
    """
    tracking_id: int
    referrer_user_id: str
    referred_user_id: str
    amount_earned: float
    currency: str
    converted_at: str


class UserEarnings(TypedDict):
    """
    Return type for earnings queries
    """
    total: float
    pending: float
    paid: float


class CodeValidation(TypedDict):
    """
    Return type for code validation
    """
    valid: bool
    code_id: NotRequired[int]
    program_id: NotRequired[int]
    referrer_user_id: NotRequired[str]
    reason: NotRequired[str]


class PayoutResult(TypedDict):
    """
    Return type for payout operations
    """
    success: bool
    transaction_id: NotRequired[str]
    error: NotRequired[str]


class RecipientValidation(TypedDict):
    """
    Return type for recipient validation
    """
    valid: bool
    error: NotRequired[str]


class ReferralHistoryItem(TypedDict):
    """
    Single referral history record
    """
    referred_user_id: str
    amount_earned: float
    currency: str
    converted_at: str
    payout_status: str


class ProgramInfo(TypedDict):
    """
    Return type for program information
    """
    id: int
    name: str
    program_key: str
    reward_amount: float
    reward_currency: str
    reward_type: str
    is_active: bool


class PayoutInfo(TypedDict):
    """
    Return type for payout information
    """
    id: int
    user_id: str
    amount: float
    currency: str
    status: str
    adapter_type: str
    processed_at: str | None
    external_transaction_id: str | None

```

---

## File Overview

### Purpose and Responsibility

This Python source file defines `TypedDict` classes for various service return types within the `stripe-referral` project. These definitions ensure type safety and consistency across different services, making the code more maintainable and easier to understand.

### Key Exports or Public Interface

- **CreateCodeResult**: Represents the result of creating a referral code.
- **TrackReferralResult**: Details for tracking referrals.
- **UserEarnings**: Earnings data for users.
- **CodeValidation**: Validation results for referral codes.
- **PayoutResult**: Outcome of payout operations.
- **RecipientValidation**: Validation results for recipients.
- **ReferralHistoryItem**: Single record in the referral history.
- **ProgramInfo**: Information about referral programs.
- **PayoutInfo**: Details about payouts.

### How It Fits into the Project

This file serves as a central hub for defining data structures used across multiple services. By standardizing these types, it ensures that all parts of the project can communicate effectively and consistently. These definitions are imported by various modules within the `stripe-referral` service to handle different operations like creating codes, tracking referrals, and processing payouts.

### Notable Design Decisions

- **Use of `NotRequired`**: Fields marked as `NotRequired` in some dictionaries allow for flexibility where certain fields might not always be present.
- **TypedDicts**: Leveraging Python's `TypedDict` to provide strong typing without the overhead of full-blown classes, ensuring type safety and readability.
- **Consistent Naming Conventions**: Using clear and descriptive names for each dictionary to enhance code comprehension and maintainability.
```

This documentation provides a high-level overview of the file’s purpose, its key components, how it integrates with other parts of the project, and some design choices that were made.

---

*Generated by CodeWorm on 2026-02-20 11:31*
