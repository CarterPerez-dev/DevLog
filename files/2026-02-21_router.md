# router

**Type:** File Overview
**Repository:** angelamos-3d
**File:** backend/app/tts/router.py
**Language:** python
**Lines:** 1-31
**Complexity:** 0.0

---

## Source Code

```python
"""
Â©AngelaMos | 2026
router.py
"""

from fastapi import APIRouter
from fastapi.responses import Response

from app.tts import service
from app.tts.schemas import SynthesizeRequest, VoiceInfo


router = APIRouter()


@router.post("/tts/synthesize")
async def synthesize(request: SynthesizeRequest) -> Response:
    """
    Convert text to speech using Edge TTS.
    """
    audio = await service.synthesize(request.text)
    return Response(content = audio, media_type = "audio/mpeg")


@router.get("/tts/voices")
async def list_voices() -> list[VoiceInfo]:
    """
    List available Edge TTS voices.
    """
    return await service.list_voices()

```

---

## File Overview

# router.py Documentation

**Purpose and Responsibility:**
This file defines the API endpoints for text-to-speech (TTS) functionality using Edge TTS, integrating with a service module to handle synthesis requests.

**Key Exports or Public Interface:**
- `synthesize`: A POST endpoint that converts text to speech.
- `list_voices`: A GET endpoint that lists available voices.

**How It Fits in the Project:**
This file is part of the TTS (Text-to-Speech) module within the broader backend application. The endpoints defined here expose TTS functionality, allowing external clients to request synthesized audio based on text input and voice selection.

**Notable Design Decisions:**
- **Service Layer:** Utilizes a separate service layer (`service.py`) for synthesizing text and listing voices, promoting separation of concerns.
- **FastAPI Integration:** Uses FastAPI for defining RESTful endpoints, ensuring efficient and scalable API development.
- **Response Handling:** Returns audio content directly as `Response` objects with appropriate media types, facilitating easy client consumption.

This design ensures modularity and maintainability while providing a clear interface for TTS functionality within the application.

---

*Generated by CodeWorm on 2026-02-21 01:14*
