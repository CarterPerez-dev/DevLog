# shell

**Type:** File Overview
**Repository:** Cybersecurity-Projects
**File:** TEMPLATES/fullstack-template/frontend/src/core/app/shell.tsx
**Language:** tsx
**Lines:** 1-159
**Complexity:** 0.0

---

## Source Code

```tsx
/**
 * Â©AngelaMos | 2025
 * shell.tsx
 */

import { Suspense } from 'react'
import { ErrorBoundary } from 'react-error-boundary'
import { GiCardAceClubs, GiCardJoker, GiExitDoor } from 'react-icons/gi'
import { LuChevronLeft, LuChevronRight, LuMenu, LuShield } from 'react-icons/lu'
import { NavLink, Outlet, useLocation } from 'react-router-dom'
import { useLogout } from '@/api/hooks'
import { ROUTES } from '@/config'
import { useIsAdmin, useUIStore, useUser } from '@/core/lib'
import styles from './shell.module.scss'

const NAV_ITEMS = [
  { path: ROUTES.DASHBOARD, label: 'Dashboard', icon: GiCardJoker },
  { path: ROUTES.SETTINGS, label: 'Settings', icon: GiCardAceClubs },
]

const ADMIN_NAV_ITEM = {
  path: ROUTES.ADMIN.USERS,
  label: 'Admin',
  icon: LuShield,
}

function ShellErrorFallback({ error }: { error: Error }): React.ReactElement {
  return (
    <div className={styles.error}>
      <h2>Something went wrong</h2>
      <pre>{error.message}</pre>
    </div>
  )
}

function ShellLoading(): React.ReactElement {
  return <div className={styles.loading}>Loading...</div>
}

function getPageTitle(pathname: string, isAdmin: boolean): string {
  if (isAdmin && pathname === ADMIN_NAV_ITEM.path) {
    return ADMIN_NAV_ITEM.label
  }
  const item = NAV_ITEMS.find((i) => i.path === pathname)
  return item?.label ?? 'Dashboard'
}

export function Shell(): React.ReactElement {
  const location = useLocation()
  const { sidebarOpen, sidebarCollapsed, toggleSidebar, toggleSidebarCollapsed } =
    useUIStore()
  const { mutate: logout } = useLogout()
  const isAdmin = useIsAdmin()
  const user = useUser()

  const pageTitle = getPageTitle(location.pathname, isAdmin)
  const avatarLetter =
    user?.full_name?.[0]?.toUpperCase() ?? user?.email?.[0]?.toUpperCase() ?? 'U'

  return (
    <div className={styles.shell}>
      <aside
        className={`${styles.sidebar} ${sidebarOpen ? styles.open : ''} ${sidebarCollapsed ? styles.collapsed : ''}`}
      >
        <div className={styles.sidebarHeader}>
          <span className={styles.logo}>NavBar Template</span>
          <button
            type="button"
            className={styles.collapseBtn}
            onClick={toggleSidebarCollapsed}
            aria-label={sidebarCollapsed ? 'Expand sidebar' : 'Collapse sidebar'}
          >
            {sidebarCollapsed ? <LuChevronRight /> : <LuChevronLeft />}
          </button>
        </div>

        <nav className={styles.nav}>
          {NAV_ITEMS.map((item) => (
            <NavLink
              key={item.path}
              to={item.path}
              className={({ isActive }) =>
                `${styles.navItem} ${isActive ? styles.active : ''}`
              }
              onClick={() => sidebarOpen && toggleSidebar()}
            >
              <item.icon className={styles.navIcon} />
              <span className={styles.navLabel}>{item.label}</span>
            </NavLink>
          ))}
          {isAdmin && (
            <NavLink
              
```

---

## File Overview

### Shell Component Documentation

**File Purpose and Responsibility:**
`shell.tsx` is a core component of the application, serving as the layout shell for the main content area. It manages the sidebar navigation, user authentication status, and error handling.

**Key Exports or Public Interface:**
- **Shell**: The primary export, a React functional component that renders the overall layout with navigation, sidebar, and main content areas.

**How it Fits in the Project:**
This component acts as the central template for rendering other pages. It is imported into the `App` component to provide a consistent UI structure across the application. It handles user authentication status, admin privileges, and navigational elements, ensuring that different sections of the app are accessible based on user roles.

**Notable Design Decisions:**
- **Error Handling**: Utilizes `ErrorBoundary` for robust error handling within the application.
- **Sidebar Management**: Implements state management to toggle sidebar visibility and collapse, enhancing usability across devices.
- **Dynamic Navigation**: Uses dynamic navigation items based on user role, ensuring that only relevant options are displayed.
- **Suspense and Loading State**: Ensures smooth transitions by managing loading states with `Suspense` and displaying a loading spinner.

This component is crucial for maintaining the overall structure and functionality of the application, providing a seamless experience for users while handling complex state management and error scenarios.

---

*Generated by CodeWorm on 2026-02-18 13:47*
