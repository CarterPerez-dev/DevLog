# dashboard

**Type:** Today I Learned
**Repository:** CodeWorm
**File:** codeworm/cli.py
**Language:** python
**Lines:** 347-371
**Complexity:** 3.0

---

## Source Code

```python
def dashboard(ctx: click.Context, host: str | None, port: int | None) -> None:
    """
    Start the web dashboard server
    """
    import uvicorn

    settings = load_settings(config_dir = ctx.obj["config_dir"])

    bind_host = host or settings.dashboard.host
    bind_port = port or settings.dashboard.port

    console.print("[bold green]Starting CodeWorm Dashboard[/bold green]")
    console.print(f"  URL: http://{bind_host}:{bind_port}")
    console.print(f"  Redis: {settings.dashboard.redis.connection_url}")

    os.environ["CODEWORM_DB_PATH"] = str(settings.db_path)
    os.environ["CODEWORM_REDIS_URL"] = settings.dashboard.redis.connection_url
    os.environ["CODEWORM_CONFIG_DIR"] = str(settings.config_dir)

    uvicorn.run(
        "dashboard.backend.app:app",
        host = bind_host,
        port = bind_port,
        log_level = "info",
    )
```

---

## Today I Learned

TIL: In the `dashboard` function, the use of type hints for parameters like `host: str | None` and `port: int | None` is clever. It allows the function to handle optional command-line arguments gracefully by providing default values from settings if not specified, ensuring flexibility and clarity in parameter handling.

```python
def dashboard(ctx: click.Context, host: str | None, port: int | None) -> None:
    # ...
```

This pattern makes the code more robust and user-friendly!

---

*Generated by CodeWorm on 2026-02-22 12:00*
