# CertificationFactory.create

**Type:** Today I Learned
**Repository:** my-portfolio
**File:** v1/backend/conftest.py
**Language:** python
**Lines:** 373-403
**Complexity:** 4.0

---

## Source Code

```python
async def create(
        cls,
        session: AsyncSession,
        *,
        language: Language = Language.ENGLISH,
        name: str | None = None,
        issuer: str | None = None,
        date_obtained: date | None = None,
        expiry_date: date | None = None,
        is_expired: bool = False,
        category: CertificationCategory = CertificationCategory.CLOUD,
        is_visible: bool = True,
    ) -> Certification:
        cls._counter += 1

        certification = Certification(
            language = language,
            name = name or f"Test Certification {cls._counter}",
            issuer = issuer or f"Test Issuer {cls._counter}",
            date_obtained = date_obtained or date(2024,
                                                  1,
                                                  1),
            expiry_date = expiry_date,
            is_expired = is_expired,
            category = category,
            is_visible = is_visible,
        )
        session.add(certification)
        await session.flush()
        await session.refresh(certification)
        return certification
```

---

## Today I Learned

TIL: In the `create` method, the use of default parameter values like `name = name or f"Test Certification {cls._counter}"` is clever for generating default names based on a counter. This ensures each certification has a unique identifier without cluttering the constructor with repetitive checks.

```python
async def create(
    cls,
    session: AsyncSession,
    *,
    language=Language.ENGLISH,
    name=None, issuer=None, date_obtained=None, expiry_date=None, is_expired=False,
    category=CertificationCategory.CLOUD, is_visible=True
) -> Certification:
    cls._counter += 1

    certification = Certification(
        language=language,
        name=name or f"Test Certification {cls._counter}",
        issuer=issuer or f"Test Issuer {cls._counter}",
        date_obtained=date_obtained or date(2024, 1, 1),
        expiry_date=expiry_date,
        is_expired=is_expired,
        category=category,
        is_visible=is_visible,
    )
    session.add(certification)
    await session.flush()
    await session.refresh(certification)
    return certification
```

---

*Generated by CodeWorm on 2026-02-21 20:25*
