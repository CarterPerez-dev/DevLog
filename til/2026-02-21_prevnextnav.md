# PrevNextNav

**Type:** Today I Learned
**Repository:** my-portfolio
**File:** v1/frontend/src/components/layout/PrevNextNav.tsx
**Language:** tsx
**Lines:** 39-107
**Complexity:** 15.0

---

## Source Code

```tsx
function PrevNextNav({
  currentPath,
}: PrevNextNavProps): React.ReactElement | null {
  const { t } = useTranslation()
  const location = useLocation()
  const { data: projectsNav } = useProjectsNav()

  const path = currentPath ?? location.pathname

  const projectNavItems: NavItem[] = (projectsNav?.items ?? []).map((p) => ({
    path: ROUTES.PROJECTS.DETAIL(p.slug),
    label: p.title,
  }))

  const fullNavOrder: NavItem[] = [
    ...STATIC_NAV_ORDER,
    ...projectNavItems,
    ...BACKGROUND_NAV,
  ]

  const currentIndex = fullNavOrder.findIndex((item) => item.path === path)

  if (currentIndex === -1) {
    return null
  }

  const prevItem = currentIndex > 0 ? fullNavOrder[currentIndex - 1] : null
  const nextItem =
    currentIndex < fullNavOrder.length - 1 ? fullNavOrder[currentIndex + 1] : null

  if (!prevItem && !nextItem) {
    return null
  }

  return (
    <nav className={styles.nav} aria-label="Page navigation">
      <div className={styles.prev}>
        {prevItem && (
          <Link to={prevItem.path} className={styles.link}>
            <span className={styles.direction}>
              <ChevronLeftIcon />
              {t('common.previous')}
            </span>
            <span className={styles.title}>
              {prevItem.translationKey
                ? t(prevItem.translationKey)
                : prevItem.label}
            </span>
          </Link>
        )}
      </div>
      <div className={styles.next}>
        {nextItem && (
          <Link to={nextItem.path} className={styles.link}>
            <span className={styles.direction}>
              {t('common.next')}
              <ChevronRightIcon />
            </span>
            <span className={styles.title}>
              {nextItem.translationKey
                ? t(nextItem.translationKey)
                : nextItem.label}
            </span>
          </Link>
        )}
      </div>
    </nav>
  )
}
```

---

## Today I Learned

TIL: This `PrevNextNav` component uses dynamic navigation links based on the current path, leveraging React Router hooks and internationalization. By calculating the index of the current path within a combined nav order array, it efficiently determines previous and next items without complex conditional logic.

```tsx
const currentIndex = fullNavOrder.findIndex((item) => item.path === path)
```

This clever approach ensures smooth navigation transitions across dynamic project pages!

---

*Generated by CodeWorm on 2026-02-21 18:23*
