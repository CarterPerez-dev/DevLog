# JobApplicationRepository.get_by_user

**Type:** Today I Learned
**Repository:** angelamos-operations
**File:** CarterOS-Server/src/aspects/life_manager/facets/career/job_app_tracker/repository.py
**Language:** python
**Lines:** 27-43
**Complexity:** 1.0

---

## Source Code

```python
async def get_by_user(
        cls,
        session: AsyncSession,
        user_id: UUID,
        skip: int = 0,
        limit: int = 50,
    ) -> Sequence[JobApplication]:
        """
        Get all job applications for a user with pagination
        """
        result = await session.execute(
            select(JobApplication).where(
                JobApplication.user_id == user_id
            ).order_by(JobApplication.created_at.desc()
                       ).offset(skip).limit(limit)
        )
        return result.scalars().all()
```

---

## Today I Learned

TIL: The `get_by_user` method uses SQLAlchemy's `select` and `execute` to fetch paginated job applications efficiently. By chaining `.offset(skip).limit(limit)` after ordering, it avoids loading all records into memory, making it scalable for large datasets.

```python
async def get_by_user(
    cls,
    session: AsyncSession,
    user_id: UUID,
    skip: int = 0,
    limit: int = 50,
) -> Sequence[JobApplication]:
    result = await session.execute(
        select(JobApplication).where(
            JobApplication.user_id == user_id
        ).order_by(JobApplication.created_at.desc()
                   ).offset(skip).limit(limit)
    )
    return result.scalars().all()
```

This pattern ensures efficient querying and is a great example of leveraging SQLAlchemy's powerful ORM capabilities.

---

*Generated by CodeWorm on 2026-03-01 17:23*
