# SearchRequest.validate_date_range

**Type:** Today I Learned
**Repository:** vuemantics
**File:** backend/schemas/search.py
**Language:** python
**Lines:** 95-107
**Complexity:** 5.0

---

## Source Code

```python
def validate_date_range(
        cls,
        v: datetime | None,
        info: ValidationInfo
    ) -> datetime | None:
        """
        Ensure date_to is after date_from if both provided
        """
        if v is not None and "date_from" in info.data:
            date_from = info.data["date_from"]
            if date_from is not None and v <= date_from:
                raise ValueError("date_to must be after date_from")
        return v
```

---

## Today I Learned

TIL: The `validate_date_range` method cleverly uses type hints and context (`info.data`) to ensure date validation without cluttering the function signature. This makes the code more readable and maintainable, keeping related logic close while avoiding overcomplicated parameter lists.

```python
def validate_date_range(
        cls,
        v: datetime | None,
        info: ValidationInfo
    ) -> datetime | None:
        if v is not None and "date_from" in info.data:
            date_from = info.data["date_from"]
            if date_from is not None and v <= date_from:
                raise ValueError("date_to must be after date_from")
        return v
```

---

*Generated by CodeWorm on 2026-02-22 09:58*
