# print_batch_results

**Type:** Today I Learned
**Repository:** Cybersecurity-Projects
**File:** PROJECTS/beginner/dns-lookup/dnslookup/output.py
**Language:** python
**Lines:** 269-328
**Complexity:** 13.0

---

## Source Code

```python
def print_batch_results(results: list[DNSResult]) -> None:
    """
    Display batch lookup results in a summary table
    """
    table = Table(
        title = "[bold]Batch Results[/bold]",
        box = box.ROUNDED,
        border_style = "blue",
        row_styles = ["",
                      "dim"],
    )

    table.add_column("Domain", style = "cyan", min_width = 25)
    table.add_column("A", justify = "center", width = 15)
    table.add_column("MX", justify = "center", width = 5)
    table.add_column("NS", justify = "center", width = 5)
    table.add_column(
        "Time",
        justify = "right",
        style = "dim",
        width = 8
    )

    for result in results:
        a_records = [
            r for r in result.records if r.record_type == RecordType.A
        ]
        mx_count = len(
            [
                r for r in result.records
                if r.record_type == RecordType.MX
            ]
        )
        ns_count = len(
            [
                r for r in result.records
                if r.record_type == RecordType.NS
            ]
        )

        a_value = a_records[0].value if a_records else "[dim]-[/dim]"
        mx_value = str(mx_count) if mx_count else "[dim]-[/dim]"
        ns_value = str(ns_count) if ns_count else "[dim]-[/dim]"

        table.add_row(
            result.domain,
            a_value,
            mx_value,
            ns_value,
            f"{result.query_time_ms:.0f}ms",
        )

    console.print(table)

    total_records = sum(len(r.records) for r in results)
    total_time = sum(r.query_time_ms for r in results)
    console.print(
        f"\n[green]:heavy_check_mark:[/green] {len(results)} domains, {total_records} total records in {total_time:.0f}ms"
    )
    console.print()
```

---

## Today I Learned

TIL: I learned how to create an ASCII art-style table with rich text styling using Rich library's `Table` class in Python. This function, `print_batch_results`, dynamically generates a summary table for DNS lookup results, making it easy to read and visually appealing. The use of list comprehensions for filtering records and conditional formatting with Richâ€™s styles enhances readability and maintainability.

```python
table = Table(title="[bold]Batch Results[/bold]", box=box.ROUNDED)
```

This snippet showcases a clean way to present complex data in a user-friendly format!

---

*Generated by CodeWorm on 2026-02-19 12:00*
