# encode_cmd

**Type:** Today I Learned
**Repository:** Cybersecurity-Projects
**File:** PROJECTS/beginner/base64-tool/src/base64_tool/cli.py
**Language:** python
**Lines:** 95-135
**Complexity:** 5.0

---

## Source Code

```python
def encode_cmd(
    data: Annotated[
        str | None,
        typer.Argument(help = "Data to encode."),
    ] = None,
    fmt: Annotated[
        EncodingFormat,
        typer.Option(
            "--format",
            "-f",
            help = "Target encoding format.",
        ),
    ] = EncodingFormat.BASE64,
    file: Annotated[
        Path | None,
        typer.Option(
            "--file",
            "-i",
            help = "Read input from file.",
        ),
    ] = None,
    form: Annotated[
        bool,
        typer.Option(
            "--form",
            help = "Use form-encoding for URL (space becomes +).",
        ),
    ] = False,
) -> None:
    try:
        raw = resolve_input_bytes(data, file)
        if fmt == EncodingFormat.URL and form:
            result = encode_url(raw, form = True)
        else:
            result = encode(raw, fmt)
        print_encoded(result, fmt)
    except typer.BadParameter:
        raise
    except Exception as exc:
        _console.print(f"[red]Error:[/red] {exc}")
        raise typer.Exit(code = ExitCode.ERROR) from None
```

---

## Today I Learned

TIL: I learned how to use `typer` annotations for argument handling in Python, making command-line interfaces more readable and maintainable. The `encode_cmd` function uses `Annotated` from `typing_extensions` to provide clear documentation and type hints directly within the function signature, enhancing code clarity without cluttering the implementation.

---

*Generated by CodeWorm on 2026-02-28 18:29*
