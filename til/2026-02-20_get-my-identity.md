# get_my_identity

**Type:** Today I Learned
**Repository:** angelamos-operations
**File:** CarterOS-Server/src/core/integrations/mcp/server.py
**Language:** python
**Lines:** 425-504
**Complexity:** 10.0

---

## Source Code

```python
async def get_my_identity() -> dict:
    """
    Get Carter's full identity profile including:
    - Basic info (name, age, background, role, goals)
    - Skills with proficiency levels
    - Interests and passion levels
    - Strengths and weaknesses
    - Brand voice and content preferences
    - Platform goals

    Use this to understand context about Carter when helping.
    """
    async with sessionmanager.session() as session:
        identity = await IdentityRepository.get_identity(session)

        return {
            "name": identity.name,
            "age": identity.age,
            "background": identity.background,
            "current_role": identity.current_role,
            "primary_goal": identity.primary_goal,
            "target_audience": identity.target_audience,
            "skills": [
                {
                    "skill": s.skill,
                    "proficiency": s.proficiency.value,
                    "years_experience": s.years_experience,
                    "context": s.context,
                }
                for s in identity.skills
            ],
            "interests": [
                {
                    "topic": i.topic,
                    "passion_level": i.passion_level.value,
                    "why": i.why,
                }
                for i in identity.interests
            ],
            "strengths": [
                {
                    "strength": s.strength,
                    "source": s.source.value,
                    "evidence": s.evidence,
                }
                for s in identity.strengths
            ],
            "weaknesses": [
                {
                    "weakness": w.weakness,
                    "impact": w.impact,
                    "workaround": w.workaround,
                }
                for w in identity.weaknesses
            ],
            "brand_voice": {
                "tone": identity.brand_voice.tone if identity.brand_voice else None,
                "sentence_structure": (
                    identity.brand_voice.sentence_structure
                    if identity.brand_voice
                    else None
                ),
                "uses_analogies": (
                    identity.brand_voice.uses_analogies
                    if identity.brand_voice
                    else None
                ),
            }
            if identity.brand_voice
            else None,
            "platform_goals": [
                {
                    "platform": g.platform.value,
                    "current_followers": g.current_followers,
                    "goal_followers": g.goal_followers,
                    "strategy": g.strategy,
                }
                for g in identity.platform_goals
            ],
        }
```

---

## Today I Learned

TIL: I learned how to use Python's f-string expressions within dictionary comprehensions for conditional logic, making the code more readable and concise. This pattern elegantly handles optional fields based on conditions.

```python
"brand_voice": {
    ...
} if identity.brand_voice else None,
```

This snippet checks if `identity.brand_voice` exists before including its details in the final dictionary, ensuring clean and maintainable code.

---

*Generated by CodeWorm on 2026-02-20 19:20*
