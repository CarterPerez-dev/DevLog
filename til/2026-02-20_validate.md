# validate

**Type:** Today I Learned
**Repository:** fullstack-template
**File:** stacks/go-react/go-backend/internal/config/config.go
**Language:** go
**Lines:** 248-290
**Complexity:** 13.0

---

## Source Code

```go
func validate(c *Config) error {
	if c.Database.URL == "" {
		return fmt.Errorf("DATABASE_URL is required")
	}

	if c.Redis.URL == "" {
		return fmt.Errorf("REDIS_URL is required")
	}

	if c.JWT.PrivateKeyPath == "" {
		return fmt.Errorf("JWT_PRIVATE_KEY_PATH is required")
	}

	if c.JWT.PublicKeyPath == "" {
		return fmt.Errorf("JWT_PUBLIC_KEY_PATH is required")
	}

	if c.CORS.AllowCredentials {
		for _, origin := range c.CORS.AllowedOrigins {
			if origin == "*" {
				return fmt.Errorf(
					"CORS wildcard '*' cannot be used with AllowCredentials",
				)
			}
		}
	}

	if c.App.Environment == "production" {
		if c.Otel.Enabled && c.Otel.Insecure {
			return fmt.Errorf("OTEL_INSECURE must be false in production")
		}
	}

	if c.Server.ReadTimeout <= 0 {
		return fmt.Errorf("server.read_timeout must be positive")
	}

	if c.Server.WriteTimeout <= 0 {
		return fmt.Errorf("server.write_timeout must be positive")
	}

	return nil
}
```

---

## Today I Learned

TIL: This Go validation function uses early return with error propagation to check configuration settings, making the code concise and easy to follow. Each condition returns an error immediately if invalid, ensuring clear feedback on what's missing or misconfigured.

```go
func validate(c *Config) error {
	// ... multiple validations ...

	return nil
}
```

This approach keeps the function clean and ensures any validation failure stops execution early.

---

*Generated by CodeWorm on 2026-02-20 13:15*
