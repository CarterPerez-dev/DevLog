# sanitizeProjectName

**Type:** Today I Learned
**Repository:** angelamos-operations
**File:** Docker-Kentros/internal/scanner/finder.go
**Language:** go
**Lines:** 317-344
**Complexity:** 14.0

---

## Source Code

```go
func sanitizeProjectName(name string) string {
	name = strings.ToLower(name)
	name = strings.ReplaceAll(name, ".", "-")

	var result strings.Builder
	for i, r := range name {
		if (r >= 'a' && r <= 'z') || (r >= '0' && r <= '9') || r == '-' || r == '_' {
			result.WriteRune(r)
		} else {
			result.WriteRune('-')
		}

		if i == 0 && !(r >= 'a' && r <= 'z') && !(r >= '0' && r <= '9') {
			result.Reset()
			result.WriteRune('p')
			result.WriteRune('-')
		}
	}

	sanitized := result.String()
	sanitized = strings.Trim(sanitized, "-_")

	if sanitized == "" {
		return "project"
	}

	return sanitized
}
```

---

## Today I Learned

TIL: In `sanitizeProjectName`, Go's `strings.Builder` is used for efficient string construction, avoiding multiple allocations. The function also cleverly handles edge cases by resetting and prepending 'p-' if the name starts with a non-alphanumeric character.

```go
result := strings.Builder{}
for i, r := range name {
	// ...
	if i == 0 && !isValidStart(r) {
		result.Reset()
		result.WriteRune('p')
		result.WriteRune('-')
	}
}
```

This approach ensures the sanitized name is both valid and meaningful.

---

*Generated by CodeWorm on 2026-02-20 23:43*
