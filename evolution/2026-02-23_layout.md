# _layout

**Type:** Code Evolution
**Repository:** ios-test
**File:** red-recon/app/_layout.tsx
**Language:** tsx
**Lines:** 1-1
**Complexity:** 0.0

---

## Source Code

```tsx
Commit: 120aefce
Message: checkpoint
Author: CarterPerez-dev
File: red-recon/app/_layout.tsx
Change type: modified

Diff:
@@ -10,16 +10,28 @@ import {
 } from '@/core/api'
 import { useAuthStore } from '@/core/lib'
 import { useAppStateFocusManager, useOnlineManager } from '@/shared/hooks'
+import { colors } from '@/theme/tokens'
+import {
+  Inter_400Regular,
+  Inter_500Medium,
+  Inter_600SemiBold,
+  Inter_700Bold,
+  useFonts,
+} from '@expo-google-fonts/inter'
 import { PersistQueryClientProvider } from '@tanstack/react-query-persist-client'
+import * as SplashScreen from 'expo-splash-screen'
 import { Stack } from 'expo-router'
 import { StatusBar } from 'expo-status-bar'
 import type React from 'react'
 import { useEffect } from 'react'
+import { ActivityIndicator, View } from 'react-native'
 import { GestureHandlerRootView } from 'react-native-gesture-handler'
 import { SafeAreaProvider } from 'react-native-safe-area-context'
 import { TamaguiProvider } from 'tamagui'
 import config from '../tamagui.config'
 
+SplashScreen.preventAutoHideAsync()
+
 function AppProviders({
   children,
 }: { children: React.ReactNode }): React.ReactElement {
@@ -46,7 +58,28 @@ function AppProviders({
   )
 }
 
-export default function RootLayout(): React.ReactElement {
+export default function RootLayout(): React.ReactElement | null {
+  const [fontsLoaded] = useFonts({
+    Inter: Inter_400Regular,
+    InterMedium: Inter_500Medium,
+    InterSemiBold: Inter_600SemiBold,
+    InterBold: Inter_700Bold,
+  })
+
+  useEffect(() => {
+    if (fontsLoaded) {
+      SplashScreen.hideAsync()
+    }
+  }, [fontsLoaded])
+
+  if (!fontsLoaded) {
+    return (
+      <View style={{ flex: 1, justifyContent: 'center', alignItems: 'center', backgroundColor: colors.bgDefault.val }}>
+        <ActivityIndicator size="large" color={colors.accent.val} />
+      </View>
+    )
+  }
+
   return (
     <GestureHandlerRootView style={{ flex: 1 }}>
       <SafeAreaProvider>
@@ -55,7 +88,7 @@ export default function RootLayout(): React.ReactElement {
           <Stack
             screenOptions={{
               headerShown: false,
-              contentStyle: { backgroundColor: '#121212' },
+              contentStyle: { backgroundColor: colors.bgDefault.val },
               animation: 'fade',
             }}
           />

```

---

## Code Evolution

### Change Analysis

**What was Changed:**
The code added support for font loading and splash screen handling in the `_layout.tsx` file. Specifically, new imports were added for fonts and `expo-splash-screen`. The `useFonts` hook is used to manage font loading, and a `useEffect` hook hides the splash screen once all fonts are loaded. Additionally, a fallback view with an activity indicator was introduced to display while fonts are being loaded.

**Why it Was Likely Changed:**
This change likely aims to improve the user experience by ensuring that the application appears more responsive during initial load times. By showing a loading spinner and hiding the splash screen only after all necessary fonts are ready, users will see content sooner, reducing perceived lag.

**Impact on Behavior:**
The impact is primarily visual and performance-related. The app now displays a loading spinner with a custom color scheme while waiting for font resources to be loaded, enhancing user engagement during startup. Once fonts are available, the splash screen is hidden more quickly, leading to faster transitions into the main application view.

**Risks or Concerns:**
- **Performance Impact:** If network conditions are poor, the delay in loading fonts could introduce noticeable lag.
- **Styling Consistency:** Ensuring that `colors` from the theme tokens match expected styles across different components might require additional checks.
- **Error Handling:** The current implementation assumes all font loads will succeed. Adding error handling for font loading could improve robustness.

Overall, this change enhances user experience by making the app feel more responsive and polished during startup.

---

*Generated by CodeWorm on 2026-02-23 12:22*
