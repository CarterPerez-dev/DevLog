# ChecklistItem

**Type:** Code Evolution
**Repository:** angelamos-operations
**File:** CarterOS-Client/src/aspects/life-manager/facets/checklist/components/ChecklistItem.tsx
**Language:** tsx
**Lines:** 1-1
**Complexity:** 0.0

---

## Source Code

```tsx
Commit: dae6cf01
Message: add checklist tool
Author: CarterPerez-dev
File: CarterOS-Client/src/aspects/life-manager/facets/checklist/components/ChecklistItem.tsx
Change type: new file

Diff:
@@ -0,0 +1,81 @@
+// ===================
+// Â© AngelaMos | 2026
+// ChecklistItem.tsx
+// ===================
+
+import { useState } from 'react'
+import type { ChecklistLogEntry } from '../types'
+import styles from './ChecklistItem.module.scss'
+
+interface ChecklistItemProps {
+  entry: ChecklistLogEntry
+  onToggle: (id: string, completed: boolean, note?: string | null) => void
+  editMode: boolean
+  onEdit: (id: string, title: string) => void
+  onDelete: (id: string) => void
+}
+
+export function ChecklistItem({ entry, onToggle, editMode, onEdit, onDelete }: ChecklistItemProps) {
+  const [note, setNote] = useState(entry.note ?? '')
+  const [showNote, setShowNote] = useState(!!entry.note)
+  const [editTitle, setEditTitle] = useState(entry.item_title)
+
+  const handleCheck = () => {
+    const nextCompleted = !entry.completed
+    onToggle(entry.id, nextCompleted, nextCompleted ? note || null : null)
+    if (nextCompleted) setShowNote(true)
+  }
+
+  const handleNoteBlur = () => {
+    if (entry.completed) {
+      onToggle(entry.id, true, note || null)
+    }
+  }
+
+  return (
+    <div className={`${styles.row} ${entry.completed ? styles.completed : ''}`}>
+      <input
+        type="checkbox"
+        className={styles.checkbox}
+        checked={entry.completed}
+        onChange={handleCheck}
+      />
+
+      {editMode ? (
+        <input
+          className={styles.titleInput}
+          value={editTitle}
+          onChange={(e) => setEditTitle(e.target.value)}
+          onBlur={() => onEdit(entry.item_id, editTitle)}
+        />
+      ) : (
+        <span className={styles.title}>{entry.item_title}</span>
+      )}
+
+      {entry.completed && !editMode && (
+        <button
+          className={styles.noteToggle}
+          onClick={() => setShowNote((v) => !v)}
+        >
+          {showNote ? 'hide note' : 'add note'}
+        </button>
+      )}
+
+      {editMode && (
+        <button className={styles.deleteBtn} onClick={() => onDelete(entry.item_id)}>
+          remove
+        </button>
+      )}
+
+      {showNote && entry.completed && !editMode && (
+        <input
+          className={styles.noteInput}
+          placeholder="Add a note..."
+          value={note}
+          onChange={(e) => setNote(e.target.value)}
+          onBlur={handleNoteBlur}
+        />
+      )}
+    </div>
+  )
+}

```

---

## Code Evolution

### Change Analysis for ChecklistItem.tsx

**What was Changed:**
A new file `ChecklistItem.tsx` was added, introducing a React component to display and manage checklist items. The component handles toggling item completion, editing titles, adding notes, and deleting items.

**Why it was Likely Changed:**
This change likely aims to enhance the functionality of the life-manager facet by providing a more interactive and user-friendly way to manage tasks or entries in a checklist. The introduction of state management for notes and edit modes suggests a desire to improve user experience and flexibility.

**Impact on Behavior:**
The new component will allow users to:
- Toggle item completion with a checkbox.
- Edit the title of an item when in edit mode.
- Add or hide notes for completed items.
- Delete items directly from the interface.
This enhances interactivity and provides more control over checklist entries, making it easier to manage tasks.

**Risks or Concerns:**
- **State Management:** The use of multiple state hooks (e.g., `useState`) might lead to potential bugs if not managed carefully. Ensuring consistent updates and avoiding race conditions is crucial.
- **Prop Handling:** Proper validation and handling of props like `onToggle`, `onEdit`, and `onDelete` are essential to prevent unexpected behavior or errors.

Overall, this change significantly improves the user interface for managing checklist items in CarterOS-Client.

---

*Generated by CodeWorm on 2026-02-22 19:38*
