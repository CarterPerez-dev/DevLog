# prompts

**Type:** Code Evolution
**Repository:** CodeWorm
**File:** codeworm/llm/prompts.py
**Language:** python
**Lines:** 1-1
**Complexity:** 0.0

---

## Source Code

```python
Commit: ca3ce30d
Message: v1.0.2: add doc type system, Docker infrastructure, and web dashboard

- Add 11 documentation types (function, class, file, security review, TIL, etc.)
  with weighted random selection so the same codebase generates 10x more unique content
- Add Docker Compose for Ollama (GPU passthrough) + Redis + Dashboard + Nginx
- Add FastAPI backend with REST API, WebSocket live events, and Redis pub/sub
- Add React dashboard with stats, live log, commit feed, repo list, and worm viz
- Add next_scheduled_run logging after each cycle completes
- Update repos config and README for v1.0.2
Author: CarterPerez-dev
File: codeworm/llm/prompts.py
Change type: modified

Diff:
@@ -7,10 +7,11 @@ from __future__ import annotations
 from dataclasses import dataclass
 from typing import TYPE_CHECKING
 
-from codeworm.models import Language
+from codeworm.models import DocType, Language
 
 if TYPE_CHECKING:
     from codeworm.analysis import AnalysisCandidate
+    from codeworm.analysis.targets import DocumentationTarget
     from codeworm.core.config import PromptSettings
 
 
@@ -29,7 +30,6 @@ Rules:
 5. Use markdown formatting
 6. Focus on practical understanding, not line-by-line description"""
 
-
 DEFAULT_DOCUMENTATION_TEMPLATE = """Analyze and document this {language} code:
 
 ```{language}
@@ -49,7 +49,6 @@ Write technical documentation (100-200 words) covering:
 3. When/why to use this code
 4. Any patterns or gotchas worth noting"""
 
-
 DEFAULT_COMMIT_MESSAGE_TEMPLATE = """Based on this documentation snippet, generate a natural-sounding git commit message.
 
 Documentation:
@@ -68,14 +67,296 @@ Generate a commit message that:
 
 Return ONLY the commit message, nothing else."""
 
+SECURITY_REVIEW_SYSTEM_PROMPT = """You are a security analyst reviewing code for vulnerabilities.
+
+Analyze the code for:
+- Injection vulnerabilities (SQL, command, XSS)
+- Authentication and authorization issues
+- Hardcoded secrets or credentials
+- Race conditions and TOCTOU bugs
+- Input validation gaps
+- Insecure deserialization
+- Error handling that leaks information
+
+Rules:
+1. Only reference code in the provided snippet
+2. Be specific about line numbers and variable names
+3. Rate severity: Critical, High, Medium, Low, Info
+4. Suggest concrete fixes
+5. Keep under 200 words
+6. Use markdown formatting"""
+
+SECURITY_REVIEW_TEMPLATE = """Review this {language} code for security issues:
+
+```{language}
+{source}
+```
+
+Context:
+- Function/Class: {name}
+- File: {file_path}
+- Repository: {repo}
+
+Write a security review (100-200 words) covering:
+1. Any vulnerabilities found (with severity)
+2. Attack vectors if applicable
+3. Recommended fixes
+4. Overall security posture"""
+
+PERFORMANCE_ANALYSIS_SYSTEM_PROMPT = """You are a performance engineer analyzing code efficiency.
+
+Analyze the code for:
+- Time complexity (Big O notation)
+- Space complexity and memory allocation
+- Unnecessary iterations or redundant operations
+- Blocking calls i
```

---

## Code Evolution

### Change Analysis

**What was Changed:**
The code in `prompts.py` has been modified to include new system prompts and templates for various documentation types, such as security reviews, performance analyses, TIL entries, and file-level documentation. Additionally, the imports have been updated to include `DocType`.

**Why it Was Likely Changed:**
This change was likely made to expand the capabilities of CodeWorm's analysis tools by adding more detailed and specialized documentations. The introduction of these new templates allows for a richer set of outputs, enhancing the tool's utility and depth in code reviews.

**Impact on Behavior:**
The impact is significant as it broadens the scope of what CodeWorm can generate. For instance, security reviews now include specific prompts to identify common vulnerabilities, while performance analyses focus on efficiency metrics. This will likely lead to more comprehensive and actionable documentation for developers.

**Risks or Concerns:**
While these changes enhance functionality, they may introduce complexity in managing the different templates and prompts. Ensuring that all new types of documentation are consistently applied and understood by users could be a risk. Additionally, the increased number of system prompts might require more computational resources during analysis cycles.

Overall, this change is a feature addition aimed at improving CodeWorm's depth and breadth of code analysis capabilities.

---

*Generated by CodeWorm on 2026-02-23 21:50*
