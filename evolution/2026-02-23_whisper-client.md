# whisper.client

**Type:** Code Evolution
**Repository:** angelamos-3d
**File:** frontend/src/api/whisper.client.ts
**Language:** typescript
**Lines:** 1-1
**Complexity:** 0.0

---

## Source Code

```typescript
Commit: a61e4cd8
Message: feat: complete mvp v1.0.0
Author: CarterPerez-dev
File: frontend/src/api/whisper.client.ts
Change type: new file

Diff:
@@ -0,0 +1,30 @@
+// ===================
+// Â© AngelaMos | 2026
+// whisper.client.ts
+// ===================
+
+import { getAngelaConfig } from "../config";
+import type { TranscriptResult } from "../types";
+
+export async function transcribeAudio(
+	audioBlob: Blob,
+): Promise<TranscriptResult> {
+	const config = getAngelaConfig();
+	const formData = new FormData();
+	formData.append("file", audioBlob, "audio.wav");
+
+	const response = await fetch(`${config.api.baseUrl}/v1/stt`, {
+		method: "POST",
+		body: formData,
+	});
+
+	if (!response.ok) {
+		throw new Error(`Transcription failed: ${response.status}`);
+	}
+
+	const data = await response.json();
+	return {
+		text: data.text?.trim() || "",
+		duration_ms: data.duration * 1000,
+	};
+}

```

---

## Code Evolution

### Change Analysis for `whisper.client.ts`

**What was Changed:**
A new file, `whisper.client.ts`, was added to the repository. This file contains an asynchronous function `transcribeAudio` that handles audio transcription using a backend API.

- **Lines 1-30:** The file is structured with comments and imports necessary modules.
- **Lines 8-29:** The `transcribeAudio` function takes a `Blob` as input, constructs a `FormData` object to send the audio data, and makes an HTTP POST request to the specified API endpoint.

**Why it was Likely Changed:**
This change likely represents a new feature in the MVP v1.0.0 release. The function is designed to transcribe audio files using an external service, which could be part of a larger speech-to-text functionality for the application.

**Impact on Behavior:**
- **Positive Impact:** Users can now submit audio files and receive transcribed text.
- **Behavioral Changes:** The API endpoint `/v1/stt` is used to process the transcription request. If the response status is not `ok`, an error is thrown, ensuring robust error handling.

**Risks or Concerns:**
- **API Dependency:** The application now depends on a specific backend API (`config.api.baseUrl`). Any changes in this endpoint could break the functionality.
- **Error Handling:** While basic error handling is implemented, more detailed logging and user feedback might be necessary for a better user experience.

---

*Generated by CodeWorm on 2026-02-23 19:32*
