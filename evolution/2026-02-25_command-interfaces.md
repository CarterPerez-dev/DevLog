# command.interfaces

**Type:** Code Evolution
**Repository:** CertGames-Core
**File:** frontend/user-app/src/domains/tools/command/types/command.interfaces.ts
**Language:** typescript
**Lines:** 1-1
**Complexity:** 0.0

---

## Source Code

```typescript
Commit: ac667e13
Message: refactor(tools): migrate all 11 tool domain interfaces to Zod schemas

Convert interfaces with matching type guards to Zod schemas across
acronym, analogy, command, disaster, grc, hardware, permission,
scenario, sql, subnetting, and xploitcraft domains. Guard functions
now use schema.safeParse() for validation.
Author: CarterPerez-dev
File: frontend/user-app/src/domains/tools/command/types/command.interfaces.ts
Change type: modified

Diff:
@@ -1,8 +1,10 @@
 // ===========================
-// Command Interfaces
-// ©AngelaMos | 2025
+// © AngelaMos | 2026
+// command.interfaces.ts
 // ===========================
 
+import { z } from 'zod';
+
 import type { ShellType, CommandCategory } from './command.enums';
 
 export interface ExplainCommandRequest {
@@ -11,24 +13,32 @@ export interface ExplainCommandRequest {
   command: string;
 }
 
-export interface CommandStreamChunk {
-  content: string;
-  timestamp: number;
-}
+export const commandStreamChunkSchema = z.object({
+  content: z.string(),
+  timestamp: z.number(),
+});
 
-export interface ExplainCommandResponse {
-  full_text: string;
-  chunks_received: number;
-  completed: boolean;
-  error: string | null;
-}
+export type CommandStreamChunk = z.infer<typeof commandStreamChunkSchema>;
 
-export interface CommandStreamState {
-  isStreaming: boolean;
-  chunks: CommandStreamChunk[];
-  fullText: string;
-  error: string | null;
-  completed: boolean;
-}
+export const explainCommandResponseSchema = z.object({
+  full_text: z.string(),
+  chunks_received: z.number(),
+  completed: z.boolean(),
+  error: z.string().nullable(),
+});
+
+export type ExplainCommandResponse = z.infer<
+  typeof explainCommandResponseSchema
+>;
+
+export const commandStreamStateSchema = z.object({
+  isStreaming: z.boolean(),
+  chunks: z.array(commandStreamChunkSchema),
+  fullText: z.string(),
+  error: z.string().nullable(),
+  completed: z.boolean(),
+});
+
+export type CommandStreamState = z.infer<typeof commandStreamStateSchema>;
 
 export type ExplainCommandVariables = ExplainCommandRequest;

```

---

## Code Evolution

### Change Analysis

**What was Changed:**
The file `command.interfaces.ts` was modified to replace the old interfaces with Zod schemas for validation. Specifically, three new Zod schemas were introduced:
- `commandStreamChunkSchema`
- `explainCommandResponseSchema`
- `commandStreamStateSchema`

**Why it Was Likely Changed:**
This change likely aims to standardize and enhance type safety and validation across all tool domain interfaces using Zod, a popular schema definition library for TypeScript. By converting the existing interfaces with matching type guards into Zod schemas, the code can benefit from Zod's robust validation capabilities.

**Impact on Behavior:**
The behavior of command-related operations remains largely unchanged. However, the introduction of Zod schemas ensures that any incoming data is validated against these schemas before being processed. This could prevent runtime errors due to invalid input and improve overall data integrity.

**Risks or Concerns:**
While this refactor enhances validation, there's a risk if existing code does not properly use `schema.safeParse()` for validation. Developers must ensure they update their logic to utilize the new Zod schemas correctly to avoid potential bugs. Additionally, the introduction of schema inference might complicate type inference in some cases, requiring careful handling.

Overall, this change is likely a refactor aimed at improving code quality and maintainability through standardized validation practices.

---

*Generated by CodeWorm on 2026-02-25 22:21*
