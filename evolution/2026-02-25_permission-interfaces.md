# permission.interfaces

**Type:** Code Evolution
**Repository:** CertGames-Core
**File:** frontend/user-app/src/domains/tools/permission/types/permission.interfaces.ts
**Language:** typescript
**Lines:** 1-1
**Complexity:** 0.0

---

## Source Code

```typescript
Commit: ac667e13
Message: refactor(tools): migrate all 11 tool domain interfaces to Zod schemas

Convert interfaces with matching type guards to Zod schemas across
acronym, analogy, command, disaster, grc, hardware, permission,
scenario, sql, subnetting, and xploitcraft domains. Guard functions
now use schema.safeParse() for validation.
Author: CarterPerez-dev
File: frontend/user-app/src/domains/tools/permission/types/permission.interfaces.ts
Change type: modified

Diff:
@@ -1,8 +1,10 @@
 // ===========================
-// Permission Interfaces
-// ©AngelaMos | 2025
+// © AngelaMos | 2026
+// permission.interfaces.ts
 // ===========================
 
+import { z } from 'zod';
+
 import type {
   ScenarioType,
   Difficulty,
@@ -17,24 +19,32 @@ export interface GeneratePuzzleRequest {
   file_count: FileCount;
 }
 
-export interface PermissionStreamChunk {
-  content: string;
-  timestamp: number;
-}
+export const permissionStreamChunkSchema = z.object({
+  content: z.string(),
+  timestamp: z.number(),
+});
 
-export interface GeneratePuzzleResponse {
-  full_text: string;
-  chunks_received: number;
-  completed: boolean;
-  error: string | null;
-}
+export type PermissionStreamChunk = z.infer<typeof permissionStreamChunkSchema>;
 
-export interface PermissionStreamState {
-  isStreaming: boolean;
-  chunks: PermissionStreamChunk[];
-  fullText: string;
-  error: string | null;
-  completed: boolean;
-}
+export const generatePuzzleResponseSchema = z.object({
+  full_text: z.string(),
+  chunks_received: z.number(),
+  completed: z.boolean(),
+  error: z.string().nullable(),
+});
+
+export type GeneratePuzzleResponse = z.infer<
+  typeof generatePuzzleResponseSchema
+>;
+
+export const permissionStreamStateSchema = z.object({
+  isStreaming: z.boolean(),
+  chunks: z.array(permissionStreamChunkSchema),
+  fullText: z.string(),
+  error: z.string().nullable(),
+  completed: z.boolean(),
+});
+
+export type PermissionStreamState = z.infer<typeof permissionStreamStateSchema>;
 
 export type GeneratePuzzleVariables = GeneratePuzzleRequest;

```

---

## Code Evolution

### Change Analysis

**What was Changed:**
The code in `permission.interfaces.ts` was modified to replace the existing interfaces with Zod schemas for validation. The original `PermissionStreamChunk`, `GeneratePuzzleResponse`, and `PermissionStreamState` interfaces were replaced by corresponding Zod schema definitions (`permissionStreamChunkSchema`, `generatePuzzleResponseSchema`, and `permissionStreamStateSchema`). Additionally, new type aliases were introduced using `z.infer` to maintain the existing types.

**Why it was Likely Changed:**
This change likely aims to improve data validation and consistency across the application. Zod provides a robust schema-based validation mechanism that can help catch errors early in development and ensure data integrity during runtime.

**Impact on Behavior:**
The behavior of the `GeneratePuzzleRequest`, `PermissionStreamChunk`, `GeneratePuzzleResponse`, and `PermissionStreamState` types remains unchanged, but their validation logic now uses Zod. This change enhances type safety and ensures that any incoming or outgoing data adheres to strict schemas.

**Risks or Concerns:**
While this refactor improves validation, there is a risk of introducing subtle bugs if the schema definitions do not perfectly match the expected data structure. Careful testing is required to ensure all existing functionality remains intact. Additionally, developers must be familiar with Zod syntax and usage to avoid common pitfalls during development.

---

*Generated by CodeWorm on 2026-02-25 22:47*
