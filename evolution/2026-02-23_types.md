# types

**Type:** Code Evolution
**Repository:** stripe-referral
**File:** src/stripe_referral/schemas/types.py
**Language:** python
**Lines:** 1-1
**Complexity:** 0.0

---

## Source Code

```python
Commit: bfb52633
Message: feat: Done
Author: CarterPerez-dev
File: src/stripe_referral/schemas/types.py
Change type: new file

Diff:
@@ -0,0 +1,106 @@
+"""
+â’¸AngelaMos | 2025 | CertGames.com
+TypedDict definitions for service return types
+"""
+
+from typing import (
+    TypedDict,
+    NotRequired,
+)
+
+
+class CreateCodeResult(TypedDict):
+    """
+    Return type for ReferralService.create_code()
+    """
+    code: str
+    program_id: int
+    user_id: str
+    created_at: str
+
+
+class TrackReferralResult(TypedDict):
+    """
+    Return type for ReferralService.track_referral()
+    """
+    tracking_id: int
+    referrer_user_id: str
+    referred_user_id: str
+    amount_earned: float
+    currency: str
+    converted_at: str
+
+
+class UserEarnings(TypedDict):
+    """
+    Return type for earnings queries
+    """
+    total: float
+    pending: float
+    paid: float
+
+
+class CodeValidation(TypedDict):
+    """
+    Return type for code validation
+    """
+    valid: bool
+    code_id: NotRequired[int]
+    program_id: NotRequired[int]
+    referrer_user_id: NotRequired[str]
+    reason: NotRequired[str]
+
+
+class PayoutResult(TypedDict):
+    """
+    Return type for payout operations
+    """
+    success: bool
+    transaction_id: NotRequired[str]
+    error: NotRequired[str]
+
+
+class RecipientValidation(TypedDict):
+    """
+    Return type for recipient validation
+    """
+    valid: bool
+    error: NotRequired[str]
+
+
+class ReferralHistoryItem(TypedDict):
+    """
+    Single referral history record
+    """
+    referred_user_id: str
+    amount_earned: float
+    currency: str
+    converted_at: str
+    payout_status: str
+
+
+class ProgramInfo(TypedDict):
+    """
+    Return type for program information
+    """
+    id: int
+    name: str
+    program_key: str
+    reward_amount: float
+    reward_currency: str
+    reward_type: str
+    is_active: bool
+
+
+class PayoutInfo(TypedDict):
+    """
+    Return type for payout information
+    """
+    id: int
+    user_id: str
+    amount: float
+    currency: str
+    status: str
+    adapter_type: str
+    processed_at: str | None
+    external_transaction_id: str | None

```

---

## Code Evolution

### Change Analysis for Commit `bfb52633`

**What was Changed:**
The commit introduces a new file, `types.py`, which defines various TypedDict classes in the `stripe_referral` service. These definitions cover return types for different service methods such as creating referral codes, tracking referrals, earning queries, code validation, payout operations, recipient validation, and more.

**Why it was Likely Changed:**
This change likely aims to standardize and type-annotate response structures across various service functions. TypedDicts are used to ensure that the return values from these functions conform to expected schemas, which can help prevent runtime errors and improve code maintainability.

**Impact on Behavior:**
These definitions do not directly impact the behavior of existing functionality but provide a clear contract for how services should interact with each other. They will be useful in development and testing phases by ensuring that developers are aware of the expected data structures returned from service methods.

**Risks or Concerns:**
While TypedDicts enhance type safety, they do not catch all runtime errors. Developers must still ensure that the actual return values match the defined schemas. Additionally, maintaining these definitions can be a burden if the underlying services change frequently. However, this risk is mitigated by the benefits of improved code clarity and maintainability.

---

*Generated by CodeWorm on 2026-02-23 09:21*
