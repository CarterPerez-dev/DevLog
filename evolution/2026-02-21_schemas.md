# schemas

**Type:** Code Evolution
**Repository:** CertGames-Core
**File:** backend/api/domains/games/middleware/schemas.py
**Language:** python
**Lines:** 1-1
**Complexity:** 0.0

---

## Source Code

```python
Commit: fe44f45e
Message: dev v2.0.4 (#169)

* chore(deps): update uv.lock with latest dependency versions

* feat:
- add terminal takedown game
- add back buttons to landing page pages (learn, play, features)
- add back buttons to ai tools and games
- add 10 tests (1000 pratice questions) for the CompTIA SecAI+ v1 exam/certification
- update some deps
- bump to v2.0.4 of CertGames

* error there but not here wtf

* error there but not here wtf
Author: Carter Perez
File: backend/api/domains/games/middleware/schemas.py
Change type: modified

Diff:
@@ -44,3 +44,62 @@ class GetPhishingLeaderboardRequest(BaseModel):
         ge = 1,
         le = 100
     )
+
+
+class GetTerminalChallengesRequest(BaseModel):
+    mode: str = Field(
+        ...,
+        description = "Game mode: quick_fire or mission",
+        pattern = "^(quick_fire|mission_step)$"
+    )
+    limit: int = Field(
+        default = 30,
+        description = "Number of challenges to return",
+        ge = 1,
+        le = 100
+    )
+    difficulty: str | None = Field(
+        default = None,
+        description = "Filter by difficulty",
+        pattern = "^(easy|medium|hard)$"
+    )
+
+
+class EvaluateTerminalCommandRequest(BaseModel):
+    challengeId: str = Field(
+        ...,
+        description = "Challenge ID to evaluate against"
+    )
+    command: str = Field(
+        ...,
+        description = "User's terminal command",
+        min_length = 1,
+        max_length = 500
+    )
+
+
+class SubmitTerminalScoreRequest(BaseModel):
+    score: int = Field(..., description = "Game score", ge = 0, le = 1000)
+    mode: str = Field(
+        ...,
+        description = "Game mode",
+        pattern = "^(quick_fire|mission)$"
+    )
+    challengeIds: list[str] = Field(
+        default_factory = list,
+        description = "IDs of challenges encountered"
+    )
+
+
+class GetTerminalLeaderboardRequest(BaseModel):
+    limit: int = Field(
+        default = Business.TERMINAL_LEADERBOARD_LIMIT,
+        description = "Number of top scores to return",
+        ge = 1,
+        le = 100
+    )
+    mode: str | None = Field(
+        default = None,
+        description = "Filter by mode",
+        pattern = "^(quick_fire|mission)$"
+    )

```

---

## Code Evolution

### Change Analysis

**What was Changed:**
The code added several new request schemas in `schemas.py` for handling terminal-based game interactions, including `GetTerminalChallengesRequest`, `EvaluateTerminalCommandRequest`, `SubmitTerminalScoreRequest`, and `GetTerminalLeaderboardRequest`. These schemas are part of the `CertGames-Core` backend API.

**Why it was Likely Changed:**
This change likely aims to enhance the terminal takedown game functionality by providing structured data models for various interactions, such as fetching challenges, evaluating commands, submitting scores, and retrieving leaderboards. This is a feature addition (`feat`) as mentioned in the commit message.

**Impact on Behavior:**
These new schemas will enable the backend API to handle requests related to the terminal takedown game more robustly. Users can now interact with the game through these defined request structures, which improves the API's clarity and maintainability.

**Risks or Concerns:**
- **Backward Compatibility:** Ensure that existing clients are updated to use the new schemas.
- **Validation:** Verify that all fields in the new schemas are properly validated to prevent unexpected behavior.
- **Testing:** The addition of 10 tests suggests a focus on quality, but ensure these cover edge cases and valid scenarios.

Overall, this change introduces necessary functionality for an interactive game feature while maintaining API integrity.

---

*Generated by CodeWorm on 2026-02-21 15:07*
