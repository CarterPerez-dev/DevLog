# Base

**Type:** Code Evolution
**Repository:** stripe-referral
**File:** src/stripe_referral/database/Base.py
**Language:** python
**Lines:** 1-1
**Complexity:** 0.0

---

## Source Code

```python
Commit: bfb52633
Message: feat: Done
Author: CarterPerez-dev
File: src/stripe_referral/database/Base.py
Change type: new file

Diff:
@@ -0,0 +1,36 @@
+"""
+ⒸAngelaMos | 2025 | CertGames.com
+SQLAlchemy declarative base and timestamp mixin
+"""
+
+from datetime import UTC, datetime
+
+from sqlalchemy import DateTime
+from sqlalchemy.orm import (
+    DeclarativeBase,
+    Mapped,
+    mapped_column,
+)
+
+
+class Base(DeclarativeBase):
+    """
+    Base model for all tables
+    """
+
+
+class TimestampMixin:
+    """
+    Mixin for created_at and updated_at timestamps
+    """
+    created_at: Mapped[datetime] = mapped_column(
+        DateTime(timezone = True),
+        default = lambda: datetime.now(UTC),
+        nullable = False,
+    )
+    updated_at: Mapped[datetime] = mapped_column(
+        DateTime(timezone = True),
+        default = lambda: datetime.now(UTC),
+        onupdate = lambda: datetime.now(UTC),
+        nullable = False,
+    )

```

---

## Code Evolution

### Change Analysis

**What was Changed**: A new file `Base.py` was added to the repository, introducing two classes: `Base` and `TimestampMixin`. The `Base` class is a SQLAlchemy declarative base, while `TimestampMixin` provides default implementations for `created_at` and `updated_at` timestamps.

**Why it was Likely Changed**: This change likely aims to standardize database model creation by providing a reusable base class with timestamp functionality. Using a mixin ensures that common timestamp logic can be easily reused across multiple models without duplicating code.

**Impact on Behavior**: The addition of these classes will affect any new SQLAlchemy models created in the project. Models inheriting from `Base` and using `TimestampMixin` will automatically have `created_at` and `updated_at` fields with default values set to the current UTC time, and `updated_at` will be updated whenever a model is modified.

**Risks or Concerns**: While this change introduces reusable code, it may introduce risks if not all models require timestamps. Additionally, ensuring that all necessary imports are correctly managed across different modules could pose challenges. It's also important to verify that the use of `timezone=True` in `DateTime` aligns with the project’s database setup and timezone requirements.

This refactor aims to improve code organization and reduce redundancy but should be carefully reviewed for potential impacts on existing models or workflows.

---

*Generated by CodeWorm on 2026-02-23 09:28*
