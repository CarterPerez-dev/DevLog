# tts.client

**Type:** Code Evolution
**Repository:** angelamos-operations
**File:** CarterOS-Client/src/aspects/assistant/facets/angela/api/tts.client.ts
**Language:** typescript
**Lines:** 1-1
**Complexity:** 0.0

---

## Source Code

```typescript
Commit: 3894239b
Message: angela-3d implementation - in prog open wake
Author: CarterPerez-dev
File: CarterOS-Client/src/aspects/assistant/facets/angela/api/tts.client.ts
Change type: new file

Diff:
@@ -0,0 +1,43 @@
+// ===================
+// Â© AngelaMos | 2026
+// tts.client.ts
+// ===================
+
+import { getAngelaConfig } from '../config'
+import * as elevenlabs from './elevenlabs.client'
+import * as edgetts from './edgetts.client'
+import type { TTSProvider } from '../types'
+
+export async function synthesizeSpeech(text: string): Promise<ArrayBuffer> {
+  const config = getAngelaConfig()
+  const provider = config.tts.provider
+
+  if (provider === 'edgetts') {
+    return edgetts.synthesizeSpeech(text)
+  }
+
+  return elevenlabs.synthesizeSpeech(text)
+}
+
+export async function checkTTSHealth(): Promise<{ provider: TTSProvider; healthy: boolean }> {
+  const config = getAngelaConfig()
+  const provider = config.tts.provider
+
+  if (provider === 'edgetts') {
+    const healthy = await edgetts.checkEdgeTTSHealth()
+    return { provider, healthy }
+  }
+
+  const healthy = await elevenlabs.checkElevenLabsHealth()
+  return { provider, healthy }
+}
+
+export async function getAvailableProvider(): Promise<TTSProvider | null> {
+  const edgeTTSHealthy = await edgetts.checkEdgeTTSHealth()
+  if (edgeTTSHealthy) return 'edgetts'
+
+  const elevenLabsHealthy = await elevenlabs.checkElevenLabsHealth()
+  if (elevenLabsHealthy) return 'elevenlabs'
+
+  return null
+}

```

---

## Code Evolution

### Change Analysis for Commit 3894239b

**What was Changed:**
A new file `tts.client.ts` was added to the `CarterOS-Client/src/aspects/assistant/facets/angela/api` directory. This file introduces three exported functions:
1. `synthesizeSpeech`: Synthesizes speech based on the configured TTS provider.
2. `checkTTSHealth`: Checks the health of the selected TTS provider.
3. `getAvailableProvider`: Determines which TTS provider is available and healthy.

**Why it was Likely Changed:**
This change likely implements a new feature to support multiple Text-to-Speech (TTS) providers, specifically ElevenLabs and EdgeTTS. The implementation allows for dynamic selection based on configuration settings, ensuring the system can switch between providers if one becomes unavailable or unhealthy.

**Impact on Behavior:**
- Users will now have access to speech synthesis through either ElevenLabs or EdgeTTS.
- The `synthesizeSpeech` function ensures that the appropriate provider is used based on the configuration.
- Health checks for both providers are performed, providing feedback on which provider is currently available and healthy.

**Risks or Concerns:**
- Potential performance differences between ElevenLabs and EdgeTTS may affect speech quality and latency.
- If neither provider is healthy, there could be a fallback mechanism needed to handle the situation gracefully.

---

*Generated by CodeWorm on 2026-02-22 15:16*
