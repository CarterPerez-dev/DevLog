# disaster.interfaces

**Type:** Code Evolution
**Repository:** CertGames-Core
**File:** frontend/user-app/src/domains/tools/disaster/types/disaster.interfaces.ts
**Language:** typescript
**Lines:** 1-1
**Complexity:** 0.0

---

## Source Code

```typescript
Commit: ac667e13
Message: refactor(tools): migrate all 11 tool domain interfaces to Zod schemas

Convert interfaces with matching type guards to Zod schemas across
acronym, analogy, command, disaster, grc, hardware, permission,
scenario, sql, subnetting, and xploitcraft domains. Guard functions
now use schema.safeParse() for validation.
Author: CarterPerez-dev
File: frontend/user-app/src/domains/tools/disaster/types/disaster.interfaces.ts
Change type: modified

Diff:
@@ -1,8 +1,10 @@
 // ===========================
-// Disaster Recovery Interfaces
-// ©AngelaMos | 2025
+// © AngelaMos | 2026
+// disaster.interfaces.ts
 // ===========================
 
+import { z } from 'zod';
+
 import type {
   RTOTarget,
   RPOTarget,
@@ -21,24 +23,32 @@ export interface GenerateScenarioRequest {
   platform: CloudPlatform;
 }
 
-export interface DisasterStreamChunk {
-  content: string;
-  timestamp: number;
-}
+export const disasterStreamChunkSchema = z.object({
+  content: z.string(),
+  timestamp: z.number(),
+});
 
-export interface GenerateScenarioResponse {
-  full_text: string;
-  chunks_received: number;
-  completed: boolean;
-  error: string | null;
-}
+export type DisasterStreamChunk = z.infer<typeof disasterStreamChunkSchema>;
 
-export interface DisasterStreamState {
-  isStreaming: boolean;
-  chunks: DisasterStreamChunk[];
-  fullText: string;
-  error: string | null;
-  completed: boolean;
-}
+export const generateScenarioResponseSchema = z.object({
+  full_text: z.string(),
+  chunks_received: z.number(),
+  completed: z.boolean(),
+  error: z.string().nullable(),
+});
+
+export type GenerateScenarioResponse = z.infer<
+  typeof generateScenarioResponseSchema
+>;
+
+export const disasterStreamStateSchema = z.object({
+  isStreaming: z.boolean(),
+  chunks: z.array(disasterStreamChunkSchema),
+  fullText: z.string(),
+  error: z.string().nullable(),
+  completed: z.boolean(),
+});
+
+export type DisasterStreamState = z.infer<typeof disasterStreamStateSchema>;
 
 export type GenerateScenarioVariables = GenerateScenarioRequest;

```

---

## Code Evolution

### Change Analysis

**What was Changed:**
The code in `disaster.interfaces.ts` has been refactored to use Zod schemas for validation instead of the previous interface definitions with type guards. Specifically, three interfaces (`DisasterStreamChunk`, `GenerateScenarioResponse`, and `DisasterStreamState`) have been replaced by corresponding Zod schemas.

**Why it was Likely Changed:**
This change likely aims to improve code maintainability and robustness by centralizing validation logic in a more expressive and flexible schema format. Using Zod allows for clearer, type-safe validation rules that can be easily tested and extended.

**Impact on Behavior:**
The behavior of the application remains largely unchanged; however, the way these objects are validated has shifted from runtime type checks to static schema-based validation. This ensures that any data passed through these interfaces is correctly formatted before being processed.

**Risks or Concerns:**
While Zod provides a powerful and flexible validation mechanism, there's a risk of introducing bugs if the schemas are not correctly defined. Additionally, developers need to ensure they understand both TypeScript types and Zod schema definitions to maintain this code effectively. Testing the new schemas thoroughly is crucial to catch any potential issues early.

Overall, this refactor enhances the robustness and clarity of the validation logic without altering the core functionality.

---

*Generated by CodeWorm on 2026-02-25 22:30*
