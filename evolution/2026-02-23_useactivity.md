# useActivity

**Type:** Code Evolution
**Repository:** CodeWorm
**File:** dashboard/frontend/src/api/hooks/useActivity.ts
**Language:** typescript
**Lines:** 1-1
**Complexity:** 0.0

---

## Source Code

```typescript
Commit: ca3ce30d
Message: v1.0.2: add doc type system, Docker infrastructure, and web dashboard

- Add 11 documentation types (function, class, file, security review, TIL, etc.)
  with weighted random selection so the same codebase generates 10x more unique content
- Add Docker Compose for Ollama (GPU passthrough) + Redis + Dashboard + Nginx
- Add FastAPI backend with REST API, WebSocket live events, and Redis pub/sub
- Add React dashboard with stats, live log, commit feed, repo list, and worm viz
- Add next_scheduled_run logging after each cycle completes
- Update repos config and README for v1.0.2
Author: CarterPerez-dev
File: dashboard/frontend/src/api/hooks/useActivity.ts
Change type: new file

Diff:
@@ -0,0 +1,30 @@
+// Â©AngelaMos | 2026
+// useActivity.ts
+
+import type { UseQueryResult } from '@tanstack/react-query'
+import { useQuery } from '@tanstack/react-query'
+import type { ActivityDay } from '@/api/types'
+import { API_ENDPOINTS, QUERY_CONFIG, QUERY_KEYS } from '@/config'
+import { apiClient } from '@/core/api'
+
+export const activityQueries = {
+  byDays: (days: number) => QUERY_KEYS.ACTIVITY(days),
+} as const
+
+const fetchActivity = async (days: number): Promise<ActivityDay[]> => {
+  const response = await apiClient.get<ActivityDay[]>(
+    API_ENDPOINTS.ACTIVITY,
+    { params: { days } }
+  )
+  return response.data
+}
+
+export const useActivity = (
+  days = 90
+): UseQueryResult<ActivityDay[], Error> => {
+  return useQuery({
+    queryKey: activityQueries.byDays(days),
+    queryFn: () => fetchActivity(days),
+    staleTime: QUERY_CONFIG.STALE_TIME.STATIC,
+  })
+}

```

---

## Code Evolution

### Change Analysis for `dashboard/frontend/src/api/hooks/useActivity.ts`

**What was Changed:**
A new file, `useActivity.ts`, was added to the project. This file introduces a React Query hook named `useActivity` that fetches activity data from an API endpoint based on the number of days specified.

**Why it was Likely Changed:**
This change likely supports the addition of a web dashboard feature by providing a reusable hook for fetching and managing activity data. The use of React Query ensures efficient data fetching with caching, error handling, and revalidation mechanisms.

**Impact on Behavior:**
The `useActivity` hook will enable components in the React dashboard to easily retrieve historical activity data, which can be used to display statistics, logs, or other relevant information. This enhances the functionality of the web dashboard by providing dynamic and up-to-date data.

**Risks or Concerns:**
- **API Dependency:** The hook relies on an external API endpoint (`API_ENDPOINTS.ACTIVITY`). Any changes in this endpoint could break the functionality.
- **Performance:** Fetching activity data for a large number of days might impact performance, especially if the data volume is high. Caching mechanisms (like `staleTime`) should mitigate some of these concerns.
- **Error Handling:** While the hook includes basic error handling, more robust error management and fallback strategies may be necessary to ensure a smooth user experience.

Overall, this change aligns with the broader project goals of enhancing the web dashboard's capabilities.

---

*Generated by CodeWorm on 2026-02-23 21:13*
