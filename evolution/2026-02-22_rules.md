# rules

**Type:** Code Evolution
**Repository:** CertGames-Core
**File:** backend/api/domains/games/middleware/rules.py
**Language:** python
**Lines:** 1-1
**Complexity:** 0.0

---

## Source Code

```python
Commit: fe44f45e
Message: dev v2.0.4 (#169)

* chore(deps): update uv.lock with latest dependency versions

* feat:
- add terminal takedown game
- add back buttons to landing page pages (learn, play, features)
- add back buttons to ai tools and games
- add 10 tests (1000 pratice questions) for the CompTIA SecAI+ v1 exam/certification
- update some deps
- bump to v2.0.4 of CertGames

* error there but not here wtf

* error there but not here wtf
Author: Carter Perez
File: backend/api/domains/games/middleware/rules.py
Change type: modified

Diff:
@@ -9,8 +9,10 @@ from api.core.validation.exceptions import ValidationError
 
 
 def check_phishing_examples_exist() -> None:
-    """
-    Check if phishing examples exist in database
-    """
     if not hasattr(g, 'phishing_examples'):
         raise ValidationError("Phishing examples not loaded")
+
+
+def check_terminal_challenges_exist() -> None:
+    if not hasattr(g, 'terminal_challenges'):
+        raise ValidationError("Terminal challenges not loaded")

```

---

## Code Evolution

### Change Analysis

**What was Changed:**
In `rules.py`, the function `check_phishing_examples_exist()` was modified to include a new function, `check_terminal_challenges_exist()`. The original docstring and logic for checking if phishing examples exist were removed.

**Why it was Likely Changed:**
This change likely reflects an addition of a new feature or game element in CertGames. Specifically, the introduction of terminal challenges necessitates a similar validation step to ensure these challenges are loaded before use.

**Impact on Behavior:**
- The behavior now includes checking for both phishing examples and terminal challenges.
- If terminal challenges do not exist in the database, a `ValidationError` will be raised, ensuring that the application cannot proceed without them.

**Risks or Concerns:**
- **Code Duplication:** The removal of the docstring from `check_phishing_examples_exist()` might indicate code duplication. Ensure this function is no longer needed elsewhere.
- **Testing:** New tests should cover both validation functions to ensure they behave as expected under various conditions.
- **Deprecation:** If `check_phishing_examples_exist()` was previously used in other parts of the application, these references may need updating.

Overall, this change introduces a new validation step without significantly altering existing behavior, making it a feature addition rather than a refactor.

---

*Generated by CodeWorm on 2026-02-22 13:07*
