# errors

**Type:** Code Evolution
**Repository:** stripe-referral
**File:** src/stripe_referral/exceptions/errors.py
**Language:** python
**Lines:** 1-1
**Complexity:** 0.0

---

## Source Code

```python
Commit: bfb52633
Message: feat: Done
Author: CarterPerez-dev
File: src/stripe_referral/exceptions/errors.py
Change type: new file

Diff:
@@ -0,0 +1,150 @@
+"""
+â’¸AngelaMos | 2025 | CertGames.com
+Custom exception hierarchy for stripe referral
+"""
+
+from typing import Any
+
+
+class StripeReferralError(Exception):
+    """
+    Base exception for all stripe referral errors
+    """
+    def __init__(self, message: str, **context: Any) -> None:
+        super().__init__(message)
+        self.message = message
+        self.context = context
+
+    def __str__(self) -> str:
+        if self.context:
+            context_str = ", ".join(
+                f"{k}={v}" for k, v in self.context.items()
+            )
+            return f"{self.message} ({context_str})"
+        return self.message
+
+
+class ValidationError(StripeReferralError):
+    """
+    Raised when input validation fails
+    """
+
+
+class CodeNotFoundError(StripeReferralError):
+    """
+    Raised when referral code does not exist
+    """
+
+
+class CodeExpiredError(StripeReferralError):
+    """
+    Raised when referral code has expired
+    """
+
+
+class CodeInactiveError(StripeReferralError):
+    """
+    Raised when referral code is inactive or suspended
+    """
+
+
+class CodeMaxUsesReachedError(StripeReferralError):
+    """
+    Raised when referral code has reached maximum uses
+    """
+
+
+class ProgramNotFoundError(StripeReferralError):
+    """
+    Raised when referral program does not exist
+    """
+
+
+class ProgramInactiveError(StripeReferralError):
+    """
+    Raised when referral program is inactive
+    """
+
+
+class PayoutError(StripeReferralError):
+    """
+    Base exception for payout-related errors
+    """
+
+
+class PayoutAdapterError(PayoutError):
+    """
+    Raised when payout adapter fails
+    """
+
+
+class RecipientValidationError(PayoutError):
+    """
+    Raised when recipient data validation fails
+    """
+
+
+class InsufficientFundsError(PayoutError):
+    """
+    Raised when payout amount exceeds available balance
+    """
+
+
+class DuplicateReferralError(StripeReferralError):
+    """
+    Raised when attempting to track duplicate referral
+    """
+
+
+class SelfReferralError(StripeReferralError):
+    """
+    Raised when user attempts to refer themselves
+    """
+
+
+class DatabaseError(StripeReferralError):
+    """
+    Raised when database operation fails
+    """
+
+
+class ConfigurationError(StripeReferralError):
+    """
+    Raised when configuration is invalid or missing
+    """
+
+
+class StripeAPIError(PayoutError):
+    """
+    Raised when Stripe API call fails
+    """
+
+
+class CodeGenerationError(StripeReferralError):
+    """
+    Raised when unable to generate unique referral code after max attempts
+    """
+
+
+class PayoutNotFoundError(PayoutError):
+    """
+    Raised when payout record does not exist
+    """
+
+
+class PayoutAlreadyExistsError(PayoutError):
+    """
+    Raised when payout alr
```

---

## Code Evolution

### Change Analysis

**What was Changed**: A new file `exceptions/errors.py` has been added, introducing a comprehensive custom exception hierarchy for handling errors related to the Stripe referral system. The file defines 21 specific exception classes derived from a base class `StripeReferralError`, each representing a different type of error scenario.

**Why it Was Likely Changed**: This change was likely made to improve error handling and maintainability in the codebase. By defining custom exceptions, developers can more easily identify and handle specific types of errors, making debugging and logging easier. The use of context parameters in exception constructors allows for richer error messages with additional details.

**Impact on Behavior**: This addition does not directly change existing behavior but enhances the system's ability to gracefully handle errors related to Stripe referrals. It provides a clear structure for error handling that can be leveraged throughout the application, improving code readability and maintainability.

**Risks or Concerns**: While this is primarily a refactor with no direct impact on functionality, it introduces potential risks if not used consistently across the codebase. Ensuring all relevant parts of the application catch and handle these exceptions correctly will be crucial to avoid unexpected behavior. Additionally, maintaining this hierarchy as the system evolves could become complex, requiring careful consideration when adding new exception types or modifying existing ones.

---

*Generated by CodeWorm on 2026-02-23 02:15*
