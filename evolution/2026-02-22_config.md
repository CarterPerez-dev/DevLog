# config

**Type:** Code Evolution
**Repository:** fullstack-template
**File:** stacks/go-react/go-backend/internal/config/config.go
**Language:** go
**Lines:** 1-1
**Complexity:** 0.0

---

## Source Code

```go
Commit: bf95949c
Message: go backend to react-go stack
Author: CarterPerez-dev
File: stacks/go-react/go-backend/internal/config/config.go
Change type: new file

Diff:
@@ -0,0 +1,302 @@
+// AngelaMos | 2026
+// config.go
+
+package config
+
+import (
+	"fmt"
+	"sync"
+	"time"
+
+	"github.com/knadh/koanf/parsers/yaml"
+	"github.com/knadh/koanf/providers/env"
+	"github.com/knadh/koanf/providers/file"
+	"github.com/knadh/koanf/v2"
+)
+
+type Config struct {
+	App       AppConfig       `koanf:"app"`
+	Server    ServerConfig    `koanf:"server"`
+	Database  DatabaseConfig  `koanf:"database"`
+	Redis     RedisConfig     `koanf:"redis"`
+	JWT       JWTConfig       `koanf:"jwt"`
+	RateLimit RateLimitConfig `koanf:"rate_limit"`
+	CORS      CORSConfig      `koanf:"cors"`
+	Log       LogConfig       `koanf:"log"`
+	Otel      OtelConfig      `koanf:"otel"`
+}
+
+type AppConfig struct {
+	Name        string `koanf:"name"`
+	Version     string `koanf:"version"`
+	Environment string `koanf:"environment"`
+}
+
+type ServerConfig struct {
+	Host            string        `koanf:"host"`
+	Port            int           `koanf:"port"`
+	ReadTimeout     time.Duration `koanf:"read_timeout"`
+	WriteTimeout    time.Duration `koanf:"write_timeout"`
+	IdleTimeout     time.Duration `koanf:"idle_timeout"`
+	ShutdownTimeout time.Duration `koanf:"shutdown_timeout"`
+}
+
+type DatabaseConfig struct {
+	URL             string        `koanf:"url"`
+	MaxOpenConns    int           `koanf:"max_open_conns"`
+	MaxIdleConns    int           `koanf:"max_idle_conns"`
+	ConnMaxLifetime time.Duration `koanf:"conn_max_lifetime"`
+	ConnMaxIdleTime time.Duration `koanf:"conn_max_idle_time"`
+}
+
+type RedisConfig struct {
+	URL          string `koanf:"url"`
+	PoolSize     int    `koanf:"pool_size"`
+	MinIdleConns int    `koanf:"min_idle_conns"`
+}
+
+type JWTConfig struct {
+	PrivateKeyPath     string        `koanf:"private_key_path"`
+	PublicKeyPath      string        `koanf:"public_key_path"`
+	AccessTokenExpire  time.Duration `koanf:"access_token_expire"`
+	RefreshTokenExpire time.Duration `koanf:"refresh_token_expire"`
+	Issuer             string        `koanf:"issuer"`
+	Audience           string        `koanf:"audience"`
+}
+
+type RateLimitConfig struct {
+	Requests int           `koanf:"requests"`
+	Window   time.Duration `koanf:"window"`
+	Burst    int           `koanf:"burst"`
+}
+
+type CORSConfig struct {
+	AllowedOrigins   []string `koanf:"allowed_origins"`
+	AllowedMethods   []string `koanf:"allowed_methods"`
+	AllowedHeaders   []string `koanf:"allowed_headers"`
+	AllowCredentials bool     `koanf:"allow_credentials"`
+	MaxAge           int      `koanf:"max_age"`
+}
+
+type LogConfig struct {
+	Level  string `koanf:"level"`
+	Format string `koanf:"format"`
+}
+
+type OtelConfig struct {
+	Endpoint    string  `koanf:"endpoint"`
+	ServiceName string  `koanf:"service_name"`
+	Enabled     bool    `koanf:"enabled"`
+	Insecure    bool    `koanf:"insecure"`
+	SampleRate  float64 `koanf:"s
```

---

## Code Evolution

### Change Analysis

**What was Changed**: A new file `config.go` was added to the Go backend of the fullstack-template repository. This file introduces a comprehensive configuration structure using the `koanf` library for handling environment variables, YAML files, and defaults.

**Why it was Likely Changed**: The addition of this config file likely aims to centralize and modularize application settings, making them easier to manage across different environments (development, staging, production). This change aligns with modern Go practices, where configuration management is crucial for maintainability and flexibility.

**Impact on Behavior**: This change significantly enhances the backend's configurability. Developers can now easily adjust various aspects of the application without modifying code, such as server settings, database connections, JWT token lifetimes, rate limits, etc., by simply changing environment variables or a YAML configuration file.

**Risks or Concerns**: While this approach improves manageability, there is a risk if not handled properly. Ensuring that all required configurations are correctly set and validated could be complex. Additionally, the use of `koanf` might introduce dependencies that need to be managed carefully. Proper documentation on how to configure these settings will be crucial for new contributors.

Overall, this change is a refactor aimed at improving configuration management in the Go backend, with potential benefits but also some risks associated with it.

---

*Generated by CodeWorm on 2026-02-22 13:57*
