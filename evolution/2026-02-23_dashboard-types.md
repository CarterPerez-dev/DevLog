# dashboard.types

**Type:** Code Evolution
**Repository:** CodeWorm
**File:** dashboard/frontend/src/api/types/dashboard.types.ts
**Language:** typescript
**Lines:** 1-1
**Complexity:** 0.0

---

## Source Code

```typescript
Commit: ca3ce30d
Message: v1.0.2: add doc type system, Docker infrastructure, and web dashboard

- Add 11 documentation types (function, class, file, security review, TIL, etc.)
  with weighted random selection so the same codebase generates 10x more unique content
- Add Docker Compose for Ollama (GPU passthrough) + Redis + Dashboard + Nginx
- Add FastAPI backend with REST API, WebSocket live events, and Redis pub/sub
- Add React dashboard with stats, live log, commit feed, repo list, and worm viz
- Add next_scheduled_run logging after each cycle completes
- Update repos config and README for v1.0.2
Author: CarterPerez-dev
File: dashboard/frontend/src/api/types/dashboard.types.ts
Change type: new file

Diff:
@@ -0,0 +1,164 @@
+// Â©AngelaMos | 2026
+// dashboard.types.ts
+
+import { z } from 'zod'
+
+export const DocType = {
+  FUNCTION_DOC: 'function_doc',
+  CLASS_DOC: 'class_doc',
+  FILE_DOC: 'file_doc',
+  MODULE_DOC: 'module_doc',
+  SECURITY_REVIEW: 'security_review',
+  PERFORMANCE_ANALYSIS: 'performance_analysis',
+  TIL: 'til',
+  CODE_EVOLUTION: 'code_evolution',
+  PATTERN_ANALYSIS: 'pattern_analysis',
+  WEEKLY_SUMMARY: 'weekly_summary',
+  MONTHLY_SUMMARY: 'monthly_summary',
+} as const
+
+export type DocType = (typeof DocType)[keyof typeof DocType]
+
+export const statsResponseSchema = z.object({
+  total_documented: z.number(),
+  by_repo: z.record(z.string(), z.number()),
+  by_language: z.record(z.string(), z.number()),
+  by_doc_type: z.record(z.string(), z.number()),
+  last_7_days: z.number(),
+  last_30_days: z.number(),
+  today: z.number(),
+})
+
+export const repoStatusSchema = z.object({
+  name: z.string(),
+  path: z.string(),
+  weight: z.number(),
+  enabled: z.boolean(),
+  docs_generated: z.number(),
+  last_activity: z.string().nullable(),
+})
+
+export const recentDocSchema = z.object({
+  id: z.string(),
+  source_repo: z.string(),
+  source_file: z.string(),
+  function_name: z.string().nullable(),
+  class_name: z.string().nullable(),
+  doc_type: z.string(),
+  documented_at: z.string(),
+  snippet_path: z.string(),
+  git_commit: z.string().nullable(),
+})
+
+export const activityDaySchema = z.object({
+  date: z.string(),
+  count: z.number(),
+})
+
+export const languageBreakdownSchema = z.object({
+  language: z.string(),
+  count: z.number(),
+  percentage: z.number(),
+})
+
+export const logEntrySchema = z.object({
+  timestamp: z.string().optional(),
+  level: z.string().optional(),
+  component: z.string().optional(),
+  event: z.string().optional(),
+}).passthrough()
+
+export const daemonEventSchema = z.object({
+  type: z.string(),
+  timestamp: z.string(),
+  data: z.record(z.string(), z.unknown()),
+})
+
+export const wsMessageSchema = z.object({
+  channel: z.string(),
+  data: z.unknown(),
+})
+
+export type StatsResponse = z.infer<typeof statsResponseSchema>
+export type RepoStatus = z.infer<typeof repoStatusSchema>
+export type RecentDoc = z.infer<typeof recentDocSchema>
+export type ActivityD
```

---

## Code Evolution

### Change Analysis

**What was Changed:**
A new file `dashboard.types.ts` was added to the `frontend/src/api/types` directory. This file introduces TypeScript types and schemas for various dashboard-related data structures, including documentation types, stats responses, repository statuses, recent documents, activity days, language breakdowns, log entries, daemon events, WebSocket messages, and a custom error class.

**Why it was Likely Changed:**
This change likely aims to standardize the data models used in the React dashboard. By defining these schemas using Zod, the code can validate incoming data against expected structures, ensuring consistency and robustness. The addition of weighted random selection for documentation types suggests an effort to generate diverse and unique content.

**Impact on Behavior:**
The introduction of these types and validation functions will enforce type safety and improve error handling in the dashboard API interactions. This change enhances the reliability and maintainability of the codebase, particularly when dealing with complex data structures like stats responses and log entries.

**Risks or Concerns:**
While this is a positive step towards better type safety and validation, there is a risk that existing code may need to be updated to use these new types. Additionally, the custom `DashboardResponseError` class should be thoroughly tested to ensure it behaves as expected in various error scenarios.

---

*Generated by CodeWorm on 2026-02-23 21:12*
