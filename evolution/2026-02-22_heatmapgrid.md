# HeatmapGrid

**Type:** Code Evolution
**Repository:** angelamos-operations
**File:** CarterOS-Client/src/aspects/life-manager/facets/checklist/components/HeatmapGrid.tsx
**Language:** tsx
**Lines:** 1-1
**Complexity:** 0.0

---

## Source Code

```tsx
Commit: dae6cf01
Message: add checklist tool
Author: CarterPerez-dev
File: CarterOS-Client/src/aspects/life-manager/facets/checklist/components/HeatmapGrid.tsx
Change type: new file

Diff:
@@ -0,0 +1,48 @@
+// ===================
+// Â© AngelaMos | 2026
+// HeatmapGrid.tsx
+// ===================
+
+import type { HeatmapDay } from '../types'
+import styles from './HeatmapGrid.module.scss'
+
+interface HeatmapGridProps {
+  heatmap: HeatmapDay[]
+}
+
+function buildYearGrid(): string[] {
+  const today = new Date()
+  const year = today.getFullYear()
+  const days: string[] = []
+  const d = new Date(year, 0, 1)
+  while (d.getFullYear() === year) {
+    days.push(d.toISOString().split('T')[0])
+    d.setDate(d.getDate() + 1)
+  }
+  return days
+}
+
+export function HeatmapGrid({ heatmap }: HeatmapGridProps) {
+  const dayMap = new Map(heatmap.map((h) => [h.date, h]))
+  const yearDays = buildYearGrid()
+
+  return (
+    <div className={styles.grid}>
+      {yearDays.map((dateStr) => {
+        const day = dayMap.get(dateStr)
+        const ratio = day && day.total_count > 0
+          ? day.completed_count / day.total_count
+          : 0
+
+        return (
+          <div
+            key={dateStr}
+            className={styles.cell}
+            title={day ? `${dateStr}: ${day.completed_count}/${day.total_count}` : dateStr}
+            style={{ opacity: ratio > 0 ? 0.15 + ratio * 0.85 : 0.08 }}
+          />
+        )
+      })}
+    </div>
+  )
+}

```

---

## Code Evolution

### Change Analysis for `HeatmapGrid.tsx`

**What was Changed:**
A new file, `HeatmapGrid.tsx`, was added to the repository. This component is responsible for rendering a heatmap grid based on daily data. The code includes type definitions and logic to generate an array of dates for the current year, map these dates to their corresponding heatmap data, and render cells with varying opacity depending on task completion ratios.

**Why it was Likely Changed:**
This change likely introduces a new feature to visualize user activity or task completion over time in the `CarterOS-Client`. The heatmap provides an intuitive way to see trends and patterns in daily activities by color-coding grid cells based on the ratio of completed tasks.

**Impact on Behavior:**
The introduction of this component will enhance the life manager facet, allowing users to monitor their productivity or task completion over a year. Users can quickly identify busy periods or improvements in efficiency through visual feedback.

**Risks or Concerns:**
- **Performance:** Generating an array of dates for each render might impact performance if the application is used frequently.
- **Data Handling:** Ensuring that `heatmap` data is always available and correctly formatted could be a risk, especially if the backend changes.
- **Styling:** The current styling logic may need adjustments based on user feedback or design updates.

Overall, this addition improves the usability of the life manager facet by providing a clear visual representation of daily activities.

---

*Generated by CodeWorm on 2026-02-22 19:38*
