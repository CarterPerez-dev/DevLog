# dto

**Type:** Code Evolution
**Repository:** fullstack-template
**File:** stacks/go-react/go-backend/internal/auth/dto.go
**Language:** go
**Lines:** 1-1
**Complexity:** 0.0

---

## Source Code

```go
Commit: bf95949c
Message: go backend to react-go stack
Author: CarterPerez-dev
File: stacks/go-react/go-backend/internal/auth/dto.go
Change type: new file

Diff:
@@ -0,0 +1,62 @@
+// AngelaMos | 2026
+// dto.go
+
+package auth
+
+import (
+	"time"
+)
+
+type LoginRequest struct {
+	Email    string `json:"email"    validate:"required,email,max=255"`
+	Password string `json:"password" validate:"required,min=8,max=128"`
+}
+
+type RegisterRequest struct {
+	Email    string `json:"email"    validate:"required,email,max=255"`
+	Password string `json:"password" validate:"required,min=8,max=128"`
+	Name     string `json:"name"     validate:"required,min=1,max=100"`
+}
+
+type RefreshRequest struct {
+	RefreshToken string `json:"refresh_token" validate:"required"`
+}
+
+type TokenResponse struct {
+	AccessToken  string    `json:"access_token"`
+	RefreshToken string    `json:"refresh_token"`
+	TokenType    string    `json:"token_type"`
+	ExpiresIn    int       `json:"expires_in"`
+	ExpiresAt    time.Time `json:"expires_at"`
+}
+
+type UserResponse struct {
+	ID        string    `json:"id"`
+	Email     string    `json:"email"`
+	Name      string    `json:"name"`
+	Role      string    `json:"role"`
+	Tier      string    `json:"tier"`
+	CreatedAt time.Time `json:"created_at"`
+}
+
+type AuthResponse struct {
+	User   UserResponse  `json:"user"`
+	Tokens TokenResponse `json:"tokens"`
+}
+
+type SessionInfo struct {
+	ID        string    `json:"id"`
+	UserAgent string    `json:"user_agent"`
+	IPAddress string    `json:"ip_address"`
+	CreatedAt time.Time `json:"created_at"`
+	ExpiresAt time.Time `json:"expires_at"`
+}
+
+type SessionsResponse struct {
+	Sessions []SessionInfo `json:"sessions"`
+}
+
+type ChangePasswordRequest struct {
+	CurrentPassword string `json:"current_password" validate:"required"`
+	NewPassword     string `json:"new_password"     validate:"required,min=8,max=128"`
+}

```

---

## Code Evolution

### Change Analysis for `dto.go` in Go Backend

**What was Changed:**
A new file named `dto.go` was added to the `auth` package within the Go backend. This file introduces several data transfer object (DTO) structs, including `LoginRequest`, `RegisterRequest`, `RefreshRequest`, `TokenResponse`, `UserResponse`, `AuthResponse`, `SessionInfo`, and `SessionsResponse`. Each struct is annotated with JSON tags for serialization/deserialization and validation constraints.

**Why it was Likely Changed:**
This change likely aims to standardize the data structures used in authentication-related operations, ensuring consistency across the application. The introduction of validation constraints (`validate:"required,email,max=255"`) helps enforce input rules early on, reducing potential errors downstream.

**Impact on Behavior:**
These DTOs will be crucial for handling requests and responses related to user authentication (login, registration, token refresh) and session management. They ensure that the data exchanged between the frontend (React) and backend is structured correctly and validated before processing.

**Risks or Concerns:**
- **Validation Constraints:** While validation is beneficial, overly strict constraints could lead to user frustration if not handled gracefully.
- **Error Handling:** The absence of error handling in these structs might require additional implementation elsewhere to manage validation errors effectively.
- **Deprecation Risk:** If the API evolves, existing DTOs may need updates, which could introduce breaking changes.

Overall, this change enhances the robustness and maintainability of the authentication module.

---

*Generated by CodeWorm on 2026-02-22 13:38*
