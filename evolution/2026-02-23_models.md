# models

**Type:** Code Evolution
**Repository:** CodeWorm
**File:** dashboard/backend/models.py
**Language:** python
**Lines:** 1-1
**Complexity:** 0.0

---

## Source Code

```python
Commit: ca3ce30d
Message: v1.0.2: add doc type system, Docker infrastructure, and web dashboard

- Add 11 documentation types (function, class, file, security review, TIL, etc.)
  with weighted random selection so the same codebase generates 10x more unique content
- Add Docker Compose for Ollama (GPU passthrough) + Redis + Dashboard + Nginx
- Add FastAPI backend with REST API, WebSocket live events, and Redis pub/sub
- Add React dashboard with stats, live log, commit feed, repo list, and worm viz
- Add next_scheduled_run logging after each cycle completes
- Update repos config and README for v1.0.2
Author: CarterPerez-dev
File: dashboard/backend/models.py
Change type: new file

Diff:
@@ -0,0 +1,59 @@
+"""
+â’¸AngelaMos | 2026
+dashboard/backend/models.py
+"""
+from __future__ import annotations
+
+from datetime import datetime
+
+from pydantic import BaseModel
+
+
+class StatsResponse(BaseModel):
+    total_documented: int = 0
+    by_repo: dict[str, int] = {}
+    by_language: dict[str, int] = {}
+    by_doc_type: dict[str, int] = {}
+    last_7_days: int = 0
+    last_30_days: int = 0
+    today: int = 0
+
+
+class RepoStatus(BaseModel):
+    name: str
+    path: str
+    weight: int
+    enabled: bool
+    docs_generated: int = 0
+    last_activity: datetime | None = None
+
+
+class RecentDoc(BaseModel):
+    id: str
+    source_repo: str
+    source_file: str
+    function_name: str | None
+    class_name: str | None
+    doc_type: str
+    documented_at: datetime
+    snippet_path: str
+    git_commit: str | None
+
+
+class ActivityDay(BaseModel):
+    date: str
+    count: int
+
+
+class LanguageBreakdown(BaseModel):
+    language: str
+    count: int
+    percentage: float
+
+
+class DaemonStatus(BaseModel):
+    running: bool = False
+    current_activity: str = "idle"
+    current_target: str | None = None
+    current_repo: str | None = None
+    current_doc_type: str | None = None

```

---

## Code Evolution

### Change Analysis for Commit `ca3ce30d`

**What was Changed:**
The commit introduces a new file, `dashboard/backend/models.py`, which defines several Pydantic models to represent different types of data structures used in the application. These include `StatsResponse`, `RepoStatus`, `RecentDoc`, `ActivityDay`, `LanguageBreakdown`, and `DaemonStatus`. Each model is designed to hold specific information related to documentation, repository status, recent documents, activity tracking, language breakdowns, and daemon status.

**Why it was Likely Changed:**
These models are likely added to standardize data structures across the application. This improves code readability, maintainability, and consistency. The use of Pydantic also ensures that these objects are validated against predefined schemas, reducing potential bugs related to incorrect data types or missing fields.

**Impact on Behavior:**
The introduction of these models will impact how data is structured and processed within the application. For instance, `StatsResponse` will be used to generate statistical responses, while `RepoStatus` and `RecentDoc` will help in managing repository statuses and tracking recent documents respectively. This change likely enhances the overall functionality and robustness of the backend.

**Risks or Concerns:**
While these models improve data handling, there is a risk that they might introduce additional complexity if not used consistently throughout the application. Ensuring all relevant parts of the codebase utilize these models correctly will be crucial to avoid inconsistencies. Additionally, as more features are added, maintaining and updating these models could become challenging.

---

*Generated by CodeWorm on 2026-02-23 20:53*
