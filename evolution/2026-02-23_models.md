# models

**Type:** Code Evolution
**Repository:** CodeWorm
**File:** codeworm/models.py
**Language:** python
**Lines:** 1-1
**Complexity:** 0.0

---

## Source Code

```python
Commit: ca3ce30d
Message: v1.0.2: add doc type system, Docker infrastructure, and web dashboard

- Add 11 documentation types (function, class, file, security review, TIL, etc.)
  with weighted random selection so the same codebase generates 10x more unique content
- Add Docker Compose for Ollama (GPU passthrough) + Redis + Dashboard + Nginx
- Add FastAPI backend with REST API, WebSocket live events, and Redis pub/sub
- Add React dashboard with stats, live log, commit feed, repo list, and worm viz
- Add next_scheduled_run logging after each cycle completes
- Update repos config and README for v1.0.2
Author: CarterPerez-dev
File: codeworm/models.py
Change type: modified

Diff:
@@ -22,6 +22,23 @@ class Language(str, Enum):
     RUST = "rust"
 
 
+class DocType(str, Enum):
+    """
+    Types of documentation the daemon can generate
+    """
+    FUNCTION_DOC = "function_doc"
+    CLASS_DOC = "class_doc"
+    FILE_DOC = "file_doc"
+    MODULE_DOC = "module_doc"
+    SECURITY_REVIEW = "security_review"
+    PERFORMANCE_ANALYSIS = "performance_analysis"
+    TIL = "til"
+    CODE_EVOLUTION = "code_evolution"
+    PATTERN_ANALYSIS = "pattern_analysis"
+    WEEKLY_SUMMARY = "weekly_summary"
+    MONTHLY_SUMMARY = "monthly_summary"
+
+
 LANGUAGE_EXTENSIONS: dict[str,
                           Language] = {
                               ".py": Language.PYTHON,
@@ -69,6 +86,7 @@ class CodeSnippet(BaseModel):
     nesting_depth: int = 0
     parameter_count: int = 0
     interest_score: float = 0.0
+    doc_type: DocType = DocType.FUNCTION_DOC
 
     @property
     def display_name(self) -> str:
@@ -95,6 +113,7 @@ class DocumentedSnippet(BaseModel):
     documented_at: datetime
     snippet_path: str
     git_commit: str | None = None
+    doc_type: DocType = DocType.FUNCTION_DOC
 
     @property
     def display_name(self) -> str:

```

---

## Code Evolution

### Change Analysis

**What was Changed:**
In `models.py`, the class `DocType` was added as an enumeration, defining 11 different types of documentation (e.g., function_doc, class_doc, security_review). Additionally, a new attribute `doc_type` was introduced to both `CodeSnippet` and `DocumentedSnippet` classes, defaulting to `FUNCTION_DOC`.

**Why it was Likely Changed:**
This change likely aims to enhance the flexibility and extensibility of CodeWorm's documentation generation capabilities. By introducing specific types of documentation, the system can now generate more targeted and diverse content based on the type of code being analyzed.

**Impact on Behavior:**
The addition of `doc_type` in both models will affect how snippets are categorized and processed. This could lead to improved accuracy in generating relevant documentation for different parts of the codebase. However, it also requires updates elsewhere in the system to handle these new types appropriately.

**Risks or Concerns:**
- **Backward Compatibility:** Ensure that existing functionality does not break with the introduction of `doc_type`.
- **Documentation Consistency:** Properly document and update all relevant parts of the codebase.
- **Performance Impact:** The weighted random selection for generating unique content might introduce performance overhead, especially if the number of types grows significantly.

This change is likely a feature enhancement aimed at improving CodeWorm's documentation capabilities.

---

*Generated by CodeWorm on 2026-02-23 21:53*
