# useRecent

**Type:** Code Evolution
**Repository:** CodeWorm
**File:** dashboard/frontend/src/api/hooks/useRecent.ts
**Language:** typescript
**Lines:** 1-1
**Complexity:** 0.0

---

## Source Code

```typescript
Commit: ca3ce30d
Message: v1.0.2: add doc type system, Docker infrastructure, and web dashboard

- Add 11 documentation types (function, class, file, security review, TIL, etc.)
  with weighted random selection so the same codebase generates 10x more unique content
- Add Docker Compose for Ollama (GPU passthrough) + Redis + Dashboard + Nginx
- Add FastAPI backend with REST API, WebSocket live events, and Redis pub/sub
- Add React dashboard with stats, live log, commit feed, repo list, and worm viz
- Add next_scheduled_run logging after each cycle completes
- Update repos config and README for v1.0.2
Author: CarterPerez-dev
File: dashboard/frontend/src/api/hooks/useRecent.ts
Change type: new file

Diff:
@@ -0,0 +1,40 @@
+// Â©AngelaMos | 2026
+// useRecent.ts
+
+import type { UseQueryResult } from '@tanstack/react-query'
+import { useQuery } from '@tanstack/react-query'
+import type { RecentDoc } from '@/api/types'
+import { API_ENDPOINTS, QUERY_CONFIG, QUERY_KEYS } from '@/config'
+import { apiClient } from '@/core/api'
+
+export const recentQueries = {
+  list: (limit: number, repo?: string, docType?: string) =>
+    QUERY_KEYS.RECENT(limit, repo, docType),
+} as const
+
+const fetchRecent = async (
+  limit: number,
+  repo?: string,
+  docType?: string
+): Promise<RecentDoc[]> => {
+  const params: Record<string, string | number> = { limit }
+  if (repo) params.repo = repo
+  if (docType) params.doc_type = docType
+
+  const response = await apiClient.get<RecentDoc[]>(API_ENDPOINTS.RECENT, {
+    params,
+  })
+  return response.data
+}
+
+export const useRecent = (
+  limit = 50,
+  repo?: string,
+  docType?: string
+): UseQueryResult<RecentDoc[], Error> => {
+  return useQuery({
+    queryKey: recentQueries.list(limit, repo, docType),
+    queryFn: () => fetchRecent(limit, repo, docType),
+    staleTime: QUERY_CONFIG.STALE_TIME.FREQUENT,
+  })
+}

```

---

## Code Evolution

### Change Analysis for `dashboard/frontend/src/api/hooks/useRecent.ts`

**What was Changed:**
A new file, `useRecent.ts`, was added to the repository. This file introduces a React Query hook named `useRecent` that fetches recent documentation entries from an API endpoint based on specified parameters like limit, repo, and docType.

**Why it was Likely Changed:**
This change likely aims to provide developers with a convenient way to query and display recent documentation updates in the web dashboard. The use of React Query ensures efficient state management and caching, improving the user experience by reducing redundant API calls.

**Impact on Behavior:**
The addition of `useRecent` enhances the functionality of the dashboard by enabling dynamic loading of recent documents based on various filters. This improves the utility of the application for users who need to track changes or updates in real-time.

**Risks or Concerns:**
- **API Overload:** If not properly managed, frequent calls to the API could lead to performance issues.
- **Data Consistency:** Ensuring that the data fetched by `useRecent` is consistent with other parts of the application might require additional validation logic.
- **Error Handling:** The hook should handle potential errors gracefully and provide meaningful feedback or fallbacks.

Overall, this change improves the dashboard's functionality while introducing some minor risks that need to be managed.

---

*Generated by CodeWorm on 2026-02-23 21:02*
