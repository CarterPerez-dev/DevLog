# app.storage

**Type:** Code Evolution
**Repository:** fullstack-template
**File:** frontends/react-native-ios/src/core/storage/app.storage.ts
**Language:** typescript
**Lines:** 1-1
**Complexity:** 0.0

---

## Source Code

```typescript
Commit: bfe947fa
Message: ios fixes - F*** MMKV btw ðŸ™„
Author: CarterPerez-dev
File: frontends/react-native-ios/src/core/storage/app.storage.ts
Change type: new file

Diff:
@@ -0,0 +1,35 @@
+// ===================
+// Â© AngelaMos | 2026
+// app.storage.ts
+// ===================
+
+import * as SecureStore from 'expo-secure-store'
+import type { StateStorage } from 'zustand/middleware'
+
+export const zustandStorage: StateStorage = {
+  getItem: (name: string): string | null => {
+    return SecureStore.getItem(name)
+  },
+
+  setItem: (name: string, value: string): void => {
+    SecureStore.setItem(name, value)
+  },
+
+  removeItem: (name: string): void => {
+    SecureStore.deleteItemAsync(name)
+  },
+}
+
+export const queryClientStorage = {
+  getItem: (key: string): string | null => {
+    return SecureStore.getItem(key)
+  },
+
+  setItem: (key: string, value: string): void => {
+    SecureStore.setItem(key, value)
+  },
+
+  removeItem: (key: string): void => {
+    SecureStore.deleteItemAsync(key)
+  },
+}

```

---

## Code Evolution

### Change Analysis

**What was Changed:**
A new file `app.storage.ts` was added to the repository, introducing two storage implementations using `expo-secure-store`. The file includes:
1. A `zustandStorage` object with methods for getting, setting, and removing items.
2. A `queryClientStorage` object with similar functionality.

**Why it Was Likely Changed:**
This change was likely made to provide a secure way to store sensitive data in the application. `expo-secure-store` is used because it encrypts the stored data, ensuring that even if the app's keychain is compromised, the data remains protected.

**Impact on Behavior:**
The addition of these storage implementations allows state and query client data to be securely managed within the React Native iOS frontend. This change ensures that critical application data is not exposed in plain text, enhancing security.

**Risks or Concerns:**
- **Dependency on `expo-secure-store`:** The implementation relies on this library, which might have its own set of vulnerabilities.
- **Consistency Across Codebases:** Ensuring consistent usage and behavior across different parts of the application is crucial. Developers should be aware that both `zustandStorage` and `queryClientStorage` are now available for storing data securely.

Overall, this change addresses security concerns by providing a secure storage solution, but it's important to monitor the libraryâ€™s updates and maintain consistency in usage.

---

*Generated by CodeWorm on 2026-02-22 14:01*
