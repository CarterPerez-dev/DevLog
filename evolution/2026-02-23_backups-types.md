# backups.types

**Type:** Code Evolution
**Repository:** oneIsNun_
**File:** react-scss/src/api/types/backups.types.ts
**Language:** typescript
**Lines:** 1-1
**Complexity:** 0.0

---

## Source Code

```typescript
Commit: 7f95b34f
Message: fix: backups schema to match API response format

API returns array directly in data field, not {backups: [], total: number}
Also relaxed triggered_by to string instead of strict enum
Author: CarterPerez-dev
File: react-scss/src/api/types/backups.types.ts
Change type: modified

Diff:
@@ -6,7 +6,7 @@
 import { z } from 'zod'
 
 export const BackupStatusSchema = z.enum(['pending', 'running', 'completed', 'failed'])
-export const BackupTriggerSchema = z.enum(['manual', 'scheduled'])
+export const BackupTriggerSchema = z.string()
 
 export const BackupSchema = z.object({
   id: z.string(),
@@ -20,10 +20,7 @@ export const BackupSchema = z.object({
   triggered_by: BackupTriggerSchema,
 })
 
-export const BackupListResponseSchema = z.object({
-  backups: z.array(BackupSchema),
-  total: z.number(),
-})
+export const BackupListResponseSchema = z.array(BackupSchema)
 
 export const CreateBackupRequestSchema = z.object({
   database: z.string(),

```

---

## Code Evolution

### Change Analysis

**What was Changed:**
In the file `react-scss/src/api/types/backups.types.ts`, lines 6-20 were modified:
1. The type for `BackupTriggerSchema` was changed from an enum to a string.
2. The `BackupListResponseSchema` was updated to directly return an array of `BackupSchema` objects, removing the nested structure.

**Why it was Likely Changed:**
The changes likely reflect updates in the API response format. By relaxing the type for `triggered_by` to `string`, the schema can now accept a wider range of values, potentially improving flexibility or accommodating future enum additions. The direct array return in `BackupListResponseSchema` simplifies the structure and aligns with the new API design.

**Impact on Behavior:**
- **Backups Schema:** Now directly maps to the API's response format without an extra wrapper object.
- **Triggered By Field:** Can now accept any string value, not just predefined enum values. This might allow for more dynamic or custom triggers in the future.

**Risks or Concerns:**
- The relaxation of `triggered_by` type from a strict enum to a string could introduce potential validation issues if non-expected strings are used.
- The change in response structure may affect existing code that expects the nested object format. Developers should update their handling logic accordingly.

This change is likely a bug fix or API compatibility update, ensuring the schema accurately reflects the current API behavior.

---

*Generated by CodeWorm on 2026-02-23 00:43*
