# conftest

**Type:** Code Evolution
**Repository:** Cybersecurity-Projects
**File:** PROJECTS/advanced/api-rate-limiter/tests/conftest.py
**Language:** python
**Lines:** 1-1
**Complexity:** 0.0

---

## Source Code

```python
Commit: 47432c8c
Message: issue 77 pt2 ruff
Author: CarterPerez-dev
File: PROJECTS/advanced/api-rate-limiter/tests/conftest.py
Change type: modified

Diff:
@@ -10,15 +10,12 @@ import time
 from collections.abc import AsyncGenerator, Generator
 from dataclasses import dataclass, field
 from typing import Any
-from unittest.mock import MagicMock
 
 import pytest
 from fastapi import FastAPI, Request
 from httpx import ASGITransport, AsyncClient
 from starlette.testclient import TestClient
 
-from fastapi_420.algorithms import create_algorithm
-from fastapi_420.algorithms.base import BaseAlgorithm
 from fastapi_420.algorithms.fixed_window import FixedWindowAlgorithm
 from fastapi_420.algorithms.sliding_window import SlidingWindowAlgorithm
 from fastapi_420.algorithms.token_bucket import TokenBucketAlgorithm
@@ -50,7 +47,6 @@ from fastapi_420.types import (
     RateLimitKey,
     RateLimitResult,
     RateLimitRule,
-    StorageType,
     TokenBucketState,
     WindowState,
 )
@@ -687,7 +683,7 @@ def rate_limiter_settings(
 
 
 @pytest.fixture
-async def memory_storage() -> AsyncGenerator[MemoryStorage, None]:
+async def memory_storage() -> AsyncGenerator[MemoryStorage]:
     """
     Create and manage MemoryStorage instance
     """
@@ -791,8 +787,7 @@ async def circuit_breaker() -> CircuitBreaker:
 async def rate_limiter(
     rate_limiter_settings: RateLimiterSettings,
     memory_storage: MemoryStorage,
-) -> AsyncGenerator[RateLimiter,
-                    None]:
+) -> AsyncGenerator[RateLimiter]:
     """
     Create and manage RateLimiter instance
     """
@@ -922,8 +917,7 @@ async def test_app_with_limiter(
 
 
 @pytest.fixture
-async def async_client(test_app: FastAPI) -> AsyncGenerator[AsyncClient,
-                                                            None]:
+async def async_client(test_app: FastAPI) -> AsyncGenerator[AsyncClient]:
     """
     Create async HTTP client for testing
     """
@@ -937,8 +931,7 @@ async def async_client(test_app: FastAPI) -> AsyncGenerator[AsyncClient,
 @pytest.fixture
 async def rate_limited_client(
     test_app_with_limiter: FastAPI,
-) -> AsyncGenerator[AsyncClient,
-                    None]:
+) -> AsyncGenerator[AsyncClient]:
     """
     Create async HTTP client with rate limiting
     """
@@ -950,7 +943,7 @@ async def rate_limited_client(
 
 
 @pytest.fixture
-def sync_client(test_app: FastAPI) -> Generator[TestClient, None, None]:
+def sync_client(test_app: FastAPI) -> Generator[TestClient]:
     """
     Create sync test client
     """

```

---

## Code Evolution

### Change Analysis for Commit `47432c8c`

#### What Was Changed
The changes in this commit primarily involve removing unused imports, updating function signatures to remove unnecessary type hints, and adjusting docstrings slightly.

- **Removed**: The import of `MagicMock` from `unittest.mock`, which was not used.
- **Modified**: Removed the `-> None` return types for the `memory_storage`, `rate_limiter`, `async_client`, and `sync_client` fixtures. This suggests a shift towards more concise function signatures.

#### Why It Was Likely Changed
These changes likely aim to clean up the codebase, making it more Pythonic by removing unused imports and simplifying type hints where they are redundant. The removal of explicit return types may be an effort to streamline the code without losing functionality or clarity.

#### Impact on Behavior
- **Memory Storage**: No functional change; `memory_storage` still manages a `MemoryStorage` instance.
- **Rate Limiter**: The `rate_limiter` fixture now returns only `RateLimiter`, which is expected as it was already implicitly returning this type.
- **Async Client and Sync Client**: Both fixtures now return the client object directly without an unnecessary `None` placeholder, but their behavior remains unchanged.

#### Risks or Concerns
- **Type Safety**: While removing explicit return types can make the code cleaner, there is a slight risk of losing some form of type safety. However, given that these are fixture functions and their usage in tests should be well-defined, this is likely not a significant concern.
- **Readability**: The removal of `-> None` might slightly reduce readability for developers who rely on explicit return types, but overall the code remains clear.

Overall, these changes improve the code's cleanliness without altering its functionality.

---

*Generated by CodeWorm on 2026-02-19 15:29*
