# initDataFetches

**Type:** Documentation
**Repository:** Yoshi-Audit
**File:** internal/ui/app.go
**Language:** go
**Lines:** 68-77
**Complexity:** 1.0

---

## Source Code

```go
func (a App) initDataFetches() tea.Cmd {
	cfg := a.cfg
	auditScanner := a.auditTab.Scanner()
	auditRSS := a.auditTab.RSSHistory()
	return tea.Batch(doTick(), dashboard.FetchStats, func() tea.Msg {
		return dockertab.FetchDockerData(cfg)
	}, func() tea.Msg {
		return audittab.FetchAuditData(auditScanner, auditRSS)
	})
}
```

---

## Documentation

### Documentation for `initDataFetches` Function

**Purpose and Behavior:**
The `initDataFetches` function in the `App` struct initializes a series of data fetch commands that are executed sequentially within the Tea framework, which is commonly used for building terminal UIs. It configures several components including audit tab scanners and RSS history, then returns a batch command to fetch various types of data.

**Key Implementation Details:**
- **Configuration Access:** The function accesses configuration settings via `a.cfg`.
- **Batch Command Construction:** Using `tea.Batch`, it constructs a sequence of commands that include:
  - A tick command (`doTick()`) for periodic updates.
  - Fetching dashboard statistics with `dashboard.FetchStats`.
  - Fetching Docker data using `dockertab.FetchDockerData` with the provided configuration.
  - Fetching audit data from both scanner and RSS history with `audittab.FetchAuditData`.

**When/Why to Use This Code:**
This function is crucial for initializing data fetches in a Tea-based UI. It ensures that critical data, such as dashboard stats and audit logs, are periodically updated, providing real-time insights. Use this code whenever you need to set up multiple data sources for your application.

**Patterns and Gotchas:**
- **Tea Framework Integration:** This function is designed to work seamlessly with the Tea framework's command pattern.
- **Error Handling:** While not explicitly shown, itâ€™s important to handle errors returned by these fetch functions to ensure robustness.
- **Concurrency Considerations:** Although this function itself does not introduce goroutines, the underlying fetch operations might involve concurrent calls. Ensure proper handling of concurrency and shared resources.

This documentation should help you understand how `initDataFetches` sets up data fetching mechanisms in your application.

---

*Generated by CodeWorm on 2026-03-01 07:19*
