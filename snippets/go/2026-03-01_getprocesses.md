# GetProcesses

**Type:** Documentation
**Repository:** Yoshi-Audit
**File:** internal/system/process.go
**Language:** go
**Lines:** 24-50
**Complexity:** 6.0

---

## Source Code

```go
func GetProcesses() ([]ProcessInfo, error) {
	entries, err := os.ReadDir("/proc")
	if err != nil {
		return nil, err
	}

	var procs []ProcessInfo
	for _, entry := range entries {
		if !entry.IsDir() {
			continue
		}

		pid, err := strconv.Atoi(entry.Name())
		if err != nil {
			continue
		}

		info, err := readProcessInfo(pid)
		if err != nil {
			continue
		}

		procs = append(procs, info)
	}

	return procs, nil
}
```

---

## Documentation

### Documentation for `GetProcesses`

**Purpose and Behavior:**
The `GetProcesses` function retrieves a list of process information from the `/proc` filesystem on Linux systems. It returns a slice of `ProcessInfo` structs along with an error, if any.

**Key Implementation Details:**
1. **Reading Directory Entries:** The function uses `os.ReadDir("/proc")` to read entries in the `/proc` directory.
2. **Filtering Directories:** Only directories (representing process IDs) are processed by checking `entry.IsDir()`.
3. **Parsing PIDs:** Each entry's name is parsed as an integer representing a PID using `strconv.Atoi`.
4. **Reading Process Info:** For each valid PID, `readProcessInfo(pid)` is called to fetch detailed information about the process.
5. **Error Handling:** Errors from file operations and process reading are propagated.

**When/Why to Use This Code:**
Use this function when you need a comprehensive list of running processes on a Linux system for monitoring or auditing purposes. It provides a robust way to gather detailed process information, handling errors gracefully.

**Patterns/Gotchas:**
- **Error Propagation:** The function returns an error immediately upon encountering any issue, ensuring that callers can handle failures appropriately.
- **Resource Management:** The code does not explicitly manage resources like file descriptors or memory allocations. Ensure that the `readProcessInfo` function handles these properly to avoid leaks.

This function is a good example of Go's idiomatic error handling and concise directory traversal.

---

*Generated by CodeWorm on 2026-03-01 07:51*
