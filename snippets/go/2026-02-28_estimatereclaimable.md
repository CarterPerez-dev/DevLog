# EstimateReclaimable

**Type:** Documentation
**Repository:** Yoshi-Audit
**File:** internal/docker/presets.go
**Language:** go
**Lines:** 51-74
**Complexity:** 7.0

---

## Source Code

```go
func EstimateReclaimable(images []ImageInfo, selectedImageIDs []string, volumes []VolumeInfo, selectedVolumeNames []string) int64 {
	imageSet := make(map[string]bool, len(selectedImageIDs))
	for _, id := range selectedImageIDs {
		imageSet[id] = true
	}

	volumeSet := make(map[string]bool, len(selectedVolumeNames))
	for _, name := range selectedVolumeNames {
		volumeSet[name] = true
	}

	var total int64
	for _, img := range images {
		if imageSet[img.ID] {
			total += img.Size
		}
	}
	for _, vol := range volumes {
		if volumeSet[vol.Name] {
			total += vol.Size
		}
	}
	return total
}
```

---

## Documentation

### Documentation for `EstimateReclaimable`

**Purpose and Behavior:**
The function `EstimateReclaimable` calculates the total reclaimable storage size by summing up the sizes of images and volumes that are selected based on their IDs and names, respectively. It takes four parameters: slices of `ImageInfo` and `VolumeInfo`, and two slices containing selected image IDs and volume names.

**Key Implementation Details:**
- The function uses maps (`imageSet` and `volumeSet`) to store the selected IDs and names for quick lookup.
- It iterates over both the images and volumes, checking if each item's ID or name is in the respective set. If so, it adds the size of that image or volume to a cumulative total.

**When/Why to Use This Code:**
Use this function when you need to estimate reclaimable storage by filtering out unselected resources. It’s particularly useful in scenarios where you want to calculate the potential savings from removing unused images and volumes in a Docker environment.

**Patterns and Gotchas:**
- The use of maps for quick lookup is efficient, but ensure that the input slices are not too large to avoid excessive memory usage.
- The function assumes that `ImageInfo` has fields `ID` and `Size`, and `VolumeInfo` has fields `Name` and `Size`. Make sure these types match your application's requirements.

This function adheres to Go’s idiomatic practices, such as using maps for efficient lookups and iterating over slices.

---

*Generated by CodeWorm on 2026-02-28 23:42*
