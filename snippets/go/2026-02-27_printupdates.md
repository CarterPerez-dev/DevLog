# PrintUpdates

**Type:** Documentation
**Repository:** angela
**File:** internal/cli/output.go
**Language:** go
**Lines:** 32-83
**Complexity:** 8.0

---

## Source Code

```go
func PrintUpdates(updates []types.UpdateResult) {
	var actionable []types.UpdateResult
	for _, u := range updates {
		if !u.Skipped {
			actionable = append(actionable, u)
		}
	}

	if len(actionable) == 0 {
		printDivider()
		fmt.Printf(
			"\n  %s %s\n",
			ui.HiGreen(ui.Check),
			ui.HiBlackItalic(
				"All dependencies are up to date.",
			),
		)
		return
	}

	printDivider()
	printSectionHeader(
		ui.Diamond, "Updates available",
		ui.Cyan, ui.Red,
	)

	nameWidth := 0
	oldWidth := 0
	for _, u := range actionable {
		if len(u.Name) > nameWidth {
			nameWidth = len(u.Name)
		}
		if len(u.OldVer) > oldWidth {
			oldWidth = len(u.OldVer)
		}
	}

	for _, u := range actionable {
		changeColor := changeColorFn(u.Change)
		fmt.Printf(
			"      %-*s  %s %s %s  %s %s\n",
			nameWidth, ui.HiBlue(u.Name),
			ui.HiBlackCrossed(
				padRight(u.OldVer, oldWidth),
			),
			ui.Green(ui.Arrow),
			changeColor(u.NewVer),
			ui.HiBlack(ui.ArrowRight),
			changeColor(u.Change),
		)
	}
}
```

---

## Documentation

### Documentation for `PrintUpdates` Function

**Purpose and Behavior:**
The `PrintUpdates` function processes a list of `types.UpdateResult` objects, filtering out skipped updates and printing detailed information about actionable updates. It uses colorized text to highlight the update status and changes.

**Key Implementation Details:**
- **Filtering:** The function iterates over `updates`, collecting only those that are not marked as `Skipped`.
- **Formatting:** It calculates column widths for better alignment of names and version numbers.
- **Output:** Uses formatted strings with colorized text to display the updates, including old versions, new versions, and change descriptions.

**When/Why to Use:**
Use this function in CLI applications where you need to present update information to users. The function handles filtering and formatting, making it easy to integrate into larger systems that manage software dependencies.

**Patterns/Gotchas:**
- **Error Handling:** While not explicitly shown, ensure error handling is robust when dealing with input data.
- **Color Usage:** The use of colorized text can be platform-dependent; consider testing across different environments.
- **Performance:** For large lists, the functionâ€™s linear complexity might impact performance. Consider optimizations if needed.

This function exemplifies Go's idiomatic approach to error handling and formatting, making it a valuable component for CLI applications.

---

*Generated by CodeWorm on 2026-02-27 20:29*
