# TargetRouter.find_targets

**Type:** Documentation
**Repository:** CodeWorm
**File:** codeworm/analysis/targets.py
**Language:** python
**Lines:** 640-684
**Complexity:** 9.0

---

## Source Code

```python
def find_targets(
        self,
        doc_type: DocType,
        repo: RepoEntry,
        limit: int = 20,
    ) -> list[DocumentationTarget]:
        if doc_type == DocType.FUNCTION_DOC:
            candidates = self.perspective_finder.analyzer.find_candidates(
                repo = repo,
                limit = limit,
            )
            return [
                DocumentationTarget(
                    doc_type = DocType.FUNCTION_DOC,
                    snippet = c.snippet,
                    source_context = c.snippet.source,
                    metadata = {
                        "relative_path": str(c.scanned_file.relative_path)
                    },
                ) for c in candidates
            ]

        if doc_type == DocType.FILE_DOC:
            return self.file_finder.find(repo, limit)

        if doc_type == DocType.CLASS_DOC:
            return self.class_finder.find(repo, limit)

        if doc_type == DocType.MODULE_DOC:
            return self.module_finder.find(repo, limit)

        if doc_type == DocType.CODE_EVOLUTION:
            return self.evolution_finder.find(repo, limit)

        if doc_type == DocType.PATTERN_ANALYSIS:
            return self.pattern_finder.find(repo, limit)

        if doc_type in (
                DocType.SECURITY_REVIEW,
                DocType.PERFORMANCE_ANALYSIS,
                DocType.TIL,
        ):
            return self.perspective_finder.find(repo, doc_type, limit)

        return []
```

---

## Documentation

### Documentation for `find_targets` Method in `TargetRouter`

**Purpose and Behavior:**
The `find_targets` method in the `TargetRouter` class is designed to identify specific types of documentation targets within a repository based on the provided `doc_type`. It supports multiple target types such as function, file, class, module, code evolution, pattern analysis, security review, performance analysis, and TIL (Today I Learned). The method returns a list of `DocumentationTarget` objects.

**Key Implementation Details:**
- **Type Annotations:** Uses type hints to specify the expected input parameters (`doc_type`, `repo`, `limit`) and return type (`list[DocumentationTarget]`).
- **Conditional Logic:** Implements a series of conditional checks using `if` statements to determine which finder method to call based on the `doc_type`.
- **Finder Methods:** Delegates target finding to specific finder methods like `perspective_finder`, `file_finder`, etc., each responsible for a particular type of documentation.

**When/Why to Use:**
This code is useful when you need to programmatically locate and retrieve different types of documentation targets within a codebase. It provides flexibility by allowing the caller to specify the exact type of target needed, making it suitable for various analysis tools or documentation generation processes.

**Patterns & Gotchas:**
- **Cyclomatic Complexity:** The high cyclomatic complexity (9.0) indicates that this function has multiple paths through its logic, which can make maintenance challenging.
- **Default Parameters:** The `limit` parameter with a default value of 20 is useful for controlling the number of results returned but should be carefully managed to avoid performance issues.

This method ensures clear and modular code by delegating specific tasks to specialized finder methods.

---

*Generated by CodeWorm on 2026-02-18 10:21*
