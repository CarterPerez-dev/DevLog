# CodeWormDaemon._find_documentable_candidate

**Type:** Documentation
**Repository:** CodeWorm
**File:** codeworm/daemon.py
**Language:** python
**Lines:** 446-468
**Complexity:** 7.0

---

## Source Code

```python
async def _find_documentable_candidate(self) -> AnalysisCandidate | None:
        """
        Legacy method - find a function candidate to document
        """
        enabled_repos = [r for r in self.settings.repos if r.enabled]

        for repo in enabled_repos:
            if repo.name in self.stats.repos_exhausted:
                continue

            candidates = self.analyzer.find_candidates(repo = repo, limit = 50)
            for candidate in candidates:
                if self.state.should_document(candidate.snippet):
                    return candidate

            self.stats.record_repo_exhausted(repo.name)
            self.logger.debug(
                "repo_exhausted",
                repo = repo.name,
                checked = len(candidates),
            )

        return None
```

---

## Documentation

### Documentation for `_find_documentable_candidate`

**Purpose and Behavior:**
The method `CodeWormDaemon._find_documentable_candidate` is a legacy function designed to find suitable functions for documentation within enabled repositories. It iterates through each repository, checks if the repository has been exhausted based on stats, finds up to 50 candidates per repository, and returns the first candidate that meets the document criteria.

**Key Implementation Details:**
- **Async Method:** The method is asynchronous (`async def`), allowing it to handle I/O-bound tasks efficiently.
- **Enabled Repositories:** It filters repositories using `self.settings.repos` where `enabled == True`.
- **Candidate Selection:** Uses `self.analyzer.find_candidates()` to find up to 50 candidates per repository. If a candidate meets the document criteria (`self.state.should_document(candidate.snippet)`), it is returned immediately.
- **Stats and Logging:** Tracks exhausted repositories using `self.stats` and logs details with `self.logger`.

**When/Why to Use:**
This method should be used in scenarios where you need to programmatically select functions for documentation, especially when working with multiple repositories. It ensures that only non-exhausted repositories are considered, making efficient use of resources.

**Patterns and Gotchas:**
- **Asynchronous Handling:** The async nature is crucial for handling I/O operations without blocking the event loop.
- **Early Return:** The method returns as soon as a suitable candidate is found, optimizing performance by avoiding unnecessary checks.
- **Repository Exhaustion Tracking:** Properly tracking exhausted repositories prevents redundant processing and ensures efficient use of resources.

---

*Generated by CodeWorm on 2026-02-27 23:46*
