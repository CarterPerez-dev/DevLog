# DevLogRepository.push

**Type:** Documentation
**Repository:** CodeWorm
**File:** codeworm/git/ops.py
**Language:** python
**Lines:** 217-272
**Complexity:** 8.0

---

## Source Code

```python
def push(
        self,
        remote: str = "origin",
        max_retries: int = 3,
        retry_delay: float = 5.0,
    ) -> bool:
        """
        Push commits to remote with retry logic
        """
        if not self.remote_url:
            logger.debug("no_remote_configured")
            return False

        repo = self.repo

        try:
            repo.remote(remote)
        except ValueError:
            repo.create_remote(remote, self.remote_url)
            logger.info("created_remote", name = remote, url = self.remote_url)

        last_error: Exception | None = None

        for attempt in range(max_retries):
            try:
                repo.git.push(remote, self.branch, force_with_lease = True)
                logger.info(
                    "push_successful",
                    remote = remote,
                    branch = self.branch
                )
                return True

            except GitCommandError as e:
                last_error = e
                error_msg = str(e).lower()

                if "conflict" in error_msg or "rejected" in error_msg:
                    raise GitConflictError(
                        f"Push rejected due to conflict: {e}"
                    ) from e

                if self._is_transient_error(error_msg):
                    logger.warning(
                        "push_retry",
                        attempt = attempt + 1,
                        max_retries = max_retries,
                        error = str(e),
                    )
                    time.sleep(retry_delay * (attempt + 1))
                else:
                    raise GitPushError(f"Push failed: {e}") from e

        raise GitPushError(
            f"Push failed after {max_retries} retries: {last_error}"
        )
```

---

## Documentation

### Documentation for `DevLogRepository.push`

**Purpose and Behavior:**
The `push` method in the `DevLogRepository` class pushes commits to a remote repository with retry logic. It handles transient errors by retrying up to `max_retries` times, with an exponential backoff delay between attempts.

**Key Implementation Details:**
- **Remote Configuration:** The function first checks if a remote URL is configured and creates one if necessary.
- **Retry Logic:** It retries the push operation based on error types. Transient errors are logged and retried; permanent conflicts or rejections raise specific exceptions.
- **Logging:** Detailed logs are generated for each attempt, indicating success, failure, and retry attempts.

**When/Why to Use:**
Use this method when you need robust handling of Git push operations in a Python application. It is particularly useful in scenarios where network issues or temporary conflicts might prevent successful pushes.

**Patterns/Gotchas:**
- **Exponential Backoff:** The delay between retries increases with each attempt, which helps manage server load and transient network issues.
- **Specific Exceptions:** Custom exceptions like `GitConflictError` and `GitPushError` are raised based on the nature of the error, making it easier to handle different failure cases.

---

*Generated by CodeWorm on 2026-02-18 10:27*
