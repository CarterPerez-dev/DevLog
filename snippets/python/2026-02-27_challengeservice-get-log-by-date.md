# ChallengeService.get_log_by_date

**Type:** Documentation
**Repository:** angelamos-operations
**File:** CarterOS-Server/src/aspects/challenge/facets/tracker/service.py
**Language:** python
**Lines:** 269-308
**Complexity:** 3.0

---

## Source Code

```python
async def get_log_by_date(
        session: AsyncSession,
        log_date: date,
    ) -> LogResponse:
        """
        Get a specific log by date
        """
        challenge = await ChallengeRepository.get_active(session)
        if not challenge:
            raise ChallengeNotFound()

        log = await ChallengeLogRepository.get_by_date(
            session,
            challenge.id,
            log_date,
        )
        if not log:
            raise LogNotFound(log_date)

        return LogResponse(
            id = log.id,
            challenge_id = log.challenge_id,
            log_date = log.log_date,
            day_number = ChallengeService._calculate_day_number(
                challenge,
                log.log_date
            ),
            tiktok = log.tiktok,
            instagram_reels = log.instagram_reels,
            youtube_shorts = log.youtube_shorts,
            twitter = log.twitter,
            reddit = log.reddit,
            linkedin_personal = log.linkedin_personal,
            linkedin_company = log.linkedin_company,
            youtube_full = log.youtube_full,
            medium = log.medium,
            jobs_applied = log.jobs_applied,
            created_at = log.created_at,
            updated_at = log.updated_at,
        )
```

---

## Documentation

### Documentation for `get_log_by_date`

**Purpose and Behavior:**
The function `get_log_by_date` retrieves a log entry by date within the context of an active challenge. It first checks if there is an active challenge, then fetches the log entry associated with that challenge and the specified date. If no active challenge or log entry exists, it raises specific exceptions.

**Key Implementation Details:**
- **Asynchronous:** The function uses `async` to handle database operations asynchronously.
- **Repositories:** It interacts with `ChallengeRepository` and `ChallengeLogRepository` to fetch data.
- **Exception Handling:** Raises `ChallengeNotFound` if no active challenge is found, and `LogNotFound` if the log entry does not exist for the given date.
- **Response Construction:** Returns a structured response object `LogResponse` containing various fields related to the log.

**When/Why to Use:**
Use this function when you need to retrieve detailed logs for specific dates within an active challenge. It ensures that only relevant and existing data is returned, making it suitable for reporting or analytics purposes.

**Patterns/Gotchas:**
- Ensure that `ChallengeService._calculate_day_number` is correctly implemented as it's used to calculate the day number.
- The function assumes that `LogResponse` has a constructor that accepts all fields. If not, you may need to adjust the response construction logic.
- Proper error handling ensures robustness but also requires careful exception management in calling code.

---

*Generated by CodeWorm on 2026-02-27 19:05*
