# init

**Type:** Documentation
**Repository:** CodeWorm
**File:** codeworm/cli.py
**Language:** python
**Lines:** 305-335
**Complexity:** 2.0

---

## Source Code

```python
def init(ctx: click.Context, devlog: Path | None) -> None:
    """
    Initialize a new DevLog repository
    """
    from codeworm.git import DevLogRepository

    overrides = {}
    if devlog:
        overrides["devlog"] = {"repo_path": devlog}

    settings = load_settings(config_dir = ctx.obj["config_dir"], **overrides)
    configure_logging(debug = ctx.obj["debug"])

    console.print(
        f"[bold]Initializing DevLog at {settings.devlog.repo_path}...[/bold]"
    )

    repo = DevLogRepository(repo_path = settings.devlog.repo_path)
    repo.ensure_directory_structure()

    console.print("[green]DevLog initialized successfully[/green]")
    console.print("\nDirectory structure created:")
    console.print("  snippets/python/")
    console.print("  snippets/typescript/")
    console.print("  snippets/javascript/")
    console.print("  snippets/go/")
    console.print("  snippets/rust/")
    console.print("  analysis/weekly/")
    console.print("  analysis/monthly/")
    console.print("  patterns/")
    console.print("  stats/")
```

---

## Documentation

### Documentation for `init` Function

**Purpose and Behavior:**
The `init` function initializes a new DevLog repository by setting up the necessary directory structure and configuring logging. It takes a `click.Context` object and an optional `devlog` path as parameters, allowing customization of the repository location.

**Key Implementation Details:**
- The function uses type hints to specify the expected types for its arguments.
- It imports `DevLogRepository` from `codeworm.git`.
- Overrides are optionally applied to settings based on a provided `devlog` path.
- Logging is configured using `configure_logging`, and settings are loaded with potential overrides.
- The function prints initialization messages, indicating success and the created directory structure.

**When/Why to Use This Code:**
This code should be used when setting up a new DevLog repository. It ensures that the necessary directories for various snippets and analyses are created, making it easier to manage development logs and code snippets.

**Patterns and Gotchas:**
- The function demonstrates best practices in Python by using type hints and context managers.
- Notable is the use of `click.Context` for handling command-line interface contexts.
- Ensure that `devlog` path exists or handle potential errors gracefully.

---

*Generated by CodeWorm on 2026-02-27 21:32*
