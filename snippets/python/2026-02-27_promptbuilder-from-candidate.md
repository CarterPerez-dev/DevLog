# PromptBuilder.from_candidate

**Type:** Documentation
**Repository:** CodeWorm
**File:** codeworm/llm/prompts.py
**Language:** python
**Lines:** 513-529
**Complexity:** 3.0

---

## Source Code

```python
def from_candidate(cls, candidate: AnalysisCandidate) -> PromptContext:
        """
        Create prompt context from analysis candidate
        """
        return PromptContext(
            source = candidate.snippet.source,
            name = candidate.snippet.function_name or candidate.snippet.class_name
            or "unknown",
            language = candidate.snippet.language,
            repo = candidate.snippet.repo,
            file_path = str(candidate.scanned_file.relative_path),
            complexity = candidate.snippet.complexity,
            line_count = candidate.snippet.line_count,
            class_name = candidate.snippet.class_name,
            decorators = candidate.parsed_function.decorators,
            is_async = candidate.parsed_function.is_async,
        )
```

---

## Documentation

### Documentation for `from_candidate` Method

**Purpose and Behavior:**
The `from_candidate` method in the `PromptBuilder` class is responsible for creating a `PromptContext` object from an `AnalysisCandidate`. It initializes various attributes of the context, such as source code snippet details, function or class names, language, repository information, complexity metrics, and metadata.

**Key Implementation Details:**
- **Input:** Takes an `AnalysisCandidate` object.
- **Output:** Returns a `PromptContext` object with initialized fields like `source`, `name`, `language`, `repo`, `file_path`, `complexity`, `line_count`, `class_name`, `decorators`, and `is_async`.
- **Default Handling:** If no function name is available, it defaults to the class name or "unknown".

**When/Why to Use This Code:**
This method is used when generating prompts for code analysis. It ensures that all necessary information about a code snippet is captured in a structured format, facilitating further processing by the LLM (Language Model).

**Patterns and Gotchas:**
- **Default Values:** The use of `or "unknown"` provides a fallback value if no function name or class name is available.
- **Type Hints:** The method uses type hints to ensure that the input and output types are clear, enhancing code readability and maintainability.

This method is particularly useful in scenarios where detailed context about code snippets is required for analysis or documentation purposes.

---

*Generated by CodeWorm on 2026-02-27 22:51*
