# analyze

**Type:** Documentation
**Repository:** CodeWorm
**File:** codeworm/cli.py
**Language:** python
**Lines:** 186-223
**Complexity:** 3.0

---

## Source Code

```python
def analyze(ctx: click.Context, repo: Path, limit: int) -> None:
    """
    Analyze a repository and show documentation candidates
    """
    from codeworm.analysis import CodeAnalyzer, ParserManager
    from codeworm.core.config import RepoEntry

    configure_logging(debug = ctx.obj["debug"])
    ParserManager.initialize()

    repo_config = RepoEntry(name = repo.name, path = repo, weight = 5)
    analyzer = CodeAnalyzer([repo_config])

    console.print(f"[bold]Analyzing {repo}...[/bold]\n")

    candidates = analyzer.find_candidates(repo = repo_config, limit = limit)

    if not candidates:
        console.print("[yellow]No candidates found[/yellow]")
        return

    table = Table(title = f"Top {len(candidates)} Documentation Candidates")
    table.add_column("Score", style = "cyan", justify = "right")
    table.add_column("Function", style = "green")
    table.add_column("File", style = "dim")
    table.add_column("Lines", justify = "right")
    table.add_column("Complexity", justify = "right")

    for c in candidates:
        table.add_row(
            f"{c.score:.1f}",
            c.snippet.display_name,
            str(c.scanned_file.relative_path),
            str(c.snippet.line_count),
            str(int(c.snippet.complexity)),
        )

    console.print(table)
```

---

## Documentation

### Documentation for `analyze` Function in CodeWorm CLI

**Purpose and Behavior:**
The `analyze` function in the CodeWorm CLI is designed to analyze a specified repository, identifying potential documentation candidates based on complexity and other metrics. It logs analysis results and displays them in a formatted table.

**Key Implementation Details:**
- **Logging Configuration:** Sets up logging with debug level depending on user input.
- **Parser Initialization:** Initializes `ParserManager` for parsing the codebase.
- **Repository Setup:** Configures `RepoEntry` to represent the repository being analyzed.
- **Candidate Identification:** Uses `CodeAnalyzer` to find documentation candidates, limiting the number based on user-defined limits.
- **Output Formatting:** Displays analysis results in a styled table using Rich library.

**When/Why to Use:**
This function is essential for developers and maintainers who need to identify under-documented or complex code areas. It helps ensure that critical parts of the codebase are properly documented, improving readability and maintainability.

**Patterns/Gotchas:**
- **Dependency Management:** Ensure `codeworm` dependencies are correctly installed.
- **Performance Considerations:** Large repositories may take longer to analyze due to the complexity checks.
- **Customization:** Users can adjust logging level and candidate limits via command-line arguments, providing flexibility.

---

*Generated by CodeWorm on 2026-02-18 09:23*
