# health_formatter

**Type:** Documentation
**Repository:** Telehook
**File:** src/telehook/formatters/health.py
**Language:** python
**Lines:** 9-26
**Complexity:** 5.0

---

## Source Code

```python
def health_formatter(
    app: str,
    status: str,
    uptime: str | None = None,
    extra: dict[str,
                str] | None = None,
) -> str:
    emoji = "\u2705" if status == "alive" else "\U0001f7e1"
    parts = [f"{emoji} <b>{app} is {status}</b>", ""]

    if uptime:
        parts.append(f"<b>Uptime:</b> {uptime}")

    if extra:
        for key, value in extra.items():
            parts.append(f"<b>{key}:</b> {value}")

    return truncate("\n".join(parts))
```

---

## Documentation

### Documentation for `health_formatter` Function

**Purpose and Behavior:**
The `health_formatter` function constructs a formatted string representing the health status of an application, including its emoji representation, status message, uptime (if provided), and additional metadata (if any). The function returns a truncated version of the constructed string to ensure it fits within certain length constraints.

**Key Implementation Details:**
- **Parameters:** 
  - `app`: The name of the application.
  - `status`: The health status ("alive" or "unhealthy").
  - `uptime`: Optional uptime string.
  - `extra`: Optional dictionary of additional metadata.
- **Emoji Handling:** Uses Unicode emojis to visually indicate the app's status.
- **String Construction:** Constructs a list of parts, appending relevant information based on provided arguments. Joins these parts with newlines and truncates the result.

**When/Why to Use:**
Use this function when you need to format health check results for display or logging purposes in applications that require clear visual indicators and structured metadata. It is particularly useful in monitoring systems where status updates are critical.

**Patterns/Gotchas:**
- The use of Unicode emojis ensures consistent, visually distinct status representations.
- Optional parameters (`uptime`, `extra`) allow flexibility but may lead to unexpected behavior if not properly handled.
- Truncation should be carefully managed to avoid cutting off important information.

---

*Generated by CodeWorm on 2026-02-28 17:47*
