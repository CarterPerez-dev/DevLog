# get_my_identity

**Repository:** angelamos-operations
**File:** CarterOS-Server/src/core/integrations/mcp/server.py
**Language:** python
**Lines:** 424-503
**Complexity:** 10.0

---

## Source Code

```python
async def get_my_identity() -> dict:
    """
    Get Carter's full identity profile including:
    - Basic info (name, age, background, role, goals)
    - Skills with proficiency levels
    - Interests and passion levels
    - Strengths and weaknesses
    - Brand voice and content preferences
    - Platform goals

    Use this to understand context about Carter when helping.
    """
    async with sessionmanager.session() as session:
        identity = await IdentityRepository.get_identity(session)

        return {
            "name": identity.name,
            "age": identity.age,
            "background": identity.background,
            "current_role": identity.current_role,
            "primary_goal": identity.primary_goal,
            "target_audience": identity.target_audience,
            "skills": [
                {
                    "skill": s.skill,
                    "proficiency": s.proficiency.value,
                    "years_experience": s.years_experience,
                    "context": s.context,
                }
                for s in identity.skills
            ],
            "interests": [
                {
                    "topic": i.topic,
                    "passion_level": i.passion_level.value,
                    "why": i.why,
                }
                for i in identity.interests
            ],
            "strengths": [
                {
                    "strength": s.strength,
                    "source": s.source.value,
                    "evidence": s.evidence,
                }
                for s in identity.strengths
            ],
            "weaknesses": [
                {
                    "weakness": w.weakness,
                    "impact": w.impact,
                    "workaround": w.workaround,
                }
                for w in identity.weaknesses
            ],
            "brand_voice": {
                "tone": identity.brand_voice.tone if identity.brand_voice else None,
                "sentence_structure": (
                    identity.brand_voice.sentence_structure
                    if identity.brand_voice
                    else None
                ),
                "uses_analogies": (
                    identity.brand_voice.uses_analogies
                    if identity.brand_voice
                    else None
                ),
            }
            if identity.brand_voice
            else None,
            "platform_goals": [
                {
                    "platform": g.platform.value,
                    "current_followers": g.current_followers,
                    "goal_followers": g.goal_followers,
                    "strategy": g.strategy,
                }
                for g in identity.platform_goals
            ],
        }
```

---

## Documentation

### Documentation for `get_my_identity`

**Purpose and Behavior**: 
The function `get_my_identity` is an asynchronous method that retrieves Carter's full identity profile from a database using an `IdentityRepository`. It compiles detailed information including basic details, skills, interests, strengths, weaknesses, brand voice preferences, and platform goals. This data helps in understanding the context of Carter when providing assistance.

**Key Implementation Details**: 
- **Session Management**: Uses `sessionmanager.session()` to manage database sessions.
- **Data Retrieval**: Fetches identity data from `IdentityRepository.get_identity(session)`.
- **Structured Data Return**: Returns a structured dictionary containing various aspects of Carter's profile, including nested lists and dictionaries for skills, interests, strengths, weaknesses, and platform goals.

**When/Why to Use This Code**: 
Use this function when you need comprehensive context about Carter. It is essential in scenarios where personalized assistance or tailored content creation is required based on Carterâ€™s specific characteristics and preferences.

**Patterns/Gotchas**:
- **Optional Data Handling**: The code handles optional data fields gracefully, returning `None` if certain attributes are missing.
- **Complex Data Structures**: The function returns a deeply nested dictionary, which can be complex to parse or modify. Ensure you understand the structure before integrating this into your application.

This function exemplifies best practices in asynchronous data retrieval and structured data handling in Python.

---

*Generated by CodeWorm on 2026-01-23 00:55*
