# CommitMessageGenerator.generate

**Type:** Documentation
**Repository:** CodeWorm
**File:** codeworm/git/ops.py
**Language:** python
**Lines:** 329-355
**Complexity:** 4.0

---

## Source Code

```python
def generate(
        self,
        function_name: str,
        language: str,
        is_minor: bool = False
    ) -> str:
        """
        Generate a commit message for a documentation commit
        """
        if is_minor:
            template = random.choice(MINOR_FIX_MESSAGES)
            return template.format(name = function_name)

        prefix = random.choice(
            [p for p in COMMIT_PREFIXES if p != self._last_prefix]
        )
        self._last_prefix = prefix

        templates = [
            f"{prefix} {function_name} implementation",
            f"{prefix} {function_name} in {language}",
            f"{prefix} {function_name}",
            f"add snippet: {function_name}",
            f"cover {function_name} patterns",
        ]

        return random.choice(templates)
```

---

## Documentation

### Documentation for `CommitMessageGenerator.generate`

**Purpose and Behavior:**
The `generate` method in the `CommitMessageGenerator` class creates a commit message for documentation commits based on whether the change is minor or not. If it's a minor fix, a random template from `MINOR_FIX_MESSAGES` is used to format the function name. Otherwise, a random prefix is chosen and combined with various templates that include the function name and language.

**Key Implementation Details:**
- **Parameters:** The method takes three parameters: `function_name`, `language`, and an optional boolean `is_minor`.
- **Return Type:** It returns a string representing the commit message.
- **Random Selections:** Uses `random.choice` to select templates or prefixes, ensuring a diverse set of messages.

**When/Why to Use This Code:**
This method is used in version control operations where documentation updates need distinct commit messages. It helps maintain consistency and variety in commit messages by dynamically generating them based on the nature of the change (minor fix vs. major update).

**Patterns and Gotchas:**
- **Dynamic Templates:** The use of dynamic templates allows for flexibility but requires careful management to ensure all placeholders are correctly formatted.
- **Prefix Management:** Ensuring that the selected prefix is not repeated in consecutive commits by tracking `_last_prefix` can prevent redundancy.

This method promotes a flexible yet structured approach to commit messaging, enhancing both readability and maintainability.

---

*Generated by CodeWorm on 2026-02-28 00:04*
