# dashboard

**Type:** Documentation
**Repository:** CodeWorm
**File:** codeworm/cli.py
**Language:** python
**Lines:** 347-371
**Complexity:** 3.0

---

## Source Code

```python
def dashboard(ctx: click.Context, host: str | None, port: int | None) -> None:
    """
    Start the web dashboard server
    """
    import uvicorn

    settings = load_settings(config_dir = ctx.obj["config_dir"])

    bind_host = host or settings.dashboard.host
    bind_port = port or settings.dashboard.port

    console.print("[bold green]Starting CodeWorm Dashboard[/bold green]")
    console.print(f"  URL: http://{bind_host}:{bind_port}")
    console.print(f"  Redis: {settings.dashboard.redis.connection_url}")

    os.environ["CODEWORM_DB_PATH"] = str(settings.db_path)
    os.environ["CODEWORM_REDIS_URL"] = settings.dashboard.redis.connection_url
    os.environ["CODEWORM_CONFIG_DIR"] = str(settings.config_dir)

    uvicorn.run(
        "dashboard.backend.app:app",
        host = bind_host,
        port = bind_port,
        log_level = "info",
    )
```

---

## Documentation

### Documentation for `dashboard` Function

**Purpose and Behavior:**
The `dashboard` function starts a web server for the CodeWorm Dashboard application using Uvicorn. It loads configuration settings, sets environment variables, and runs the dashboard app.

**Key Implementation Details:**
- **Parameters:** Accepts `ctx`, `host`, and `port` as parameters.
- **Configuration Loading:** Uses `load_settings` to fetch configuration from a specified directory (`ctx.obj["config_dir"]`).
- **Environment Variables:** Sets environment variables for database path, Redis URL, and config directory.
- **Uvicorn Configuration:** Configures Uvicorn with the host, port, and log level.

**When/Why to Use:**
Use this function when starting the CodeWorm Dashboard server. It is particularly useful during development or testing phases where you need a local web interface for monitoring and managing the application.

**Patterns/Gotchas:**
- **Default Values:** `host` and `port` have default values from settings, allowing flexibility in specifying overrides.
- **Environment Variables:** Setting environment variables ensures that critical configuration is available to the running app. However, be cautious as these can affect other parts of your system if not managed properly.

This function encapsulates the setup and execution logic for starting a CodeWorm Dashboard server, making it easy to integrate into CLI scripts or automated workflows.

---

*Generated by CodeWorm on 2026-02-18 09:37*
