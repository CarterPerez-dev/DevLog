# Modal

**Type:** Documentation
**Repository:** Cybersecurity-Projects
**File:** PROJECTS/advanced/encrypted-p2p-chat/frontend/src/components/UI/Modal.tsx
**Language:** tsx
**Lines:** 18-120
**Complexity:** 16.0

---

## Source Code

```tsx
function Modal(props: ModalProps): JSX.Element {
  const size = (): Size => props.size ?? 'md'
  const closeOnOverlayClick = (): boolean => props.closeOnOverlayClick ?? true
  const showCloseButton = (): boolean => props.showCloseButton ?? true

  const handleOverlayClick = (e: MouseEvent): void => {
    if (e.target === e.currentTarget && closeOnOverlayClick()) {
      props.onClose()
    }
  }

  const handleKeyDown = (e: KeyboardEvent): void => {
    if (e.key === 'Escape') {
      props.onClose()
    }
  }

  createEffect(() => {
    if (props.isOpen) {
      document.addEventListener('keydown', handleKeyDown)
      document.body.style.overflow = 'hidden'
    }

    onCleanup(() => {
      document.removeEventListener('keydown', handleKeyDown)
      document.body.style.overflow = ''
    })
  })

  const handleOverlayKeyDown = (e: KeyboardEvent): void => {
    if (e.key === 'Enter' || e.key === ' ') {
      e.preventDefault()
      if (closeOnOverlayClick()) {
        props.onClose()
      }
    }
  }

  return (
    <Show when={props.isOpen}>
      <div
        class="fixed inset-0 z-50 flex items-center justify-center p-4"
        role="button"
        tabIndex={0}
        onClick={handleOverlayClick}
        onKeyDown={handleOverlayKeyDown}
        aria-label="Close modal overlay"
      >
        <div class="absolute inset-0 bg-black/80 animate-fade-in" />

        <div
          class={`
            relative z-10 w-full
            bg-black border-4 border-orange
            shadow-[8px_8px_0_var(--color-orange)]
            animate-scale-in
            ${SIZE_CLASSES[size()]}
          `}
          role="dialog"
          aria-modal="true"
          aria-labelledby={props.title ? 'modal-title' : undefined}
        >
          <Show
            when={
              (props.title !== undefined && props.title !== '') ||
              showCloseButton()
            }
          >
            <div class="flex items-start justify-between p-4 border-b-2 border-orange">
              <div class="flex-1">
                <Show when={props.title}>
                  <h2
                    id="modal-title"
                    class="font-pixel text-sm text-orange uppercase"
                  >
                    {props.title}
                  </h2>
                </Show>
                <Show when={props.description}>
                  <p class="font-pixel text-[10px] text-gray mt-1">
                    {props.description}
                  </p>
                </Show>
              </div>

              <Show when={showCloseButton()}>
                <IconButton
                  icon={<CloseIcon />}
                  ariaLabel="Close modal"
                  onClick={props.onClose}
                  size="sm"
                  variant="ghost"
                />
              </Show>
            </div>
          </Show>

          <div class="p-4">{props.children}</div>
        </div>
      </div>
    </Show>
  )
}
```

---

## Documentation

### Documentation for `Modal` Component

**Purpose and Behavior:**
The `Modal` component in the provided code is a reusable dialog box that can be shown over the main content when certain conditions are met. It supports various configurations such as size, close behavior on overlay click, and keyboard interaction.

**Key Implementation Details:**
- The component accepts props like `size`, `closeOnOverlayClick`, `showCloseButton`, `isOpen`, `onClose`, `title`, `description`, and `children`.
- It uses functional state updates to determine the modal's size and behavior.
- Event handlers manage overlay click and keydown events, ensuring proper interaction with the modal.
- The component utilizes `createEffect` from React hooks for cleanup of event listeners.

**When/Why to Use:**
Use this component when you need a flexible modal dialog in your application. It is ideal for scenarios where you want to display information or prompt users without navigating away from the current page, such as form submissions or notifications.

**Patterns and Gotchas:**
- The `createEffect` hook ensures that event listeners are properly added and removed, preventing memory leaks.
- The use of conditional rendering with `Show` helps in managing complex UI logic efficiently.
- Be cautious when using `aria-label` and `role` attributes to ensure accessibility. Incorrect usage can lead to poor user experience.

This component is well-suited for projects requiring a robust modal solution that adheres to modern React practices.

---

*Generated by CodeWorm on 2026-02-18 18:13*
