# TestCard

**Repository:** CertGames-Core
**File:** frontend/user-app/src/domains/testing/ui/components/testCard.tsx
**Language:** tsx
**Lines:** 35-254
**Complexity:** 31.0

---

## Source Code

```tsx
function TestCard({
  testNumber,
  testId,
  state,
  progress,
  score,
  onStart,
  onResume,
  onRestart,
  onReview,
}: TestCardProps): React.ReactElement {
  const getRomanNumeral = (num: number): string => {
    const romanNumerals = [
      'I',
      'II',
      'III',
      'IV',
      'V',
      'VI',
      'VII',
      'VIII',
      'IX',
      'X',
    ];
    return romanNumerals[num - 1] ?? 'I';
  };

  const getInspirationalQuote = (num: number): string => {
    const quotes = {
      1: 'The unexamined life is not worth living.',
      2: 'The intersection of curiosity and persistence creates mastery.',
      3: 'Fate leads the willing.',
      4: 'The future belongs to those who can adapt their thinking to new paradigms.',
      5: 'Only change is eternal.',
      6: 'In stillness, the world is revealed.',
      7: 'Accept what is, let go of what was.',
      8: 'Time is a flat circle.',
      9: 'Information is not knowledge; knowledge is not wisdom; wisdom is not understanding.',
      10: 'The only true wisdom is in knowing you know nothing.',
    };
    return quotes[num as keyof typeof quotes] ?? quotes[1];
  };

  const getDifficultyLevel = (num: number): string => {
    switch (num) {
      case 1:
        return 'NORMAL';
      case 2:
        return 'VERY EASY';
      case 3:
        return 'EASY';
      case 4:
        return 'MODERATE';
      case 5:
        return 'INTERMEDIATE';
      case 6:
        return 'FORMIDABLE';
      case 7:
        return 'MERCILESS';
      case 8:
        return 'RUTHLESS';
      case 9:
        return 'RELENTLESS';
      case 10:
        return 'NUCLEAR';
      default:
        return 'NORMAL';
    }
  };

  const getDifficultyColor = (num: number): string => {
    switch (num) {
      case 1:
        return styles.normal;
      case 2:
        return styles.veryEasy;
      case 3:
        return styles.easy;
      case 4:
        return styles.moderate;
      case 5:
        return styles.intermediate;
      case 6:
        return styles.formidable;
      case 7:
        return styles.merciless;
      case 8:
        return styles.ruthless;
      case 9:
        return styles.relentless;
      case 10:
        return styles.nuclear;
      default:
        return styles.normal;
    }
  };

  const getStateClassName = (cardState: TestBoxStateType): string => {
    const stateMap: Record<TestBoxStateType, string> = {
      [TestBoxState.NOT_STARTED]: styles.notStarted ?? '',
      [TestBoxState.IN_PROGRESS]: styles.inProgress ?? '',
      [TestBoxState.COMPLETED]: styles.completed ?? '',
    };
    return stateMap[cardState];
  };

  return (
    <div
      className={clsx(styles.testCard, getStateClassName(state))}
      data-test-id={testId}
      data-test-number={testNumber.toString()}
    >
      <div className={styles.cardHeader}>
        <div className={styles.testNumber}>
          {getRomanNumeral(testNumber)}
        </div>
        <div
          className={clsx(
            styles.difficultyBadge,
            getDifficultyColor(testNumber),
          )}
        >
          {getDifficultyLevel(testNumber)}
        </div>
      </div>

      <div className={styles.cardContent}>
        {state === TestBoxState.NOT_STARTED ? (
          <>
            <div className={styles.quoteContainer}>
              <p className={styles.inspirationalQuote}>
                "{getInspirationalQuote(testNumber)}"
              </p>
            </div>
            <button
              type="button"
              className={styles.startButton}
              onClick={onStart}
            >
              <FiPlay />
              <span>START</span>
            </button>
          </>
        ) : null}

        {state === TestBoxState.IN_PROGRESS &&
        progress !== null &&
        progress !== undefined ? (
          <>
            <div className={styles.progressInfo}>
              <div className={styles.progressText}>In Progress</div>
              <div className={styles.progressDetail}>
                Question {progress.currentQuestion} of{' '}
                {progress.totalQuestions}
              </div>
              <div className={styles.progressBar}>
                <div
                  className={styles.progressFill}
                  style={{
                    width: `${((progress.currentQuestion / progress.totalQuestions) * 100).toString()}%`,
                  }}
                />
              </div>
            </div>
            <div className={styles.buttonGroup}>
              <button
                type="button"
                className={styles.primaryButton}
                onClick={onResume}
              >
                <FiPlay />
                <span>RESUME</span>
              </button>
              <button
                type="button"
                className={styles.secondaryButton}
                onClick={onRestart}
              >
                <FiRotateCw />
                <span>RESTART</span>
              </button>
            </div>
          </>
        ) : null}

        {state === TestBoxState.COMPLETED &&
        score !== null &&
        score !== undefined ? (
          <>
            <div className={styles.scoreInfo}>
              <div className={styles.scoreText}>Completed</div>
              <div className={styles.scoreValue}>
                {score.percentage.toFixed(1)}%
              </div>
              <div className={styles.scoreGrade}>Grade: {score.grade}</div>
            </div>
            <div className={styles.buttonGroup}>
              <button
                type="button"
                className={styles.primaryButton}
                onClick={onReview}
              >
                <FiEye />
                <span>REVIEW</span>
              </button>
              <button
                type="button"
                className={styles.secondaryButton}
                onClick={onRestart}
              >
                <FiRotateCw />
                <span>RESTART</span>
              </button>
            </div>
          </>
        ) : null}
      </div>
    </div>
  );
}
```

---

## Documentation

### Documentation for `TestCard` Component

#### Purpose and Behavior
The `TestCard` component in the CertGames-Core repository is responsible for rendering a test card that displays various states (not started, in progress, completed) of a test. It includes functionality to start, resume, or restart tests based on the current state.

#### Key Implementation Details
- **State Handling**: The component uses props like `testNumber`, `state`, `progress`, and `score` to determine its rendering behavior.
- **Roman Numeral Conversion**: A helper function converts test numbers to Roman numerals for display.
- **Inspirational Quotes**: Random quotes are displayed based on the test number.
- **Difficulty Levels**: Different difficulty levels are mapped to colors, enhancing visual feedback.

#### When/Why to Use This Code
Use this component in scenarios where you need to dynamically show different states of a test. It is particularly useful for educational or assessment applications that require user interaction and state tracking.

#### Patterns and Gotchas
- **Conditional Rendering**: The component uses conditional rendering based on the `state` prop, making it flexible but requiring careful handling of null/undefined values.
- **Prop Types**: Ensure all props are correctly passed to avoid runtime errors. For instance, `progress` should always be a non-null object when in progress state.
- **Styling**: The component heavily relies on CSS classes defined elsewhere (e.g., `styles.normal`, `styles.inProgress`). Make sure these styles are properly imported and defined.

This component is well-suited for complex UI interactions where multiple states need to be visually distinguished.

---

*Generated by CodeWorm on 2026-01-18 21:15*
