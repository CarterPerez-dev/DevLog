# BlogPage

**Repository:** CertGames-Core
**File:** frontend/user-app/src/domains/public/landing/ui/blog.page.tsx
**Language:** tsx
**Lines:** 26-396
**Complexity:** 50.0

---

## Source Code

```tsx
function BlogPage(): React.ReactElement {
  const { slug } = useParams<{ slug: string }>();
  const {
    data: blog,
    isLoading,
    error,
  } = useGetBlogDetail(slug ?? '', {
    enabled: slug !== undefined && slug.length > 0,
  });

  const { mutate: likeBlog } = useIncrementBlogLike();
  const { mutate: shareBlog } = useIncrementBlogShare();

  useEffect(() => {
    window.scrollTo(0, 0);
  }, [slug]);

  useSeoMeta({
    title: blog?.metaTitle ?? blog?.title ?? 'Blog Article | CertGames',
    description:
      blog?.metaDescription ??
      blog?.excerpt ??
      'Read our latest cybersecurity insights and certification guides.',
    canonicalUrl: blog?.canonicalUrl ?? `/blog/${slug ?? ''}`,
    keywords:
      blog?.metaKeywords?.join(', ') ??
      blog?.tags?.join(', ') ??
      'cybersecurity, certification, blog',
    ogImage:
      blog?.ogImage ??
      blog?.featuredImage ??
      '/blogImages/certgames-vs-trash.webp',
    ogType: 'article',
    ...(blog?.author !== undefined && blog?.author !== null
      ? { author: blog.author }
      : {}),
    jsonLd:
      blog !== null && blog !== undefined
        ? [
            createBreadcrumbSchema([
              { position: 1, name: 'Home', item: '/' },
              { position: 2, name: 'Blog', item: '/blogs' },
              { position: 3, name: blog.title, item: `/blog/${slug ?? ''}` },
            ]),
            {
              '@context': 'https://schema.org',
              '@type': 'BlogPosting',
              'headline': blog.title,
              'description': blog.excerpt,
              'author': {
                '@type': 'Person',
                'name': blog.author,
                ...(blog.authorTitle !== null && blog.authorTitle !== ''
                  ? { jobTitle: blog.authorTitle }
                  : {}),
                ...(blog.authorBio !== null && blog.authorBio !== ''
                  ? { description: blog.authorBio }
                  : {}),
                ...(blog.authorImage !== null && blog.authorImage !== ''
                  ? { image: blog.authorImage }
                  : {}),
              },
              'datePublished': blog.publishedAt,
              'dateModified': blog.lastUpdated ?? blog.publishedAt,
              'image': blog.featuredImage ?? undefined,
              'publisher': {
                '@type': 'Organization',
                'name': 'CertGames',
                'logo': {
                  '@type': 'ImageObject',
                  'url':
                    'https://certgames.com/assets/certgames-social.webp',
                },
              },
              'mainEntityOfPage': {
                '@type': 'WebPage',
                '@id': `https://certgames.com/blog/${slug ?? ''}`,
              },
              'keywords': blog.tags.join(', '),
              'articleSection': blog.category,
              'wordCount': blog.content.split(' ').length,
              'commentCount': blog.commentCount,
            },
            ...(blog.tableOfContents.length > 0
              ? [
                  {
                    '@context': 'https://schema.org',
                    '@type': 'FAQPage',
                    'mainEntity': blog.tableOfContents.map((item) => ({
                      '@type': 'Question',
                      'name': item,
                      'acceptedAnswer': {
                        '@type': 'Answer',
                        'text': `See the detailed explanation in the article section: ${item}`,
                      },
                    })),
                  },
                ]
              : []),
          ]
        : [],
  });

  const formatDate = (dateString: string | null): string => {
    if (dateString === null) return '';
    const date = new Date(dateString);
    return date.toLocaleDateString('en-US', {
      year: 'numeric',
      month: 'long',
      day: 'numeric',
    });
  };

  const formatNumber = (num: number): string => {
    if (num >= 1000) {
      return `${(num / 1000).toFixed(1)}k`;
    }
    return num.toString();
  };

  const handleLike = (): void => {
    if (slug !== undefined && slug !== '') {
      likeBlog(slug);
    }
  };

  const handleShare = async (): Promise<void> => {
    if (
      slug !== undefined &&
      slug !== '' &&
      blog !== null &&
      blog !== undefined
    ) {
      shareBlog(slug);

      if (navigator.share !== undefined) {
        try {
          await navigator.share({
            title: blog.title,
            text: blog.excerpt,
            url: window.location.href,
          });
        } catch (err) {
          console.error('Error sharing:', err);
        }
      } else {
        await navigator.clipboard.writeText(window.location.href);
      }
    }
  };

  const handleSocialShare = (
    platform: 'twitter' | 'facebook' | 'reddit',
  ): void => {
    if (
      slug !== undefined &&
      slug !== '' &&
      blog !== null &&
      blog !== undefined
    ) {
      shareBlog(slug);

      const shareUrls = generateSocialShareUrls({
        url: window.location.href,
        title: blog.title,
        text: blog.excerpt,
        hashtags: blog.tags.slice(0, 3),
        via: 'CertGames',
      });

      openShareWindow(shareUrls[platform], platform);
    }
  };

  if (isLoading) {
    return (
      <div className={styles.container}>
        <div className={styles.loading}>
          <div className={styles.loadingText}>LOADING ARTICLE...</div>
        </div>
      </div>
    );
  }

  if (
    (error !== null && error !== undefined) ||
    blog === null ||
    blog === undefined
  ) {
    return (
      <div className={styles.container}>
        <div className={styles.errorState}>
          <h1>Article not found</h1>
          <Link
            to="/blogs"
            className={styles.backLink}
          >
            ← Back to blogs
          </Link>
        </div>
      </div>
    );
  }

  return (
    <div className={styles.container}>
      <article className={styles.article}>
        {blog.featuredImage !== null && blog.featuredImage !== '' ? (
          <div className={styles.heroImage}>
            <img
              src={blog.featuredImage}
              alt={blog.featuredImageAlt ?? blog.title}
              className={styles.featuredImage}
            />
            <div className={styles.imageOverlay} />
          </div>
        ) : null}

        <div className={styles.contentWrapper}>
          <header className={styles.articleHeader}>
            <div className={styles.categoryBadge}>{blog.category}</div>

            <h1 className={styles.title}>{blog.title}</h1>

            <div className={styles.excerpt}>{blog.excerpt}</div>

            <div className={styles.metaInfo}>
              <div className={styles.authorSection}>
                <div className={styles.authorName}>
                  {blog.author}
                  {blog.authorTitle !== null && blog.authorTitle !== '' ? (
                    <span className={styles.authorTitle}>
                      , {blog.authorTitle}
                    </span>
                  ) : null}
                </div>
              </div>

              <div className={styles.articleMeta}>
                <div className={styles.metaItem}>
                  <FiCalendar />
                  <span>{formatDate(blog.publishedAt)}</span>
                </div>
                <div className={styles.metaItem}>
                  <FiClock />
                  <span>{blog.readTime ?? '5 min read'}</span>
                </div>
                <div className={styles.metaItem}>
                  <FiEye />
                  <span>{formatNumber(blog.views)} views</span>
                </div>
              </div>
            </div>
          </header>

          <div className={styles.articleContent}>
            <div className={styles.markdown}>
              <ReactMarkdown>{blog.content}</ReactMarkdown>
            </div>
          </div>

          <div className={styles.engagementBar}>
            <button
              className={styles.engagementButton}
              onClick={handleLike}
              aria-label="Like this article"
            >
              <FiThumbsUp />
              <span>{formatNumber(blog.likes)}</span>
            </button>

            <button
              className={styles.engagementButton}
              onClick={() => void handleShare()}
              aria-label="Share this article"
            >
              <FiShare2 />
              <span>{formatNumber(blog.shares)}</span>
            </button>

            <div className={styles.socialShareButtons}>
              <button
                className={styles.socialShareButton}
                onClick={() => handleSocialShare('twitter')}
                aria-label="Share on X"
              >
                <span>Share</span>
                <FaXTwitter />
              </button>

              <button
                className={styles.socialShareButton}
                onClick={() => handleSocialShare('facebook')}
                aria-label="Share on Facebook"
              >
                <span>Share</span>
                <FaFacebookF />
              </button>

              <button
                className={styles.socialShareButton}
                onClick={() => handleSocialShare('reddit')}
                aria-label="Share on Reddit"
              >
                <span>Share</span>
                <FaRedditAlien />
              </button>
            </div>
          </div>

          {blog.tags.length > 0 ? (
            <div className={styles.tagsSection}>
              <div className={styles.tagsLabel}>TAGS</div>
              <div className={styles.tagsList}>
                {blog.tags.map((tag) => (
                  <span
                    key={tag}
                    className={styles.tag}
                  >
                    {tag}
                  </span>
                ))}
              </div>
            </div>
          ) : null}

          {blog.relatedPosts.length > 0 ? (
            <section className={styles.relatedSection}>
              <h2 className={styles.relatedTitle}>RELATED ARTICLES</h2>
              <div className={styles.relatedGrid}>
                {blog.relatedPosts.map((post) => (
                  <Link
                    key={post.id}
                    to={`/blog/${post.slug}`}
                    className={styles.relatedCard}
                  >
                    {post.featuredImage !== null &&
                    post.featuredImage !== '' ? (
                      <div className={styles.relatedImage}>
                        <img
                          src={post.featuredImage}
                          alt={post.featuredImageAlt ?? post.title}
                        />
                        <div className={styles.relatedImageOverlay} />
                      </div>
                    ) : null}
                    <div className={styles.relatedContent}>
                      <h3 className={styles.relatedCardTitle}>
                        {post.title}
                      </h3>
                      <p className={styles.relatedExcerpt}>{post.excerpt}</p>
                      <div className={styles.relatedMeta}>
                        <span>{post.readTime ?? '5 min'}</span>
                        <span>•</span>
                        <span>{formatNumber(post.views)} views</span>
                      </div>
                    </div>
                  </Link>
                ))}
              </div>
            </section>
          ) : null}
        </div>
      </article>

      <div className={styles.wireframeTerrain}>
        <div className={styles.gridPlane} />
      </div>
    </div>
  );
}
```

---

## Documentation

### Documentation for `BlogPage` Component

**Purpose and Behavior:**
The `BlogPage` component fetches blog details, handles SEO metadata, and renders a detailed blog page with interactive elements like likes, shares, and related articles.

**Key Implementation Details:**
- Uses React hooks (`useParams`, `useGetBlogDetail`, `useIncrementBlogLike`, `useIncrementBlogShare`) to manage state and side effects.
- Implements SEO optimization using dynamic schema.org markup based on blog data.
- Handles user interactions such as liking, sharing, and social media sharing via different platforms.

**When/Why to Use This Code:**
This component is ideal for rendering detailed blog posts with rich metadata and interactive features. It ensures that the page is optimized for search engines and provides a seamless user experience through dynamic content loading and engagement options.

**Patterns and Gotchas:**
- The `useEffect` hook for resetting scroll position is crucial for maintaining a clean user interface.
- Dynamic schema generation in `useSeoMeta` ensures that each blog post has unique SEO metadata, improving search engine visibility.
- Handling null or undefined values gracefully prevents runtime errors and enhances usability.

This component is particularly useful when building a dynamic and SEO-friendly blog section for websites like CertGames.

---

*Generated by CodeWorm on 2026-01-30 08:32*
