# PrevNextNav

**Type:** Performance Analysis
**Repository:** my-portfolio
**File:** v1/frontend/src/components/layout/PrevNextNav.tsx
**Language:** tsx
**Lines:** 39-107
**Complexity:** 15.0

---

## Source Code

```tsx
function PrevNextNav({
  currentPath,
}: PrevNextNavProps): React.ReactElement | null {
  const { t } = useTranslation()
  const location = useLocation()
  const { data: projectsNav } = useProjectsNav()

  const path = currentPath ?? location.pathname

  const projectNavItems: NavItem[] = (projectsNav?.items ?? []).map((p) => ({
    path: ROUTES.PROJECTS.DETAIL(p.slug),
    label: p.title,
  }))

  const fullNavOrder: NavItem[] = [
    ...STATIC_NAV_ORDER,
    ...projectNavItems,
    ...BACKGROUND_NAV,
  ]

  const currentIndex = fullNavOrder.findIndex((item) => item.path === path)

  if (currentIndex === -1) {
    return null
  }

  const prevItem = currentIndex > 0 ? fullNavOrder[currentIndex - 1] : null
  const nextItem =
    currentIndex < fullNavOrder.length - 1 ? fullNavOrder[currentIndex + 1] : null

  if (!prevItem && !nextItem) {
    return null
  }

  return (
    <nav className={styles.nav} aria-label="Page navigation">
      <div className={styles.prev}>
        {prevItem && (
          <Link to={prevItem.path} className={styles.link}>
            <span className={styles.direction}>
              <ChevronLeftIcon />
              {t('common.previous')}
            </span>
            <span className={styles.title}>
              {prevItem.translationKey
                ? t(prevItem.translationKey)
                : prevItem.label}
            </span>
          </Link>
        )}
      </div>
      <div className={styles.next}>
        {nextItem && (
          <Link to={nextItem.path} className={styles.link}>
            <span className={styles.direction}>
              {t('common.next')}
              <ChevronRightIcon />
            </span>
            <span className={styles.title}>
              {nextItem.translationKey
                ? t(nextItem.translationKey)
                : nextItem.label}
            </span>
          </Link>
        )}
      </div>
    </nav>
  )
}
```

---

## Performance Analysis

### Performance Analysis

#### Time Complexity
The time complexity of this function is \(O(n)\), where \(n\) is the number of items in `projectsNav.items`. This is due to the map operation over `projectsNav.items`.

#### Space Complexity and Memory Allocation
- The space complexity is also \(O(n)\) because of the array operations that create `projectNavItems` and `fullNavOrder`.
- There are no significant memory leaks, but ensure that `useProjectsNav()` does not return large datasets unnecessarily.

#### Bottlenecks or Inefficiencies
1. **Redundant Operations**: The translation logic in both `prevItem` and `nextItem` is redundant if the translation key is always present.
2. **Unnecessary Iterations**: The `findIndex` operation to locate `currentIndex` could be optimized by using a direct lookup if the paths are unique.

#### Optimization Opportunities
1. **Translation Key Check**: Combine the translation logic into one place:
   ```tsx
   const label = nextItem?.translationKey ? t(nextItem.translationKey) : nextItem.label;
   ```
2. **Direct Lookup**: If `path` is guaranteed to be in `fullNavOrder`, use a direct lookup instead of `findIndex`.

#### Resource Usage Concerns
- Ensure that `useProjectsNav()` and other hooks are not causing unnecessary re-renders.
- Consider caching `projectsNav.items` if it doesn't change frequently.

By addressing these points, you can improve the performance and efficiency of this component.

---

*Generated by CodeWorm on 2026-02-21 20:05*
