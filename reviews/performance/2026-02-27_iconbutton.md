# IconButton

**Type:** Performance Analysis
**Repository:** Cybersecurity-Projects
**File:** PROJECTS/advanced/encrypted-p2p-chat/frontend/src/components/UI/IconButton.tsx
**Language:** tsx
**Lines:** 43-91
**Complexity:** 13.0

---

## Source Code

```tsx
function IconButton(props: IconButtonProps): JSX.Element {
  const [local, rest] = splitProps(props, [
    'icon',
    'onClick',
    'size',
    'variant',
    'ariaLabel',
    'disabled',
    'loading',
    'class',
  ])

  const size = (): Size => local.size ?? 'md'
  const variant = (): IconButtonVariant => local.variant ?? 'ghost'
  const isDisabled = (): boolean => local.disabled ?? false
  const isLoading = (): boolean => local.loading ?? false

  const handleClick = (): void => {
    if (!isDisabled() && !isLoading() && local.onClick !== undefined) {
      local.onClick()
    }
  }

  return (
    <button
      type="button"
      aria-label={local.ariaLabel}
      disabled={isDisabled() || isLoading()}
      onClick={handleClick}
      class={`
        inline-flex items-center justify-center
        transition-all duration-100
        focus:outline-none focus:ring-2 focus:ring-orange focus:ring-offset-1 focus:ring-offset-black
        ${SIZE_CLASSES[size()]}
        ${VARIANT_CLASSES[variant()]}
        ${isDisabled() || isLoading() ? DISABLED_CLASSES : ''}
        ${local.class ?? ''}
      `}
      {...rest}
    >
      <Show
        when={!isLoading()}
        fallback={<Spinner size={size() === 'xs' ? 'xs' : 'sm'} />}
      >
        <span class={ICON_SIZE_CLASSES[size()]}>{local.icon}</span>
      </Show>
    </button>
  )
}
```

---

## Performance Analysis

### Performance Analysis of `IconButton` Component

**Time Complexity:** The function has a time complexity of O(1), as the operations performed are constant regardless of input size.

**Space Complexity and Memory Allocation:** The space complexity is also O(1) since no additional data structures depend on the input size. However, there are some inefficiencies:

- **Redundant Function Calls:** The `size()`, `variant()`, `isDisabled()`, and `isLoading()` functions are called multiple times within the component. These can be optimized by storing their results in variables.
  
  ```tsx
  const size = local.size ?? 'md'
  const variant = local.variant ?? 'ghost'
  const isDisabled = local.disabled ?? false
  const isLoading = local.loading ?? false
  ```

- **Conditional Rendering:** The `Show` component's fallback rendering of a spinner can be optimized by ensuring it only renders when necessary.

**Bottlenecks or Inefficiencies:**
- **Unnecessary Iterations:** The class attribute concatenation is complex and could be simplified.
  
  ```tsx
  const classes = [
    'inline-flex items-center justify-center',
    'transition-all duration-100',
    'focus:outline-none focus:ring-2 focus:ring-orange focus:ring-offset-1 focus:ring-offset-black',
    SIZE_CLASSES[size],
    VARIANT_CLASSES[variant],
    isDisabled || isLoading ? DISABLED_CLASSES : '',
    local.class ?? ''
  ].join(' ')
  
  return (
    <button
      type="button"
      aria-label={local.ariaLabel}
      disabled={isDisabled() || isLoading()}
      onClick={handleClick}
      className={classes}
      {...rest}
    >
      {isLoading ? <Spinner size={size === 'xs' ? 'xs' : 'sm'} /> : (
        <span className={ICON_SIZE_CLASSES[size]}>{local.icon}</span>
      )}
    </button>
  )
  ```

**Optimization Opportunities:**
- Simplify the class attribute concatenation.
- Ensure `Show` only renders necessary components.

**Resource Usage Concerns:**
- No resource leaks are evident, but ensure all external resources (e.g., CSS classes) are correctly managed.

---

*Generated by CodeWorm on 2026-02-27 21:12*
