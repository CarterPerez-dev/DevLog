# SettingsRow

**Type:** Performance Analysis
**Repository:** ios-test
**File:** red-recon/app/(app)/(tabs)/settings.tsx
**Language:** tsx
**Lines:** 18-74
**Complexity:** 12.0

---

## Source Code

```tsx
function SettingsRow({
  icon,
  label,
  subtitle,
  onPress,
  rightElement,
  isDestructive,
}: {
  icon: React.ReactNode
  label: string
  subtitle?: string
  onPress?: () => void
  rightElement?: React.ReactNode
  isDestructive?: boolean
}): React.ReactElement {
  return (
    <Stack
      flexDirection="row"
      alignItems="center"
      justifyContent="space-between"
      paddingVertical="$4"
      paddingHorizontal="$4"
      pressStyle={onPress ? { backgroundColor: '$bgSurface75' } : undefined}
      onPress={onPress}
    >
      <XStack alignItems="center" gap="$3" flex={1}>
        <Stack
          width={36}
          height={36}
          borderRadius="$2"
          backgroundColor={isDestructive ? 'rgba(220, 38, 38, 0.12)' : '$bgSurface200'}
          alignItems="center"
          justifyContent="center"
        >
          {icon}
        </Stack>
        <YStack flex={1}>
          <Text
            fontSize={15}
            fontWeight="500"
            color={isDestructive ? '$errorDefault' : '$textDefault'}
            fontFamily="$body"
          >
            {label}
          </Text>
          {subtitle && (
            <Text fontSize={12} color="$textMuted" fontFamily="$body" marginTop="$1">
              {subtitle}
            </Text>
          )}
        </YStack>
      </XStack>
      {rightElement ??
        (onPress && <ChevronRight size={18} color={colors.textMuted.val} />)}
    </Stack>
  )
}
```

---

## Performance Analysis

### Performance Analysis of `SettingsRow` Component

**Time Complexity:** The time complexity is O(1), as the component performs a fixed number of operations regardless of input size.

**Space Complexity:** The space complexity is also O(1) since no additional data structures are created that depend on the input size. However, the component does create several small DOM nodes and text elements, which can be optimized for better performance.

**Bottlenecks or Inefficiencies:**
- **Redundant Operations:** The `Stack` and `XStack` components are used with fixed padding values (`$4`, `$3`). These values could be directly applied in the component's styles to avoid unnecessary re-renders.
- **Conditional Rendering:** The ternary operator for `rightElement` is redundant if `onPress` is always defined. Simplify it by using a single condition.

**Optimization Opportunities:**
- **Inline Styles:** Directly apply padding and other styles in the component's props to avoid unnecessary re-renders.
- **Simplify Conditional Logic:** Combine conditions for `rightElement` and `onPress` to reduce redundancy.

```tsx
function SettingsRow({
  icon,
  label,
  subtitle,
  onPress,
  rightElement,
  isDestructive,
}: {
  icon: React.ReactNode;
  label: string;
  subtitle?: string;
  onPress?: () => void;
  rightElement?: React.ReactNode;
  isDestructive?: boolean;
}): React.ReactElement {
  const hasRightElement = rightElement || (onPress && <ChevronRight size={18} color={colors.textMuted.val} />);
  
  return (
    <Stack
      flexDirection="row"
      alignItems="center"
      justifyContent="space-between"
      paddingVertical="$4"
      paddingHorizontal="$4"
      pressStyle={onPress ? { backgroundColor: '$bgSurface75' } : undefined}
      onPress={onPress}
    >
      <XStack alignItems="center" gap="$3" flex={1}>
        <Stack
          width={36}
          height={36}
          borderRadius="$2"
          backgroundColor={isDestructive ? 'rgba(220, 38, 38, 0.12)' : '$bgSurface200'}
          alignItems="center"
          justifyContent="center"
        >
          {icon}
        </Stack>
        <YStack flex={1}>
          <Text
            fontSize={15}
            fontWeight="500"
            color={isDestructive ? '$errorDefault' : '$textDefault'}
            fontFamily="$body"
          >
            {label}
          </Text>
          {subtitle && (
            <Text fontSize={12} color="$textMuted" fontFamily="$body" marginTop="$1">
              {subtitle}
            </Text>
          )}
        </YStack>
      </XStack>
      {hasRightElement}
    </Stack>
  );
}
```

**Resource Usage Concerns:**
- Ensure that `onPress` and other props are memoized or optimized to avoid unnecessary re-renders.
- Use React.memo or similar techniques for components with static props.

---

*Generated by CodeWorm on 2026-02-21 23:43*
