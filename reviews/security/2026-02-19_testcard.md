# TestCard

**Type:** Security Review
**Repository:** CertGames-Core
**File:** frontend/user-app/src/domains/testing/ui/components/testCard.tsx
**Language:** tsx
**Lines:** 35-254
**Complexity:** 31.0

---

## Source Code

```tsx
function TestCard({
  testNumber,
  testId,
  state,
  progress,
  score,
  onStart,
  onResume,
  onRestart,
  onReview,
}: TestCardProps): React.ReactElement {
  const getRomanNumeral = (num: number): string => {
    const romanNumerals = [
      'I',
      'II',
      'III',
      'IV',
      'V',
      'VI',
      'VII',
      'VIII',
      'IX',
      'X',
    ];
    return romanNumerals[num - 1] ?? 'I';
  };

  const getInspirationalQuote = (num: number): string => {
    const quotes = {
      1: 'The unexamined life is not worth living.',
      2: 'The intersection of curiosity and persistence creates mastery.',
      3: 'Fate leads the willing.',
      4: 'The future belongs to those who can adapt their thinking to new paradigms.',
      5: 'Only change is eternal.',
      6: 'In stillness, the world is revealed.',
      7: 'Accept what is, let go of what was.',
      8: 'Time is a flat circle.',
      9: 'Information is not knowledge; knowledge is not wisdom; wisdom is not understanding.',
      10: 'The only true wisdom is in knowing you know nothing.',
    };
    return quotes[num as keyof typeof quotes] ?? quotes[1];
  };

  const getDifficultyLevel = (num: number): string => {
    switch (num) {
      case 1:
        return 'NORMAL';
      case 2:
        return 'VERY EASY';
      case 3:
        return 'EASY';
      case 4:
        return 'MODERATE';
      case 5:
        return 'INTERMEDIATE';
      case 6:
        return 'FORMIDABLE';
      case 7:
        return 'MERCILESS';
      case 8:
        return 'RUTHLESS';
      case 9:
        return 'RELENTLESS';
      case 10:
        return 'NUCLEAR';
      default:
        return 'NORMAL';
    }
  };

  const getDifficultyColor = (num: number): string => {
    switch (num) {
      case 1:
        return styles.normal;
      case 2:
        return styles.veryEasy;
      case 3:
        return styles.easy;
      case 4:
        return styles.moderate;
      case 5:
        return styles.intermediate;
      case 6:
        return styles.formidable;
      case 7:
        return styles.merciless;
      case 8:
        return styles.ruthless;
      case 9:
        return styles.relentless;
      case 10:
        return styles.nuclear;
      default:
        return styles.normal;
    }
  };

  const getStateClassName = (cardState: TestBoxStateType): string => {
    const stateMap: Record<TestBoxStateType, string> = {
      [TestBoxState.NOT_STARTED]: styles.notStarted ?? '',
      [TestBoxState.IN_PROGRESS]: styles.inProgress ?? '',
      [TestBoxState.COMPLETED]: styles.completed ?? '',
    };
    return stateMap[cardState];
  };

  return (
    <div
      className={clsx(styles.testCard, getStateClassName(state))}
      data-test-id={testId}
      data-test-number={testNumber.toString()}
    >
      <div className={styles.cardHeader}>
        <div className={styles.testNumber}>
          {getRomanNumeral(testNumber)}
        </div>
        <div
          className={clsx(
            styl
```

---

## Security Review

### Security Review for `TestCard` Component

#### Vulnerabilities and Severity:

1. **Info: Input Validation Gaps**
   - **Line:** 50-68, 79-92
   - **Severity:** Info
   - **Description:** The component uses `testNumber`, `state`, `progress`, and other props directly without validation or sanitization.
   - **Attack Vector:** Potential for injection attacks if these inputs are manipulated.

2. **Info: Hardcoded Secrets or Credentials**
   - **Line:** N/A
   - **Severity:** Info
   - **Description:** No hardcoded secrets or credentials found in the provided code snippet.

3. **Info: Insecure Deserialization**
   - **Line:** N/A
   - **Severity:** Info
   - **Description:** No deserialization logic present, so this is not applicable here.

4. **Info: Error Handling**
   - **Line:** 17-20, 28-35, 46-50
   - **Severity:** Info
   - **Description:** Default values are used for missing props, which could leak information.
   - **Attack Vector:** Potential for information leakage.

#### Recommended Fixes:

1. **Input Validation:**
   - Validate and sanitize `testNumber`, `state`, `progress` in the parent component before passing them to `TestCard`.
   ```tsx
   const validateProps = (props) => {
     // Add validation logic here
   };
   ```

2. **Error Handling:**
   - Implement proper error handling to avoid information leakage.
   ```tsx
   return (
     <div className={clsx(styles.testCard, getStateClassName(state))}>
       {/* ... */}
       {state === TestBoxState.NOT_STARTED ? (
         <>
           {/* ... */}
         </>
       ) : null}
     </div>
   );
   ```

3. **Overall Security Posture:**
   - The component is relatively secure but could benefit from input validation and improved error handling.
   - Ensure all props are validated in the parent component to prevent injection attacks.

By addressing these issues, you can enhance the security posture of your application.

---

*Generated by CodeWorm on 2026-02-19 11:58*
