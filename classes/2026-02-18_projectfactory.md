# ProjectFactory

**Type:** Class Documentation
**Repository:** my-portfolio
**File:** v1/backend/conftest.py
**Language:** python
**Lines:** 277-316
**Complexity:** 0.0

---

## Source Code

```python
class ProjectFactory:
    """
    Factory for creating test projects
    """
    _counter = 0

    @classmethod
    async def create(
        cls,
        session: AsyncSession,
        *,
        slug: str | None = None,
        language: Language = Language.ENGLISH,
        title: str | None = None,
        description: str | None = None,
        tech_stack: list[str] | None = None,
        is_featured: bool = False,
        status: ProjectStatus = ProjectStatus.ACTIVE,
    ) -> Project:
        cls._counter += 1

        project = Project(
            slug = slug or f"test-project-{cls._counter}",
            language = language,
            title = title or f"Test Project {cls._counter}",
            description = description
            or f"Description for project {cls._counter}",
            tech_stack = tech_stack or ["Python",
                                        "FastAPI"],
            is_featured = is_featured,
            status = status,
        )
        session.add(project)
        await session.flush()
        await session.refresh(project)
        return project

    @classmethod
    def reset(cls) -> None:
        cls._counter = 0
```

---

## Class Documentation

### ProjectFactory Documentation

**Class Responsibility and Purpose:**
The `ProjectFactory` class serves as a factory for creating test projects, ensuring that each project has unique identifiers and default values when no specific parameters are provided. This is particularly useful during testing to avoid conflicts between different test cases.

**Public Interface (Key Methods):**
- **`create(session: AsyncSession, *, slug: str | None = None, language: Language = Language.ENGLISH, title: str | None = None, description: str | None = None, tech_stack: list[str] | None = None, is_featured: bool = False, status: ProjectStatus = ProjectStatus.ACTIVE) -> Project:`** - Asynchronously creates a new test project with optional parameters. If no values are provided, default values are used.
- **`reset() -> None:`** - Resets the internal counter to zero.

**Design Patterns Used:**
The `ProjectFactory` class implements the **Factory Method** pattern by providing a method (`create`) that returns an instance of the `Project` class. This ensures that the creation logic is encapsulated and can be easily extended or modified without affecting other parts of the codebase.

**How It Fits in the Architecture:**
The `ProjectFactory` class is part of the testing infrastructure, specifically designed to facilitate the creation of test projects within asynchronous database sessions. By providing a consistent way to generate test data, it enhances the reliability and maintainability of tests. The factory method approach ensures that each test can create its own unique project instances without interfering with others, making the testing process more robust.

---

*Generated by CodeWorm on 2026-02-18 22:01*
