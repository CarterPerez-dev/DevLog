# Settings

**Type:** Class Documentation
**Repository:** social-media-notes
**File:** backend/app/config.py
**Language:** python
**Lines:** 73-156
**Complexity:** 0.0

---

## Source Code

```python
class Settings(BaseSettings):
    """
    Application settings loaded from environment variables
    """
    model_config = SettingsConfigDict(
        env_file = _ENV_FILE,
        env_file_encoding = "utf-8",
        case_sensitive = False,
        extra = "ignore",
    )

    APP_NAME: str = "FastAPI Template"
    APP_VERSION: str = "1.0.0"
    APP_SUMMARY: str = "Developed CarterPerez-dev"
    APP_DESCRIPTION: str = "FastAPI async first boilerplate - JWT, Asyncdb, PostgreSQL"
    APP_CONTACT_NAME: str = "AngelaMos LLC"
    APP_CONTACT_EMAIL: str = "support@certgames.com"
    APP_LICENSE_NAME: str = "MIT"
    APP_LICENSE_URL: str = "https://github.com/CarterPerez-dev/fullstack-template/docs/templates/MIT"

    ENVIRONMENT: Environment = Environment.DEVELOPMENT
    DEBUG: bool = False

    HOST: str = "0.0.0.0"
    PORT: int = 8000
    RELOAD: bool = True

    DATABASE_URL: PostgresDsn
    DB_POOL_SIZE: int = Field(default = 20, ge = 5, le = 100)
    DB_MAX_OVERFLOW: int = Field(default = 10, ge = 0, le = 50)
    DB_POOL_TIMEOUT: int = Field(default = 30, ge = 10)
    DB_POOL_RECYCLE: int = Field(default = 1800, ge = 300)

    SECRET_KEY: SecretStr = Field(..., min_length = 32)
    JWT_ALGORITHM: Literal["HS256", "HS384", "HS512"] = "HS256"
    ACCESS_TOKEN_EXPIRE_MINUTES: int = Field(default = 15, ge = 5, le = 60)
    REFRESH_TOKEN_EXPIRE_DAYS: int = Field(default = 7, ge = 1, le = 30)

    ADMIN_EMAIL: EmailStr | None = None

    REDIS_URL: RedisDsn | None = None

    CORS_ORIGINS: list[str] = [
        "http://localhost",
        "http://localhost:3423",
        "http://localhost:8423",
    ]
    CORS_ALLOW_CREDENTIALS: bool = True
    CORS_ALLOW_METHODS: list[str] = [
        "GET",
        "POST",
        "PUT",
        "PATCH",
        "DELETE",
        "OPTIONS"
    ]
    CORS_ALLOW_HEADERS: list[str] = ["*"]

    RATE_LIMIT_DEFAULT: str = "100/minute"
    RATE_LIMIT_AUTH: str = "20/minute"

    PAGINATION_DEFAULT_SIZE: int = Field(default = 20, ge = 1, le = 100)
    PAGINATION_MAX_SIZE: int = Field(default = 100, ge = 1, le = 500)

    LOG_LEVEL: Literal["DEBUG",
                       "INFO",
                       "WARNING",
                       "ERROR",
                       "CRITICAL"] = "INFO"
    LOG_JSON_FORMAT: bool = True

    @model_validator(mode = "after")
    def validate_production_settings(self) -> "Settings":
        """
        Enforce security constraints in production environment.
        """
        if self.ENVIRONMENT == Environment.PRODUCTION:
            if self.DEBUG:
                raise ValueError("DEBUG must be False in production")
            if self.CORS_ORIGINS == ["*"]:
                raise ValueError(
                    "CORS_ORIGINS cannot be ['*'] in production"
                )
        return self
```

---

## Class Documentation

### Class Documentation: `Settings`

#### Purpose and Responsibility
The `Settings` class is responsible for loading application settings from environment variables, ensuring that these settings are validated according to specific constraints. This class primarily focuses on configuration management, providing a centralized point for accessing various parameters required by the application.

#### Public Interface
- **Attributes**: 
  - `APP_NAME`, `APP_VERSION`, `APP_SUMMARY`, etc.: Application metadata.
  - `ENVIRONMENT`: Current environment (e.g., DEVELOPMENT, PRODUCTION).
  - `HOST`, `PORT`, `RELOAD`: Server configuration.
  - `DATABASE_URL`, `DB_POOL_SIZE`, `SECRET_KEY`: Database and security settings.
  - `REDIS_URL`: Redis connection URL.
  - `CORS_ORIGINS`, `CORS_ALLOW_METHODS`, `CORS_ALLOW_HEADERS`: Cross-Origin Resource Sharing (CORS) configurations.
  - `RATE_LIMIT_DEFAULT`, `PAGINATION_DEFAULT_SIZE`: Rate limiting and pagination parameters.
  - `LOG_LEVEL`, `LOG_JSON_FORMAT`: Logging settings.

- **Methods**:
  - `validate_production_settings()`: Ensures that certain constraints are met in the production environment, such as disabling debug mode and restricting CORS origins.

#### Design Patterns
The class leverages several design patterns:
- **Factory Pattern**: Implicitly through the use of `SettingsConfigDict` for configuration.
- **Validation Pattern**: The `@model_validator(mode="after")` decorator ensures that certain constraints are enforced during object instantiation, particularly in production environments.

#### Relationship to Other Classes
This class is a core component of the application's configuration layer. It interacts with other classes and modules by providing necessary settings, which can be accessed via dependency injection or directly through the `Settings` instance. The `validate_production_settings()` method ensures that critical security constraints are met in production, preventing potential vulnerabilities.

#### State Management
The class manages state through environment variables, ensuring that configuration is dynamic and can be easily adjusted without modifying code. This approach supports a flexible and maintainable application architecture.

---

*Generated by CodeWorm on 2026-02-19 10:55*
