# BlogFactory

**Type:** Class Documentation
**Repository:** my-portfolio
**File:** v1/backend/conftest.py
**Language:** python
**Lines:** 410-448
**Complexity:** 0.0

---

## Source Code

```python
class BlogFactory:
    """
    Factory for creating test blogs
    """
    _counter = 0

    @classmethod
    async def create(
        cls,
        session: AsyncSession,
        *,
        language: Language = Language.ENGLISH,
        title: str | None = None,
        description: str | None = None,
        external_url: str | None = None,
        category: BlogCategory = BlogCategory.TUTORIAL,
        is_visible: bool = True,
        is_featured: bool = False,
    ) -> Blog:
        cls._counter += 1

        blog = Blog(
            language = language,
            title = title or f"Test Blog {cls._counter}",
            description = description or f"Blog description {cls._counter}",
            external_url = external_url
            or f"https://blog.test.com/post-{cls._counter}",
            category = category,
            is_visible = is_visible,
            is_featured = is_featured,
        )
        session.add(blog)
        await session.flush()
        await session.refresh(blog)
        return blog

    @classmethod
    def reset(cls) -> None:
        cls._counter = 0
```

---

## Class Documentation

### BlogFactory Documentation

**Class Responsibility and Purpose:**
The `BlogFactory` class is a factory for creating test blogs, primarily used in testing scenarios to generate consistent blog objects with predefined attributes.

**Public Interface (Key Methods):**
- **`create(session: AsyncSession, *, language: Language = Language.ENGLISH, title: str | None = None, description: str | None = None, external_url: str | None = None, category: BlogCategory = BlogCategory.TUTORIAL, is_visible: bool = True, is_featured: bool = False) -> Blog:`** 
  - Asynchronously creates a new blog instance with optional custom attributes. If no title or description is provided, default values are generated based on the counter.
- **`reset() -> None:`**
  - Resets the internal counter used for generating unique blog titles and descriptions.

**Design Patterns Used:**
The `BlogFactory` class employs the **Factory Method** design pattern to encapsulate the creation logic of test blogs. This ensures that the instantiation process is flexible, allowing for customized attributes while maintaining a consistent structure.

**How It Fits in the Architecture:**
In the context of the `/home/yoshi/dev/CURRENT/portfolio/v1/backend/conftest.py` file within the `my-portfolio` repository, `BlogFactory` serves as a utility class to facilitate test setup. By providing a standardized way to create blog instances, it simplifies testing by ensuring that each test case starts with a clean and predictable state. This approach enhances the maintainability and reliability of tests, making them more robust and easier to understand.

---

*Generated by CodeWorm on 2026-02-18 22:10*
