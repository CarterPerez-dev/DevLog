# PasswordChangeRequest

**Type:** Class Documentation
**Repository:** vuemantics
**File:** backend/schemas/user.py
**Language:** python
**Lines:** 100-135
**Complexity:** 0.0

---

## Source Code

```python
class PasswordChangeRequest(BaseModel):
    """
    Password change request
    """
    model_config = ConfigDict(
        extra = "forbid",
        str_strip_whitespace = True,
    )

    current_password: str = Field(
        description = "Current password",
        min_length = 1
    )
    new_password: str = Field(
        description = "New password",
        min_length = MIN_PASSWORD_LENGTH,
        max_length = MAX_PASSWORD_LENGTH
    )

    @field_validator("new_password")
    @classmethod
    def validate_new_password(cls, v: str, info: ValidationInfo) -> str:
        """
        Validate new password using centralized validation logic.
        """
        is_valid, error_msg = validate_password_strength(v)
        if not is_valid:
            raise ValueError(error_msg)

        if "current_password" in info.data and v == info.data[
                "current_password"]:
            raise ValueError(
                "New password must be different from current password"
            )

        return v
```

---

## Class Documentation

### PasswordChangeRequest Class Documentation

**Class Responsibility and Purpose:**
The `PasswordChangeRequest` class is responsible for validating and storing data related to a password change request. It ensures that the new password meets specified criteria, such as length constraints and strength validation, while also ensuring it differs from the current password.

**Public Interface (Key Methods):**
- **Fields:**
  - `current_password`: The user's existing password.
  - `new_password`: The proposed new password.
  
- **Field Validator Method:**
  - `validate_new_password(cls, v: str, info: ValidationInfo) -> str`: Validates the new password using centralized validation logic and ensures it is different from the current password.

**Design Patterns Used:**
The class utilizes Pydantic's `field_validator` decorator to implement a custom validation method (`validate_new_password`). This approach leverages Pythonâ€™s data validation capabilities without needing external libraries, adhering to the **Dataclass Pattern** for structured data handling. No explicit design patterns like Factory or Observer are used in this class.

**Relationship to Other Classes:**
This class is part of the `schemas/user.py` file within the `vuemantics` repository and is likely used by a user management service to process password change requests. It interacts with other classes responsible for user authentication and authorization, ensuring that only valid changes are processed.

**State Management Approach:**
The class uses Pydantic's configuration options (`model_config`) to enforce strict data validation rules, such as forbidding extra fields and stripping whitespace from input strings. This ensures consistent state management by validating all incoming data against predefined constraints before processing.

---

*Generated by CodeWorm on 2026-02-19 07:14*
