# SoftDeleteMixin

**Type:** Class Documentation
**Repository:** fullstack-template
**File:** stacks/fastapi-react/backend/app/core/Base.py
**Language:** python
**Lines:** 68-84
**Complexity:** 0.0

---

## Source Code

```python
class SoftDeleteMixin:
    """
    Mixin for soft delete functionality
    """
    deleted_at: Mapped[datetime | None] = mapped_column(
        DateTime(timezone = True),
        default = None,
    )
    is_deleted: Mapped[bool] = mapped_column(default = False)

    def soft_delete(self) -> None:
        self.is_deleted = True
        self.deleted_at = datetime.now(UTC)

    def restore(self) -> None:
        self.is_deleted = False
        self.deleted_at = None
```

---

## Class Documentation

### SoftDeleteMixin Class Documentation

**Class Responsibility and Purpose:**
The `SoftDeleteMixin` class is a mixin designed to provide soft delete functionality to any model that inherits from it. This approach allows entities to be logically deleted without actually removing them from the database, which can be useful for compliance or data retention purposes.

**Public Interface (Key Methods):**
- **`soft_delete(self) -> None`:** Marks an entity as deleted by setting `is_deleted` to `True` and recording the current UTC time in `deleted_at`.
- **`restore(self) -> None`:** Restores a logically deleted entity by setting `is_deleted` back to `False` and clearing the `deleted_at` timestamp.

**Design Patterns Used:**
The class employs the **Mixin Design Pattern**, which allows it to be mixed into other classes without needing to inherit from it directly. This pattern is particularly useful for adding functionality (like soft delete) to multiple classes without code duplication.

**How It Fits in the Architecture:**
In the context of `/home/yoshi/dev/templates/stacks/fastapi-react/backend/app/core/Base.py`, `SoftDeleteMixin` is likely used by base models or entities. This ensures that any model inheriting from it can implement soft delete functionality, promoting a consistent approach across the application. The use of SQLAlchemy's `mapped_column` indicates integration with an ORM, allowing for seamless database interactions and state management.

---

*Generated by CodeWorm on 2026-02-18 16:03*
