# Partner

**Type:** Class Documentation
**Repository:** ios-test
**File:** fastapi/app/partner/Partner.py
**Language:** python
**Lines:** 24-98
**Complexity:** 0.0

---

## Source Code

```python
class Partner(Base, UUIDMixin, TimestampMixin):
    """
    Partner profile for cycle tracking
    """
    __tablename__ = "partners"

    user_id: Mapped[UUID] = mapped_column(
        ForeignKey("users.id", ondelete = "CASCADE"),
        unique = True,
        index = True,
    )

    name: Mapped[str] = mapped_column(String(50))

    average_cycle_length: Mapped[int] = mapped_column(
        Integer,
        default = 28,
    )

    average_period_length: Mapped[int] = mapped_column(
        Integer,
        default = 5,
    )

    cycle_regularity: Mapped[CycleRegularity] = mapped_column(
        SafeEnum(CycleRegularity),
        default = CycleRegularity.REGULAR,
    )

    last_period_start: Mapped[date | None] = mapped_column(
        Date,
        default = None,
    )

    notification_period_reminder: Mapped[bool] = mapped_column(
        Boolean,
        default = True,
    )

    notification_pms_alert: Mapped[bool] = mapped_column(
        Boolean,
        default = True,
    )

    notification_ovulation_alert: Mapped[bool] = mapped_column(
        Boolean,
        default = False,
    )

    reminder_days_before: Mapped[int] = mapped_column(
        Integer,
        default = 3,
    )

    timezone: Mapped[str] = mapped_column(
        String(50),
        default = "UTC",
    )

    user: Mapped["User"] = relationship(
        back_populates = "partner",
        lazy = "raise",
    )

    period_logs: Mapped[list["PeriodLog"]] = relationship(
        back_populates = "partner",
        cascade = "all, delete-orphan",
        lazy = "raise",
    )

    daily_logs: Mapped[list["DailyLog"]] = relationship(
        back_populates = "partner",
        cascade = "all, delete-orphan",
        lazy = "raise",
    )
```

---

## Class Documentation

### Partner Class Documentation

**Class Responsibility and Purpose:**
The `Partner` class represents a user's partner profile within the cycle tracking application. It stores essential information such as the partner's name, cycle details, notification preferences, and logs related to their cycles.

**Public Interface (Key Methods):**
- No public methods are defined in this class. The key attributes define the data model for a partner profile.
- Relationships with `User`, `PeriodLog`, and `DailyLog` classes are established through SQLAlchemy relationships.

**Design Patterns Used:**
- **MVC (Model View Controller) Pattern:** The `Partner` class acts as part of the Model layer, handling data storage and retrieval.
- **ORM (Object-Relational Mapping):** Utilizes SQLAlchemy ORM to map Python objects to database tables.

**How It Fits in the Architecture:**
The `Partner` class is a core component of the application's data model. It interacts with other models like `User`, `PeriodLog`, and `DailyLog` through relationships, enabling complex queries and data manipulation. The class adheres to the Single Responsibility Principle by focusing solely on representing partner profiles in the database.

This class is part of the `/home/yoshi/dev/ios-test/fastapi/app/partner/Partner.py` file within the `ios-test` repository, contributing to the overall structure and functionality of the application's cycle tracking features.

---

*Generated by CodeWorm on 2026-02-19 09:38*
