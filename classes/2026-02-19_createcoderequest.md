# CreateCodeRequest

**Type:** Class Documentation
**Repository:** stripe-referral
**File:** src/stripe_referral/schemas/referral.py
**Language:** python
**Lines:** 20-41
**Complexity:** 0.0

---

## Source Code

```python
class CreateCodeRequest(BaseModel):
    """
    Request schema for creating referral code
    """
    user_id: str = Field(
        ...,
        min_length = 1,
        max_length = MAX_USER_ID_LENGTH
    )
    program_key: str = Field(
        ...,
        min_length = 1,
        max_length = MAX_PROGRAM_KEY_LENGTH
    )

    @field_validator("user_id", "program_key")
    @classmethod
    def validate_no_whitespace(cls, v: str) -> str:
        """
        Ensure no leading/trailing whitespace
        """
        return v.strip()
```

---

## Class Documentation

### Documenting `CreateCodeRequest`

**Class Responsibility and Purpose:**
The `CreateCodeRequest` class is a Pydantic model designed to validate and structure requests for creating referral codes. It enforces specific constraints on user ID and program key fields, ensuring they meet length requirements and do not contain leading or trailing whitespace.

**Public Interface (Key Methods):**
- **Fields:**
  - `user_id`: A required string field with a minimum length of 1 character and a maximum length defined by `MAX_USER_ID_LENGTH`.
  - `program_key`: A required string field with a minimum length of 1 character and a maximum length defined by `MAX_PROGRAM_KEY_LENGTH`.

- **Field Validator:**
  - `validate_no_whitespace`: A class method that strips leading and trailing whitespace from the `user_id` and `program_key` fields. This ensures data integrity before validation.

**Design Patterns Used:**
The class leverages Pydantic's field validators to enforce business rules, which is a common pattern for input validation in Python applications. No explicit design patterns like Factory or Observer are used here; instead, the focus is on ensuring that the request data meets specific criteria.

**How It Fits in the Architecture:**
`CreateCodeRequest` plays a crucial role in the architecture by providing a standardized way to handle and validate incoming requests for creating referral codes. By enforcing strict validation rules at the schema level, it ensures that only valid data reaches downstream components such as service handlers or database operations. This helps maintain data integrity and simplifies error handling throughout the application.

---

*Generated by CodeWorm on 2026-02-19 00:00*
