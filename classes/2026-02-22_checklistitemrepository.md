# ChecklistItemRepository

**Type:** Class Documentation
**Repository:** angelamos-operations
**File:** CarterOS-Server/src/aspects/life_manager/facets/checklist/repository.py
**Language:** python
**Lines:** 18-51
**Complexity:** 0.0

---

## Source Code

```python
class ChecklistItemRepository(BaseRepository[ChecklistItem]):
    """
    Repository for ChecklistItem operations
    """
    model = ChecklistItem

    @classmethod
    async def get_active(
        cls,
        session: AsyncSession,
    ) -> Sequence[ChecklistItem]:
        """
        Get all active items ordered by sort_order
        """
        result = await session.execute(
            select(ChecklistItem).where(
                ChecklistItem.is_active == sa.true()
            ).order_by(ChecklistItem.sort_order)
        )
        return result.scalars().all()

    @classmethod
    async def soft_delete(
        cls,
        session: AsyncSession,
        item: ChecklistItem,
    ) -> ChecklistItem:
        """
        Set is_active=False instead of deleting
        """
        item.is_active = False
        await session.flush()
        await session.refresh(item)
        return item
```

---

## Class Documentation

### ChecklistItemRepository Documentation

**Class Responsibility and Purpose:**
The `ChecklistItemRepository` class is responsible for managing operations related to `ChecklistItem` entities within a database context. It provides methods to retrieve active checklist items and perform soft deletions, ensuring data integrity without physically removing records.

**Public Interface (Key Methods):**
- **`get_active(session: AsyncSession) -> Sequence[ChecklistItem]`:** Retrieves all active `ChecklistItem` instances ordered by their sort order.
- **`soft_delete(session: AsyncSession, item: ChecklistItem) -> ChecklistItem`:** Marks a specified `ChecklistItem` as inactive (soft delete) and updates the database session.

**Design Patterns Used:**
The class leverages the **Repository Pattern**, which encapsulates data access logic. It also uses **AsyncIO** for asynchronous operations, ensuring efficient handling of database interactions in an asynchronous context.

**How it Fits in the Architecture:**
`ChecklistItemRepository` acts as a central hub for `ChecklistItem` operations within the application's architecture. By providing a clear interface and leveraging async operations, it integrates seamlessly with other components that require access to checklist items, ensuring consistent and efficient data management throughout the system.

---

*Generated by CodeWorm on 2026-02-22 19:21*
