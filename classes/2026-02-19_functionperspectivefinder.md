# FunctionPerspectiveFinder

**Type:** Class Documentation
**Repository:** CodeWorm
**File:** codeworm/analysis/targets.py
**Language:** python
**Lines:** 585-621
**Complexity:** 0.0

---

## Source Code

```python
class FunctionPerspectiveFinder:
    """
    Reuses existing function candidates but assigns a different doc_type
    for alternative perspectives (security review, performance, TIL)
    """
    def __init__(self, analyzer: object) -> None:
        self.analyzer = analyzer

    def find(
        self,
        repo: RepoEntry,
        doc_type: DocType,
        limit: int = 20,
    ) -> list[DocumentationTarget]:
        candidates = self.analyzer.find_candidates(repo = repo, limit = limit)
        targets = []

        for candidate in candidates:
            snippet = candidate.snippet.model_copy()
            snippet.doc_type = doc_type

            targets.append(
                DocumentationTarget(
                    doc_type = doc_type,
                    snippet = snippet,
                    source_context = candidate.snippet.source,
                    metadata = {
                        "complexity": candidate.snippet.complexity,
                        "nesting_depth": candidate.snippet.nesting_depth,
                        "parameter_count": candidate.snippet.parameter_count,
                        "relative_path":
                        str(candidate.scanned_file.relative_path),
                    },
                )
            )

        return targets
```

---

## Class Documentation

### FunctionPerspectiveFinder

**Class Responsibility and Purpose:**
The `FunctionPerspectiveFinder` class is responsible for generating documentation targets by reusing existing function candidates but assigning a different `doc_type`. This allows creating alternative perspectives such as security reviews, performance analyses, or "TIL" (Today I Learned) notes.

**Public Interface:**
- **`__init__(self, analyzer: object)`**: Initializes the class with an `analyzer` instance.
- **`find(self, repo: RepoEntry, doc_type: DocType, limit: int = 20) -> list[DocumentationTarget]`**: Finds and returns a list of documentation targets based on the provided repository, document type, and optional limit.

**Design Patterns Used:**
The class does not explicitly use any design patterns but follows a straightforward approach. The `find` method iterates over candidates generated by an analyzer, modifies their `doc_type`, and constructs new `DocumentationTarget` instances.

**Relationship to Other Classes:**
- **Analyzer**: Uses the `analyzer` instance to find function candidates.
- **RepoEntry**: Represents the repository from which the code is analyzed.
- **DocType**: Specifies the type of documentation (e.g., security review, performance).
- **DocumentationTarget**: The output format for each target.

**State Management Approach:**
The class maintains state through its attributes and methods. It does not rely on complex state management but focuses on transforming input data into a structured output format suitable for various perspectives in code analysis.

---

*Generated by CodeWorm on 2026-02-19 14:42*
