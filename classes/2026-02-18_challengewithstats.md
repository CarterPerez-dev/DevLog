# ChallengeWithStats

**Type:** Class Documentation
**Repository:** angelamos-operations
**File:** CarterOS-Server/src/aspects/challenge/facets/tracker/schemas.py
**Language:** python
**Lines:** 122-149
**Complexity:** 0.0

---

## Source Code

```python
class ChallengeWithStats(ChallengeResponse):
    """
    Schema for challenge with aggregated stats
    """
    total_content: int = 0
    total_jobs: int = 0
    current_day: int = 1
    logs: list[LogResponse] = []

    @computed_field
    @property
    def content_percentage(self) -> float:
        """
        Calculate content completion percentage
        """
        if self.content_goal == 0:
            return 0.0
        return round((self.total_content / self.content_goal) * 100, 1)

    @computed_field
    @property
    def jobs_percentage(self) -> float:
        """
        Calculate jobs completion percentage
        """
        if self.jobs_goal == 0:
            return 0.0
        return round((self.total_jobs / self.jobs_goal) * 100, 1)
```

---

## Class Documentation

### ChallengeWithStats Class Documentation

**Class Responsibility and Purpose:**
The `ChallengeWithStats` class is designed to represent a challenge with aggregated statistics, including total content and jobs completed, current day, and logs. It extends the `ChallengeResponse` class, inheriting its properties and adding computed fields for percentage completion.

**Public Interface (Key Methods):**
- **`content_percentage`:** A computed property that calculates the percentage of content completed based on the total content and goal.
- **`jobs_percentage`:** A computed property that calculates the percentage of jobs completed based on the total jobs and goal.

**Design Patterns Used:**
The class utilizes Python's `@computed_field` decorator, which is a custom implementation to compute properties dynamically. This pattern helps in encapsulating complex calculations within the class without cluttering the interface with additional methods.

**How it Fits in the Architecture:**
This class plays a crucial role in tracking and presenting aggregated statistics for challenges. It integrates seamlessly into the broader architecture by providing essential metrics that can be used for reporting, analytics, or user feedback. The computed fields ensure that these metrics are always up-to-date without requiring additional method calls.

The `ChallengeWithStats` class is likely part of a larger system where multiple challenges and their respective statistics need to be managed and displayed. Its relationship with other classes such as `ChallengeResponse` ensures consistency in data representation across the application.

---

*Generated by CodeWorm on 2026-02-18 18:00*
