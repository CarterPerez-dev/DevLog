# ExperienceFactory

**Type:** Class Documentation
**Repository:** my-portfolio
**File:** v1/backend/conftest.py
**Language:** python
**Lines:** 319-363
**Complexity:** 0.0

---

## Source Code

```python
class ExperienceFactory:
    """
    Factory for creating test experiences
    """
    _counter = 0

    @classmethod
    async def create(
        cls,
        session: AsyncSession,
        *,
        language: Language = Language.ENGLISH,
        company: str | None = None,
        role: str | None = None,
        start_date: date | None = None,
        end_date: date | None = None,
        is_current: bool = False,
        description: str | None = None,
        employment_type: EmploymentType = EmploymentType.FULL_TIME,
        is_visible: bool = True,
    ) -> Experience:
        cls._counter += 1

        experience = Experience(
            language = language,
            company = company or f"Test Company {cls._counter}",
            role = role or f"Software Engineer {cls._counter}",
            start_date = start_date or date(2023,
                                            1,
                                            1),
            end_date = end_date,
            is_current = is_current,
            description = description
            or f"Experience description {cls._counter}",
            employment_type = employment_type,
            is_visible = is_visible,
        )
        session.add(experience)
        await session.flush()
        await session.refresh(experience)
        return experience

    @classmethod
    def reset(cls) -> None:
        cls._counter = 0
```

---

## Class Documentation

### ExperienceFactory Documentation

**Class Responsibility and Purpose**
The `ExperienceFactory` class is responsible for creating test experiences programmatically, ensuring consistency and ease of use during testing or development. It manages a counter to generate unique company and role names if not provided.

**Public Interface (Key Methods)**
- **`create(session: AsyncSession, ...)`**: Asynchronously creates an `Experience` object with optional parameters. This method is the primary interface for generating test data.
- **`reset()`**: Resets the internal counter used to generate unique experience identifiers.

**Design Patterns Used**
The class employs a **Factory Method** pattern by providing a static method (`create`) that encapsulates the creation logic of `Experience` objects. The use of type hints and asynchronous operations (via `AsyncSession`) adheres to Pythonic conventions, making it suitable for modern asynchronous development practices.

**How It Fits in the Architecture**
In the context of `/home/yoshi/dev/CURRENT/portfolio/v1/backend/conftest.py`, this factory class is likely used within test frameworks or setup routines. Its primary role is to simplify the creation and management of `Experience` objects, ensuring that tests can easily generate consistent yet varied data without manual intervention. This makes it an integral part of the testing infrastructure, facilitating more robust and reliable test scenarios.

---

*Generated by CodeWorm on 2026-02-18 21:57*
