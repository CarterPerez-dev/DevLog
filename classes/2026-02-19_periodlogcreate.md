# PeriodLogCreate

**Type:** Class Documentation
**Repository:** ios-test
**File:** fastapi/app/period_log/schemas.py
**Language:** python
**Lines:** 18-34
**Complexity:** 0.0

---

## Source Code

```python
class PeriodLogCreate(BaseSchema):
    """
    Schema for creating a period log entry
    """
    start_date: date
    end_date: date | None = None
    flow_intensity: FlowIntensity | None = None
    notes: str | None = Field(default = None, max_length = NOTES_MAX_LENGTH)

    @model_validator(mode = "after")
    def validate_dates(self) -> "PeriodLogCreate":
        """
        Ensure end_date is not before start_date
        """
        if self.end_date is not None and self.end_date < self.start_date:
            raise ValueError("end_date cannot be before start_date")
        return self
```

---

## Class Documentation

### PeriodLogCreate Documentation

**Class Responsibility and Purpose:**
The `PeriodLogCreate` class is a Pydantic schema designed to validate data for creating a period log entry. It ensures that the start and end dates, if provided, are logically consistent, with the end date not being before the start date.

**Public Interface:**
- **Attributes:**
  - `start_date`: A required `date` object representing the start of the period.
  - `end_date`: An optional `date` object representing the end of the period. If provided, it must be after or equal to `start_date`.
  - `flow_intensity`: An optional `FlowIntensity` enum value indicating the intensity of menstrual flow during the period.
  - `notes`: A string field with a maximum length defined by `NOTES_MAX_LENGTH`, representing additional notes about the period.

- **Methods:**
  - `validate_dates()`: A model validator that ensures the end date is not before the start date. Raises a `ValueError` if the validation fails.

**Design Patterns Used:**
The class utilizes Pydantic's `model_validator` decorator, specifically in "after" mode, to enforce constraints on the data after all fields have been set. This pattern helps maintain clean and consistent data throughout the application.

**Relationship to Other Classes:**
This schema is part of a broader system for managing period logs within an application. It interacts with other schemas and models that represent different aspects of period tracking, such as `FlowIntensity` and possibly `PeriodLog`. The `PeriodLogCreate` class ensures that new entries are valid before they are processed or stored.

**State Management Approach:**
The schema does not manage state directly but rather enforces constraints on the data passed to it. It relies on Pydantic's validation mechanisms to ensure that only valid data is used in further processing, such as database insertion or business logic execution.

---

*Generated by CodeWorm on 2026-02-19 10:37*
