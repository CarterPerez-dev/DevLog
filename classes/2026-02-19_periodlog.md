# PeriodLog

**Type:** Class Documentation
**Repository:** ios-test
**File:** fastapi/app/period_log/PeriodLog.py
**Language:** python
**Lines:** 34-78
**Complexity:** 0.0

---

## Source Code

```python
class PeriodLog(Base, UUIDMixin, TimestampMixin):
    """
    Period/menstrual cycle log entry
    """
    __tablename__ = "period_logs"
    __table_args__ = (
        UniqueConstraint("partner_id", "start_date", name = "uq_period_log_partner_start"),
    )

    partner_id: Mapped[UUID] = mapped_column(
        ForeignKey("partners.id", ondelete = "CASCADE"),
        index = True,
    )

    start_date: Mapped[date] = mapped_column(Date)

    end_date: Mapped[date | None] = mapped_column(
        Date,
        default = None,
    )

    cycle_length: Mapped[int | None] = mapped_column(
        Integer,
        default = None,
    )

    flow_intensity: Mapped[FlowIntensity | None] = mapped_column(
        SafeEnum(FlowIntensity),
        default = None,
    )

    is_predicted: Mapped[bool] = mapped_column(
        Boolean,
        default = False,
    )

    notes: Mapped[str | None] = mapped_column(
        Text,
        default = None,
    )

    partner: Mapped["Partner"] = relationship(
        back_populates = "period_logs",
        lazy = "raise",
    )
```

---

## Class Documentation

### PeriodLog Class Documentation

**Class Responsibility and Purpose:**
The `PeriodLog` class models a menstrual cycle log entry, capturing detailed information about each period for a user. It includes fields such as start date, end date, cycle length, flow intensity, predicted status, and notes.

**Public Interface (Key Methods):**
- No public methods are defined in the provided snippet. The class primarily serves as a data model with properties representing various attributes of a menstrual cycle log entry.

**Design Patterns Used:**
The `PeriodLog` class leverages several design patterns:
- **Table Data Gateway Pattern**: By inheriting from `Base`, `UUIDMixin`, and `TimestampMixin`, the class integrates database table management, UUID generation, and timestamp handling.
- **Relationship Management**: The use of a relationship with the `Partner` class through the `partner` property facilitates data association.

**How it Fits in the Architecture:**
In the application architecture, the `PeriodLog` class is part of the domain model layer. It interacts directly with the database via SQLAlchemy ORM to store and retrieve period log entries. The class ensures that each entry has a unique constraint based on partner ID and start date, maintaining data integrity. It also provides a structured way to represent menstrual cycle data, which can be used in various parts of the application, such as analytics or user interface components.

This class is crucial for managing menstrual health data, ensuring that all necessary details are captured and stored efficiently.

---

*Generated by CodeWorm on 2026-02-19 09:57*
