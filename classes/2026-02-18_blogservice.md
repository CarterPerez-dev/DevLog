# BlogService

**Type:** Class Documentation
**Repository:** my-portfolio
**File:** v1/backend/app/blog/service.py
**Language:** python
**Lines:** 24-108
**Complexity:** 0.0

---

## Source Code

```python
class BlogService:
    """
    Business logic for blog operations.
    """
    def __init__(self, session: AsyncSession) -> None:
        self.session = session

    async def get_by_id(self, blog_id: UUID) -> BlogResponse:
        """
        Get blog post by ID.
        """
        blog = await BlogRepository.get_by_id(self.session, blog_id)
        if not blog:
            raise BlogNotFound(str(blog_id))
        return BlogResponse.model_validate(blog)

    async def list_visible(
        self,
        language: Language,
        skip: int = config.PAGINATION_DEFAULT_SKIP,
        limit: int = config.PAGINATION_DEFAULT_LIMIT,
    ) -> BlogListResponse:
        """
        List visible blog posts for a language.
        """
        blogs = await BlogRepository.get_visible_by_language(
            self.session,
            language,
            skip,
            limit,
        )
        total = await BlogRepository.count_visible_by_language(
            self.session,
            language,
        )
        return BlogListResponse(
            items = [BlogResponse.model_validate(b) for b in blogs],
            total = total,
            skip = skip,
            limit = limit,
        )

    async def list_featured(
        self,
        language: Language,
        limit: int = config.PAGINATION_FEATURED_LIMIT,
    ) -> list[BlogResponse]:
        """
        List featured blog posts for a language.
        Used for overview page highlights.
        """
        blogs = await BlogRepository.get_featured_by_language(
            self.session,
            language,
            limit,
        )
        return [BlogResponse.model_validate(b) for b in blogs]

    async def list_by_category(
        self,
        category: BlogCategory,
        language: Language,
    ) -> list[BlogResponse]:
        """
        List blog posts by category and language.
        """
        blogs = await BlogRepository.get_by_category_and_language(
            self.session,
            category,
            language,
        )
        return [BlogResponse.model_validate(b) for b in blogs]

    async def get_nav_items(
        self,
        language: Language,
    ) -> list[BlogBriefResponse]:
        """
        Get brief blog data for sidebar navigation.
        """
        blogs = await BlogRepository.get_visible_by_language(
            self.session,
            language,
        )
        return [BlogBriefResponse.model_validate(b) for b in blogs]
```

---

## Class Documentation

### BlogService Documentation

**Class Responsibility and Purpose:**
The `BlogService` class encapsulates business logic for managing blog operations, including fetching individual posts, listing visible and featured blogs by language or category, and generating navigation items.

**Public Interface (Key Methods):**
- `get_by_id(blog_id)`: Retrieves a specific blog post by its ID.
- `list_visible(language, skip=0, limit=config.PAGINATION_DEFAULT_LIMIT)`: Lists visible blog posts for a given language with pagination support.
- `list_featured(language, limit=config.PAGINATION_FEATURED_LIMIT)`: Lists featured blog posts for a given language, used for highlighting on the overview page.
- `list_by_category(category, language)`: Lists blog posts by category and language.
- `get_nav_items(language)`: Generates brief blog data for sidebar navigation.

**Design Patterns Used:**
The class leverages the **Repository Pattern** through its interaction with `BlogRepository` to abstract database operations. This promotes separation of concerns and makes the service layer more testable.

**How It Fits in the Architecture:**
`BlogService` acts as a central hub for blog-related business logic, interacting with the repository layer to fetch data. It provides a clean interface for other components such as controllers or views to interact with blog posts without needing to handle database operations directly. This design ensures that the service layer remains focused on its responsibilities while maintaining loose coupling and high cohesion.

---

*Generated by CodeWorm on 2026-02-18 20:36*
