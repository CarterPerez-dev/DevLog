# ExperienceService

**Type:** Class Documentation
**Repository:** my-portfolio
**File:** v1/backend/app/experience/service.py
**Language:** python
**Lines:** 21-90
**Complexity:** 0.0

---

## Source Code

```python
class ExperienceService:
    """
    Business logic for experience operations.
    """
    def __init__(self, session: AsyncSession) -> None:
        self.session = session

    async def get_by_id(self, experience_id: UUID) -> ExperienceResponse:
        """
        Get experience by ID.
        """
        experience = await ExperienceRepository.get_by_id(
            self.session,
            experience_id,
        )
        if not experience:
            raise ExperienceNotFound(str(experience_id))
        return ExperienceResponse.model_validate(experience)

    async def list_visible(
        self,
        language: Language,
        skip: int = config.PAGINATION_DEFAULT_SKIP,
        limit: int = config.PAGINATION_DEFAULT_LIMIT,
    ) -> ExperienceListResponse:
        """
        List visible experiences for a language.
        """
        experiences = await ExperienceRepository.get_visible_by_language(
            self.session,
            language,
            skip,
            limit,
        )
        total = await ExperienceRepository.count_visible_by_language(
            self.session,
            language,
        )
        return ExperienceListResponse(
            items = [ExperienceResponse.model_validate(e) for e in experiences],
            total = total,
            skip = skip,
            limit = limit,
        )

    async def list_current(
        self,
        language: Language,
    ) -> list[ExperienceResponse]:
        """
        List current (ongoing) positions for a language.
        """
        experiences = await ExperienceRepository.get_current_by_language(
            self.session,
            language,
        )
        return [ExperienceResponse.model_validate(e) for e in experiences]

    async def get_timeline(
        self,
        language: Language,
    ) -> list[ExperienceBriefResponse]:
        """
        Get brief experience data for timeline display.
        """
        experiences = await ExperienceRepository.get_visible_by_language(
            self.session,
            language,
        )
        return [ExperienceBriefResponse.model_validate(e) for e in experiences]
```

---

## Class Documentation

### ExperienceService

**Class Responsibility and Purpose:**
The `ExperienceService` class handles business logic for managing experiences, including fetching single or multiple experiences based on various criteria such as ID, language, visibility status, and timeline display.

**Public Interface (Key Methods):**
- `get_by_id(experience_id: UUID) -> ExperienceResponse`: Retrieves a specific experience by its unique identifier.
- `list_visible(language: Language, skip: int = config.PAGINATION_DEFAULT_SKIP, limit: int = config.PAGINATION_DEFAULT_LIMIT) -> ExperienceListResponse`: Lists visible experiences for a given language with pagination support.
- `list_current(language: Language) -> list[ExperienceResponse]`: Lists current (ongoing) positions for a specific language.
- `get_timeline(language: Language) -> list[ExperienceBriefResponse]`: Fetches brief experience data suitable for timeline display.

**Design Patterns Used:**
The class utilizes the **Repository Pattern**, where methods delegate database operations to an `ExperienceRepository` instance. This pattern helps in separating business logic from data access, promoting loose coupling and testability.

**How it Fits in the Architecture:**
`ExperienceService` acts as a service layer that sits between the repository and the application's use cases. It ensures that all interactions with the database are managed through well-defined methods, enhancing maintainability and scalability. The class adheres to the Single Responsibility Principle by focusing solely on experience-related operations, making it easier to extend or modify specific functionalities without affecting others.

---

*Generated by CodeWorm on 2026-02-18 20:39*
