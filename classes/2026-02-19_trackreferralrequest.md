# TrackReferralRequest

**Type:** Class Documentation
**Repository:** stripe-referral
**File:** src/stripe_referral/schemas/referral.py
**Language:** python
**Lines:** 54-76
**Complexity:** 0.0

---

## Source Code

```python
class TrackReferralRequest(BaseModel):
    """
    Request schema for tracking referral conversion
    """
    code: str = Field(..., min_length = 1, max_length = MAX_CODE_LENGTH)
    referred_user_id: str = Field(
        ...,
        min_length = 1,
        max_length = MAX_USER_ID_LENGTH
    )
    transaction_id: str | None = Field(
        None,
        max_length = MAX_TRANSACTION_ID_LENGTH
    )
    transaction_amount: float | None = Field(None, ge = MIN_PAYOUT_AMOUNT)

    @field_validator("code", "referred_user_id")
    @classmethod
    def validate_no_whitespace(cls, v: str) -> str:
        """
        Ensure no leading/trailing whitespace
        """
        return v.strip()
```

---

## Class Documentation

### TrackReferralRequest Class Documentation

**Class Responsibility and Purpose:**
The `TrackReferralRequest` class is a data model for validating and representing referral tracking requests in the `stripe-referral` application. It ensures that all necessary fields are correctly formatted and validated, particularly focusing on ensuring no leading or trailing whitespace in certain fields.

**Public Interface (Key Methods):**
- **Fields:**
  - `code`: A string representing a unique referral code.
  - `referred_user_id`: A string uniquely identifying the referred user.
  - `transaction_id`: An optional string for tracking transaction IDs associated with the referral.
  - `transaction_amount`: An optional float representing the amount of the transaction, constrained to be greater than or equal to a minimum value.

**Design Patterns Used:**
- **Field Validators:** The class uses Pydantic's field validators (`@field_validator`) to enforce constraints on specific fields. This pattern ensures data integrity by validating input at the model level before it reaches further processing layers.

**How It Fits in the Architecture:**
`TrackReferralRequest` is part of the schema validation layer, ensuring that incoming requests are correctly formatted and valid before they are processed by higher-level business logic or storage mechanisms. Its relationship with other classes (such as `BaseModel`) supports a clean separation of concerns, where data validation is handled independently from business logic execution.

---

*Generated by CodeWorm on 2026-02-19 00:00*
