# CodeWormSettings

**Type:** Class Documentation
**Repository:** CodeWorm
**File:** codeworm/core/config.py
**Language:** python
**Lines:** 183-226
**Complexity:** 0.0

---

## Source Code

```python
class CodeWormSettings(BaseSettings):
    """
    Main application settings
    Loads from YAML config files with env var overrides
    """
    model_config = SettingsConfigDict(
        env_prefix = "CODEWORM_",
        env_nested_delimiter = "__",
        env_file = ".env",
        env_file_encoding = "utf-8",
        extra = "ignore",
    )

    debug: bool = False
    data_dir: Path = Path("data")
    config_dir: Path = DEFAULT_CONFIG_DIR
    devlog: DevLogSettings
    ollama: OllamaSettings = Field(default_factory = OllamaSettings)
    schedule: ScheduleSettings = Field(default_factory = ScheduleSettings)
    analyzer: AnalyzerSettings = Field(default_factory = AnalyzerSettings)
    documentation: DocumentationSettings = Field(
        default_factory = DocumentationSettings
    )
    dashboard: DashboardSettings = Field(default_factory = DashboardSettings)
    repos: list[RepoEntry] = Field(default_factory = list)
    prompts: PromptSettings = Field(default_factory = PromptSettings)
    github_token: SecretStr | None = None

    @field_validator("data_dir", "config_dir", mode = "before")
    @classmethod
    def expand_path(cls, v: Any) -> Path:
        """
        Expand ~ and environment variables in path
        """
        if isinstance(v, str):
            return Path(os.path.expandvars(v)).expanduser()
        return v

    @property
    def db_path(self) -> Path:
        """
        Path to the SQLite database
        """
        return self.data_dir / "codeworm.db"
```

---

## Class Documentation

### Class Documentation: `CodeWormSettings`

**Class Responsibility and Purpose:**
The `CodeWormSettings` class serves as the primary configuration manager for the CodeWorm application. It loads settings from YAML files, environment variables, and `.env` files, providing a flexible and robust way to manage application configurations.

**Public Interface (Key Methods):**
- **Field Validators:** The `expand_path` method ensures that paths are correctly expanded with user home directories and environment variables.
- **Properties:** The `db_path` property returns the path to the SQLite database file within the data directory.

**Design Patterns Used:**
- **Factory Method Pattern:** Utilized through the use of `Field(default_factory=...)` for initializing settings objects like `OllamaSettings`, `ScheduleSettings`, etc.
- **Builder Pattern:** Implicitly used by leveraging Pydantic's `BaseSettings` and `SettingsConfigDict`.

**Relationship to Other Classes:**
This class is central to the application’s configuration management. It interacts with various other settings classes (e.g., `DevLogSettings`, `OllamaSettings`) to provide a comprehensive set of configurations. The settings are loaded at runtime, ensuring that the application can adapt to different environments and configurations.

**State Management Approach:**
`CodeWormSettings` uses Pydantic's `BaseSettings` for state management, allowing it to load configuration from multiple sources (YAML files, environment variables) with fallbacks and overrides. The class ensures that paths are correctly resolved using the `expand_path` method, making it easier to manage file locations across different environments.

This class is a crucial component in setting up the application’s environment, ensuring that all necessary configurations are loaded and available for use throughout the application.

---

*Generated by CodeWorm on 2026-02-19 14:33*
