# CodeWormSettings

**Type:** Class Documentation
**Repository:** CodeWorm
**File:** codeworm/core/config.py
**Language:** python
**Lines:** 195-239
**Complexity:** 0.0

---

## Source Code

```python
class CodeWormSettings(BaseSettings):
    """
    Main application settings
    Loads from YAML config files with env var overrides
    """
    model_config = SettingsConfigDict(
        env_prefix = "CODEWORM_",
        env_nested_delimiter = "__",
        env_file = ".env",
        env_file_encoding = "utf-8",
        extra = "ignore",
    )

    debug: bool = False
    data_dir: Path = Path("data")
    config_dir: Path = DEFAULT_CONFIG_DIR
    devlog: DevLogSettings
    ollama: OllamaSettings = Field(default_factory = OllamaSettings)
    schedule: ScheduleSettings = Field(default_factory = ScheduleSettings)
    analyzer: AnalyzerSettings = Field(default_factory = AnalyzerSettings)
    documentation: DocumentationSettings = Field(
        default_factory = DocumentationSettings
    )
    dashboard: DashboardSettings = Field(default_factory = DashboardSettings)
    telegram: TelegramSettings = Field(default_factory = TelegramSettings)
    repos: list[RepoEntry] = Field(default_factory = list)
    prompts: PromptSettings = Field(default_factory = PromptSettings)
    github_token: SecretStr | None = None

    @field_validator("data_dir", "config_dir", mode = "before")
    @classmethod
    def expand_path(cls, v: Any) -> Path:
        """
        Expand ~ and environment variables in path
        """
        if isinstance(v, str):
            return Path(os.path.expandvars(v)).expanduser()
        return v

    @property
    def db_path(self) -> Path:
        """
        Path to the SQLite database
        """
        return self.data_dir / "codeworm.db"
```

---

## Class Documentation

### CodeWormSettings

**Responsibility and Purpose:**
The `CodeWormSettings` class is responsible for managing application settings, including environment variables, configuration files, and default values. It loads settings from YAML config files with optional overrides from environment variables.

**Public Interface (Key Methods):**
- **Field Validators:** The `expand_path` method ensures that paths are correctly expanded.
- **Properties:** The `db_path` property returns the path to the SQLite database file.

**Design Patterns Used:**
- **Factory Method Pattern:** Utilized through `default_factory` for creating default instances of nested settings classes.
- **Builder Pattern:** Implicitly used by leveraging Pydantic's `SettingsConfigDict` and `Field` for structured configuration.

**Relationship to Other Classes:**
This class serves as the central point for configuration in the CodeWorm application. It interacts with various settings classes like `DevLogSettings`, `OllamaSettings`, etc., which are nested within it. These nested settings classes manage specific aspects of the application's functionality, such as logging, API configurations, and scheduling.

**State Management Approach:**
The class uses Pydantic models for state management, ensuring that all configuration values are validated against defined schemas. The `model_config` attribute configures how environment variables are loaded and processed, providing a flexible way to manage settings across different environments.

---

*Generated by CodeWorm on 2026-02-28 18:54*
