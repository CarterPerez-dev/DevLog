# ChallengeWithStats

**Type:** Class Documentation
**Repository:** angelamos-operations
**File:** CarterOS-Server/src/aspects/challenge/facets/tracker/schemas.py
**Language:** python
**Lines:** 116-143
**Complexity:** 0.0

---

## Source Code

```python
class ChallengeWithStats(ChallengeResponse):
    """
    Schema for challenge with aggregated stats
    """
    total_content: int = 0
    total_jobs: int = 0
    current_day: int = 1
    logs: list[LogResponse] = Field(default_factory = list)

    @computed_field
    @property
    def content_percentage(self) -> float:
        """
        Calculate content completion percentage
        """
        if self.content_goal == 0:
            return 0.0
        return round((self.total_content / self.content_goal) * 100, 1)

    @computed_field
    @property
    def jobs_percentage(self) -> float:
        """
        Calculate jobs completion percentage
        """
        if self.jobs_goal == 0:
            return 0.0
        return round((self.total_jobs / self.jobs_goal) * 100, 1)
```

---

## Class Documentation

### ChallengeWithStats Documentation

**Class Responsibility and Purpose:**
The `ChallengeWithStats` class is designed to encapsulate a challenge's aggregated statistics, such as total content and jobs completed, along with their respective completion percentages. This class extends the functionality of `ChallengeResponse`, providing computed fields for percentage calculations based on goal values.

**Public Interface (Key Methods):**
- **`content_percentage`:** A computed property that calculates the percentage of content completed relative to the goal.
- **`jobs_percentage`:** A computed property that calculates the percentage of jobs completed relative to the goal.

**Design Patterns Used:**
The class utilizes Python's `@computed_field` and `@property` decorators, which are effectively a form of computed properties. This pattern allows for lazy evaluation of these statistics without repeatedly recalculating them in every method call.

**How It Fits in the Architecture:**
In the context of the `angelamos-operations` repository, this class is part of the challenge tracking system. It aggregates and provides meaningful metrics for challenges, which can be used to monitor progress and performance. The computed fields ensure that these statistics are always up-to-date without unnecessary computation, enhancing the efficiency of the application.

This class interacts with other components such as `ChallengeResponse` and potentially logging mechanisms through its `logs` attribute, making it a crucial part of the challenge management system's data layer.

---

*Generated by CodeWorm on 2026-02-22 19:21*
