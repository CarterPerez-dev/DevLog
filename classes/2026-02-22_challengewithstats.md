# ChallengeWithStats

**Type:** Class Documentation
**Repository:** angelamos-operations
**File:** CarterOS-Server/src/aspects/challenge/facets/tracker/schemas.py
**Language:** python
**Lines:** 116-143
**Complexity:** 0.0

---

## Source Code

```python
class ChallengeWithStats(ChallengeResponse):
    """
    Schema for challenge with aggregated stats
    """
    total_content: int = 0
    total_jobs: int = 0
    current_day: int = 1
    logs: list[LogResponse] = Field(default_factory=list)

    @computed_field
    @property
    def content_percentage(self) -> float:
        """
        Calculate content completion percentage
        """
        if self.content_goal == 0:
            return 0.0
        return round((self.total_content / self.content_goal) * 100, 1)

    @computed_field
    @property
    def jobs_percentage(self) -> float:
        """
        Calculate jobs completion percentage
        """
        if self.jobs_goal == 0:
            return 0.0
        return round((self.total_jobs / self.jobs_goal) * 100, 1)
```

---

## Class Documentation

### Documenting `ChallengeWithStats`

**Class Responsibility and Purpose:**
The `ChallengeWithStats` class is designed to represent a challenge with aggregated statistics, including total content and job counts, current day, and logs. It extends from `ChallengeResponse`, providing additional statistical information about the challenge's progress.

**Public Interface (Key Methods):**
- **`content_percentage`:** A computed property that calculates the percentage of content completed based on the total content and goal.
- **`jobs_percentage`:** A computed property that calculates the percentage of jobs completed based on the total jobs and goal.

**Design Patterns Used:**
The class employs the **computed field** pattern, which is a Pythonic way to create properties whose values are derived from other attributes. This avoids recalculating statistics unnecessarily when the underlying data changes.

**How It Fits in the Architecture:**
`ChallengeWithStats` fits into the architecture by providing a structured representation of challenge metrics. It serves as a data model for tracking and displaying progress within challenges, likely used in dashboards or reports. The class is closely related to `ChallengeResponse`, indicating it extends its functionality with statistical insights.

This class is part of a broader system where multiple challenges are managed, and their statuses need to be monitored and reported accurately.

---

*Generated by CodeWorm on 2026-02-22 18:55*
