# Settings

**Type:** Class Documentation
**Repository:** my-portfolio
**File:** v1/backend/app/config.py
**Language:** python
**Lines:** 161-238
**Complexity:** 0.0

---

## Source Code

```python
class Settings(BaseSettings):
    """
    Application settings loaded from environment variables
    """
    model_config = SettingsConfigDict(
        env_file = _ENV_FILE,
        env_file_encoding = "utf-8",
        case_sensitive = False,
        extra = "ignore",
    )

    APP_NAME: str = "my portfolio"
    APP_VERSION: str = "1.0.0"
    APP_SUMMARY: str = "Developed by CarterPerez-dev"
    APP_DESCRIPTION: str = "FastAPI Portfolio - JWT, Asyncdb, PostgreSQL"
    APP_CONTACT_NAME: str = "AngelaMos LLC"
    APP_CONTACT_EMAIL: str = "support@certgames.com"
    APP_LICENSE_NAME: str = "MIT"
    APP_LICENSE_URL: str = "https://github.com/CarterPerez-dev/my-portfolio/MIT"

    ENVIRONMENT: Environment = Environment.DEVELOPMENT
    DEBUG: bool = False

    HOST: str = "0.0.0.0"
    PORT: int = 8000
    RELOAD: bool = True

    DATABASE_URL: PostgresDsn
    DB_POOL_SIZE: int = Field(default = 20, ge = 5, le = 100)
    DB_MAX_OVERFLOW: int = Field(default = 10, ge = 0, le = 50)
    DB_POOL_TIMEOUT: int = Field(default = 30, ge = 10)
    DB_POOL_RECYCLE: int = Field(default = 1800, ge = 300)

    SECRET_KEY: SecretStr = Field(..., min_length = 32)
    JWT_ALGORITHM: Literal["HS256", "HS384", "HS512"] = "HS256"
    ACCESS_TOKEN_EXPIRE_MINUTES: int = Field(default = 15, ge = 5, le = 60)
    REFRESH_TOKEN_EXPIRE_DAYS: int = Field(default = 7, ge = 1, le = 30)

    ADMIN_EMAIL: EmailStr | None = None

    REDIS_URL: RedisDsn | None = None

    CORS_ORIGINS: list[str] = [
        "http://localhost",
        "http://localhost:3421",
        "http://localhost:8421",
    ]
    CORS_ALLOW_CREDENTIALS: bool = True
    CORS_ALLOW_METHODS: list[str] = [
        "GET",
        "POST",
        "PUT",
        "PATCH",
        "DELETE",
        "OPTIONS"
    ]
    CORS_ALLOW_HEADERS: list[str] = ["*"]

    RATE_LIMIT_DEFAULT: str = "100/minute"
    RATE_LIMIT_AUTH: str = "20/minute"

    PAGINATION_DEFAULT_SIZE: int = Field(default = 20, ge = 1, le = 100)
    PAGINATION_MAX_SIZE: int = Field(default = 100, ge = 1, le = 500)

    LOG_LEVEL: Literal["DEBUG", "INFO", "WARNING", "ERROR", "CRITICAL"] = "INFO"
    LOG_JSON_FORMAT: bool = True

    @model_validator(mode = "after")
    def validate_production_settings(self) -> "Settings":
        """
        Enforce security constraints in production environment.
        """
        if self.ENVIRONMENT == Environment.PRODUCTION:
            if self.DEBUG:
                raise ValueError("DEBUG must be False in production")
            if self.CORS_ORIGINS == ["*"]:
                raise ValueError("CORS_ORIGINS cannot be ['*'] in production")
        return self
```

---

## Class Documentation

### Documenting `Settings` Class

#### Purpose and Responsibility
The `Settings` class is responsible for loading application settings from environment variables, ensuring that these configurations are secure and appropriate for different environments. It adheres to the **Singleton** pattern by inheriting from `BaseSettings`, which manages configuration loading and validation.

#### Public Interface
- **Attributes:**
  - `APP_NAME`, `APP_VERSION`, etc.: Application metadata.
  - `ENVIRONMENT`: Specifies the current environment (e.g., `DEVELOPMENT`, `PRODUCTION`).
  - `HOST`, `PORT`, `RELOAD`: Server configuration.
  - `DATABASE_URL`: Database connection string.
  - `SECRET_KEY`, `JWT_ALGORITHM`, etc.: Security settings for JWT and database connections.
  - `ADMIN_EMAIL`: Email address for administrative purposes.
  - `REDIS_URL`: Redis connection URL (optional).
  - `CORS_ORIGINS`, `CORS_ALLOW_METHODS`, `CORS_ALLOW_HEADERS`: Cross-Origin Resource Sharing configuration.
  - `RATE_LIMIT_DEFAULT`, `RATE_LIMIT_AUTH`: Rate limiting configurations.
  - `PAGINATION_DEFAULT_SIZE`, `PAGINATION_MAX_SIZE`: Pagination settings.
  - `LOG_LEVEL`, `LOG_JSON_FORMAT`: Logging configurations.

- **Methods:**
  - `validate_production_settings()`: Ensures that certain security constraints are met in the production environment.

#### Design Patterns
The class utilizes:
- **Factory Pattern**: Through inheritance from `BaseSettings`, which handles configuration loading.
- **Strategy Pattern**: Via the use of `Literal` for `JWT_ALGORITHM` and validation logic, allowing different strategies based on the environment.

#### Architecture Integration
The `Settings` class is a core component in the application's architecture. It provides essential configurations that are required by various parts of the system, such as the FastAPI server, database connections, JWT token handling, CORS policies, rate limiting, and logging. The settings are loaded at runtime from environment variables, ensuring flexibility and ease of configuration changes without modifying code.

By enforcing security constraints in production (e.g., disabling `DEBUG`), the class ensures that sensitive configurations are not exposed or misused. This makes it a crucial part of maintaining application integrity and performance across different environments.

---

*Generated by CodeWorm on 2026-02-18 21:40*
