# Settings

**Type:** Class Documentation
**Repository:** Cybersecurity-Projects
**File:** PROJECTS/intermediate/api-security-scanner/backend/config.py
**Language:** python
**Lines:** 10-86
**Complexity:** 0.0

---

## Source Code

```python
class Settings(BaseSettings):
    """
    Application settings loaded from environment variables

    All magic numbers and configuration values are defined here to avoid
    hardcoding throughout the application
    """
    model_config = SettingsConfigDict(
        env_file="../.env", env_file_encoding="utf-8", case_sensitive=True
    )

    # Application metadata
    APP_NAME: str = "API Security Tester"
    VERSION: str = "1.0.0"
    DEBUG: bool = False

    # Database configuration
    DATABASE_URL: str
    POSTGRES_USER: str = "apiuser"
    POSTGRES_PASSWORD: str = "apipass"
    POSTGRES_DB: str = "apisecurity"
    POSTGRES_HOST: str = "localhost"
    POSTGRES_PORT: int = 5432

    # Security - JWT
    SECRET_KEY: str
    ALGORITHM: str = "HS256"
    ACCESS_TOKEN_EXPIRE_MINUTES: int = 1440  # 24 hours

    # Backend server
    BACKEND_HOST: str = "0.0.0.0"
    BACKEND_PORT: int = 8000

    # CORS origins (comma-separated string)
    CORS_ORIGINS: str = "http://localhost:5173,http://localhost:3000"

    # Scanner configuration - Default values
    DEFAULT_MAX_REQUESTS: int = 100
    DEFAULT_TIMEOUT_SECONDS: int = 10
    DEFAULT_RETRY_COUNT: int = 3

    # Scanner rate limiting (outgoing requests)
    SCANNER_RATE_LIMIT_THRESHOLD: int = 100
    SCANNER_RATE_LIMIT_WINDOW_SECONDS: int = 60

    # API endpoint rate limiting (incoming requests - slowapi format)
    API_RATE_LIMIT_LOGIN: str = "20/minute"
    API_RATE_LIMIT_REGISTER: str = "15/minute"
    API_RATE_LIMIT_SCAN: str = "15/minute"
    API_RATE_LIMIT_DEFAULT: str = "100/minute"

    # Pagination
    DEFAULT_PAGINATION_LIMIT: int = 100
    MAX_PAGINATION_LIMIT: int = 1000

    # Field validation constants
    PASSWORD_MIN_LENGTH: int = 8
    PASSWORD_MAX_LENGTH: int = 100
    EMAIL_MAX_LENGTH: int = 255
    URL_MAX_LENGTH: int = 2048

    # Scanner timeouts and limits
    SCANNER_MAX_CONCURRENT_REQUESTS: int = 50
    SCANNER_CONNECTION_TIMEOUT: int = 180
    SCANNER_READ_TIMEOUT: int = 180

    # Scanner request spacing and timing
    DEFAULT_JITTER_MS: int = 100
    DEFAULT_RETRY_WAIT_SECONDS: int = 60
    DEFAULT_BASELINE_SAMPLES: int = 10

    @property
    def cors_origins_list(self) -> list[str]:
        """
        Convert comma separated CORS origins string to list
        """
        return [origin.strip() for origin in self.CORS_ORIGINS.split(",")]
```

---

## Class Documentation

### Documentation for `Settings` Class

**Class Responsibility and Purpose:**
The `Settings` class is responsible for loading application configuration from environment variables, ensuring that all critical settings such as database credentials, security parameters (JWT), backend server details, rate limits, and pagination are centrally managed. This approach helps maintain a clean separation of concerns and makes the code more modular and easier to manage.

**Public Interface:**
- `model_config`: Configuration for loading settings from an environment file.
- `APP_NAME`, `VERSION`, `DEBUG`: Application metadata.
- `DATABASE_URL`, `POSTGRES_*`: Database configuration.
- `SECRET_KEY`, `ALGORITHM`, `ACCESS_TOKEN_EXPIRE_MINUTES`: JWT security parameters.
- `BACKEND_HOST`, `BACKEND_PORT`: Backend server details.
- `CORS_ORIGINS`: Allowed CORS origins as a comma-separated string.
- `DEFAULT_MAX_REQUESTS`, `DEFAULT_TIMEOUT_SECONDS`, `DEFAULT_RETRY_COUNT`: Default scanner configuration values.
- `SCANNER_RATE_LIMIT_THRESHOLD`, `SCANNER_RATE_LIMIT_WINDOW_SECONDS`: Scanner rate limiting parameters.
- `API_RATE_LIMIT_*`: API endpoint rate limits.
- `DEFAULT_PAGINATION_LIMIT`, `MAX_PAGINATION_LIMIT`: Pagination settings.
- `PASSWORD_MIN_LENGTH`, `EMAIL_MAX_LENGTH`, `URL_MAX_LENGTH`: Field validation constants.
- `SCANNER_MAX_CONCURRENT_REQUESTS`, `SCANNER_CONNECTION_TIMEOUT`, `SCANNER_READ_TIMEOUT`: Scanner timeouts and limits.
- `DEFAULT_JITTER_MS`, `DEFAULT_RETRY_WAIT_SECONDS`, `DEFAULT_BASELINE_SAMPLES`: Scanner request spacing and timing.

**Design Patterns Used:**
The class leverages the **Singleton pattern** through the `BaseSettings` inheritance, ensuring that settings are loaded only once. It also uses a **property decorator** for converting the CORS origins string into a list, providing a clean interface to access this data.

**How it Fits in the Architecture:**
The `Settings` class acts as a central configuration hub, making it easy to manage and update application parameters without modifying the codebase directly. This design ensures that all parts of the application can reference these settings consistently, promoting a robust and maintainable architecture. The use of environment variables for configuration allows for flexibility in deployment across different environments (development, staging, production).

---

*Generated by CodeWorm on 2026-02-18 12:10*
