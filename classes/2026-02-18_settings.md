# Settings

**Type:** Class Documentation
**Repository:** fullstack-template
**File:** stacks/fastapi-react/backend/app/config.py
**Language:** python
**Lines:** 71-154
**Complexity:** 0.0

---

## Source Code

```python
class Settings(BaseSettings):
    """
    Application settings loaded from environment variables
    """
    model_config = SettingsConfigDict(
        env_file = _ENV_FILE,
        env_file_encoding = "utf-8",
        case_sensitive = False,
        extra = "ignore",
    )

    APP_NAME: str = "FastAPI Template"
    APP_VERSION: str = "1.0.0"
    APP_SUMMARY: str = "Developed CarterPerez-dev"
    APP_DESCRIPTION: str = "FastAPI async first boilerplate - JWT, Asyncdb, PostgreSQL"
    APP_CONTACT_NAME: str = "AngelaMos LLC"
    APP_CONTACT_EMAIL: str = "support@certgames.com"
    APP_LICENSE_NAME: str = "MIT"
    APP_LICENSE_URL: str = "https://github.com/CarterPerez-dev/fullstack-template/docs/templates/MIT"

    ENVIRONMENT: Environment = Environment.DEVELOPMENT
    DEBUG: bool = False

    HOST: str = "0.0.0.0"
    PORT: int = 8000
    RELOAD: bool = True

    DATABASE_URL: PostgresDsn
    DB_POOL_SIZE: int = Field(default = 20, ge = 5, le = 100)
    DB_MAX_OVERFLOW: int = Field(default = 10, ge = 0, le = 50)
    DB_POOL_TIMEOUT: int = Field(default = 30, ge = 10)
    DB_POOL_RECYCLE: int = Field(default = 1800, ge = 300)

    SECRET_KEY: SecretStr = Field(..., min_length = 32)
    JWT_ALGORITHM: Literal["HS256", "HS384", "HS512"] = "HS256"
    ACCESS_TOKEN_EXPIRE_MINUTES: int = Field(default = 15, ge = 5, le = 60)
    REFRESH_TOKEN_EXPIRE_DAYS: int = Field(default = 7, ge = 1, le = 30)

    ADMIN_EMAIL: EmailStr | None = None

    REDIS_URL: RedisDsn | None = None

    CORS_ORIGINS: list[str] = [
        "http://localhost",
        "http://localhost:8426",
        "http://localhost:9426",
    ]
    CORS_ALLOW_CREDENTIALS: bool = True
    CORS_ALLOW_METHODS: list[str] = [
        "GET",
        "POST",
        "PUT",
        "PATCH",
        "DELETE",
        "OPTIONS"
    ]
    CORS_ALLOW_HEADERS: list[str] = ["*"]

    RATE_LIMIT_DEFAULT: str = "100/minute"
    RATE_LIMIT_AUTH: str = "20/minute"

    PAGINATION_DEFAULT_SIZE: int = Field(default = 20, ge = 1, le = 100)
    PAGINATION_MAX_SIZE: int = Field(default = 100, ge = 1, le = 500)

    LOG_LEVEL: Literal["DEBUG",
                       "INFO",
                       "WARNING",
                       "ERROR",
                       "CRITICAL"] = "INFO"
    LOG_JSON_FORMAT: bool = True

    @model_validator(mode = "after")
    def validate_production_settings(self) -> "Settings":
        """
        Enforce security constraints in production environment.
        """
        if self.ENVIRONMENT == Environment.PRODUCTION:
            if self.DEBUG:
                raise ValueError("DEBUG must be False in production")
            if self.CORS_ORIGINS == ["*"]:
                raise ValueError(
                    "CORS_ORIGINS cannot be ['*'] in production"
                )
        return self
```

---

## Class Documentation

### Class Documentation: `Settings`

#### Purpose and Responsibility
The `Settings` class is responsible for loading and managing application settings from environment variables. It ensures that critical configuration values are properly set, especially when transitioning between different environments like development and production. The class enforces security constraints in a production environment to prevent potential vulnerabilities.

#### Public Interface
- **Attributes:**
  - `APP_NAME`, `APP_VERSION`, `APP_SUMMARY`, etc.: Application metadata.
  - `ENVIRONMENT`: Current environment (e.g., DEVELOPMENT, PRODUCTION).
  - `DEBUG`: Debug mode flag.
  - `HOST`, `PORT`, `RELOAD`: Server configuration.
  - `DATABASE_URL`, `DB_POOL_SIZE`, `SECRET_KEY`, `JWT_ALGORITHM`, etc.: Database and security settings.
  - `ADMIN_EMAIL`, `REDIS_URL`: Additional application-specific configurations.
  - `CORS_ORIGINS`, `CORS_ALLOW_CREDENTIALS`, `CORS_ALLOW_METHODS`, `CORS_ALLOW_HEADERS`: Cross-Origin Resource Sharing (CORS) configuration.
  - `RATE_LIMIT_DEFAULT`, `RATE_LIMIT_AUTH`: Rate limiting settings.
  - `PAGINATION_DEFAULT_SIZE`, `PAGINATION_MAX_SIZE`: Pagination settings.
  - `LOG_LEVEL`, `LOG_JSON_FORMAT`: Logging configuration.

- **Methods:**
  - `validate_production_settings()`: Ensures that certain security constraints are met in a production environment.

#### Design Patterns
The class uses the **Factory Method** pattern through the `SettingsConfigDict` to load and validate settings from an environment file. It also employs validation logic using Pydantic's `model_validator` decorator, ensuring that configuration values adhere to specified constraints.

#### Architecture Integration
In the overall architecture, the `Settings` class acts as a central hub for configuration management. It is imported by other modules such as the main application entry point and various services or components that require access to these settings. The class ensures consistency in configuration across different parts of the application, facilitating easier debugging and maintenance.

By encapsulating all environment-related configurations within this class, it promotes decoupling between the core logic and external factors like deployment environments, making the codebase more modular and maintainable.

---

*Generated by CodeWorm on 2026-02-18 15:49*
