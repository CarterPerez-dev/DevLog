# Settings

**Type:** Class Documentation
**Repository:** angelamos-operations
**File:** CarterOS-Server/src/config.py
**Language:** python
**Lines:** 56-153
**Complexity:** 0.0

---

## Source Code

```python
class Settings(BaseSettings):
    """
    Application settings loaded from environment variables
    """
    model_config = SettingsConfigDict(
        env_file = _ENV_FILE,
        env_file_encoding = "utf-8",
        case_sensitive = False,
        extra = "ignore",
    )

    APP_NAME: str = "FastAPI Template"
    APP_VERSION: str = "1.0.0"
    APP_SUMMARY: str = "FastAPI Backend Template"
    APP_DESCRIPTION: str = "Async first boilerplate - JWT, Asyncdb, PostgreSQL"
    APP_CONTACT_NAME: str = "AngelaMos"
    APP_CONTACT_EMAIL: str = "support@certgames.com"
    APP_LICENSE_NAME: str = "MIT"
    APP_LICENSE_URL: str = "https://github.com/CarterPerez-dev/fullstack-template/docs/templates/MIT"

    ENVIRONMENT: Environment = Environment.DEVELOPMENT
    DEBUG: bool = False

    HOST: str = "0.0.0.0"
    PORT: int = 8000
    RELOAD: bool = True

    DATABASE_URL: PostgresDsn
    DB_POOL_SIZE: int = Field(default = 20, ge = 5, le = 100)
    DB_MAX_OVERFLOW: int = Field(default = 10, ge = 0, le = 50)
    DB_POOL_TIMEOUT: int = Field(default = 30, ge = 10)
    DB_POOL_RECYCLE: int = Field(default = 1800, ge = 300)

    SECRET_KEY: SecretStr = Field(..., min_length = 32)
    JWT_ALGORITHM: Literal["HS256", "HS384", "HS512"] = "HS256"
    ACCESS_TOKEN_EXPIRE_MINUTES: int = Field(default = 15, ge = 5, le = 60)
    REFRESH_TOKEN_EXPIRE_DAYS: int = Field(default = 30, ge = 1, le = 90)

    REDIS_URL: RedisDsn | None = None
    REDIS_MAX_CONNECTIONS: int = Field(default = 50, ge = 10, le = 200)
    REDIS_SOCKET_TIMEOUT: float = Field(default = 5.0, ge = 1.0)
    REDIS_SOCKET_CONNECT_TIMEOUT: float = Field(default = 2.0, ge = 0.5)
    REDIS_HEALTH_CHECK_INTERVAL: int = Field(default = 30, ge = 10)
    REDIS_DECODE_RESPONSES: bool = True

    CACHE_DEFAULT_TTL: int = Field(default = 300, ge = 60)
    CACHE_VERSION: str = "v1"
    CACHE_KEY_PREFIX: str = "carteros"

    CORS_ORIGINS: list[str] = [
        "http://localhost",
        "http://localhost:3420",
        "http://localhost:8420",
    ]
    CORS_ALLOW_CREDENTIALS: bool = True
    CORS_ALLOW_METHODS: list[str] = [
        "GET",
        "POST",
        "PUT",
        "PATCH",
        "DELETE",
        "OPTIONS"
    ]
    CORS_ALLOW_HEADERS: list[str] = ["*"]

    RATE_LIMIT_DEFAULT: str = "100/minute"
    RATE_LIMIT_AUTH: str = "20/minute"

    PAGINATION_DEFAULT_SIZE: int = Field(default = 20, ge = 1, le = 100)
    PAGINATION_MAX_SIZE: int = Field(default = 100, ge = 1, le = 500)

    LOG_LEVEL: Literal["DEBUG",
                       "INFO",
                       "WARNING",
                       "ERROR",
                       "CRITICAL"] = "INFO"
    LOG_JSON_FORMAT: bool = True

    CLAUDE_CODE_OAUTH_TOKEN: SecretStr | None = None
    MCP_SERVER_URL: str = "http://localhost:8000/mcp"
    LATER_DEV_API_KEY: SecretStr | None = None

    UPLOAD_DIR: Path = Path("/app/uploads")
    UPLOAD_MAX_SIZE_MB: int = Field(default=50, ge=1, le=500)

    @model_validator(mode = "after")
    def validate_produ
```

---

## Class Documentation

### Class Documentation: `Settings`

#### Responsibility and Purpose
The `Settings` class is responsible for loading application settings from environment variables using Python's `BaseSettings`. It ensures that critical configurations, such as database URLs, security tokens, and CORS policies, are properly set up. The class enforces certain constraints in production environments to enhance security.

#### Public Interface
- **Attributes:**
  - `APP_NAME`, `APP_VERSION`, `APP_SUMMARY`, `APP_DESCRIPTION`, etc.: Configuration for the application metadata.
  - `ENVIRONMENT`, `DEBUG`: Indicate the environment and debug mode status.
  - `HOST`, `PORT`, `RELOAD`: Network settings for the server.
  - `DATABASE_URL`, `DB_POOL_SIZE`, `SECRET_KEY`, `JWT_ALGORITHM`, etc.: Database, security, and caching configurations.
  - `REDIS_URL`, `REDIS_MAX_CONNECTIONS`, `CACHE_DEFAULT_TTL`: Redis-related configurations.
  - `CORS_ORIGINS`, `CORS_ALLOW_CREDENTIALS`, `CORS_ALLOW_METHODS`, `CORS_ALLOW_HEADERS`: CORS policy settings.
  - `RATE_LIMIT_DEFAULT`, `PAGINATION_DEFAULT_SIZE`: Rate limiting and pagination configurations.
  - `LOG_LEVEL`, `LOG_JSON_FORMAT`: Logging configurations.
  - `CLAUDE_CODE_OAUTH_TOKEN`, `MCP_SERVER_URL`, `LATER_DEV_API_KEY`: OAuth tokens and API server URLs.
  - `UPLOAD_DIR`, `UPLOAD_MAX_SIZE_MB`: Upload directory settings.

- **Methods:**
  - `validate_production_settings()`: Ensures that certain constraints are met in a production environment, such as disabling debug mode and setting CORS origins appropriately.

#### Design Patterns Used
The class utilizes the **Singleton pattern** through the `BaseSettings` base class to ensure that only one instance of settings is created. It also employs **Validation patterns** via the `model_validator` decorator to enforce constraints on certain attributes based on the environment.

#### Relationship to Other Classes
- The `Settings` class interacts with other classes and modules, such as database connectors, CORS handlers, and rate limiters, by providing configuration parameters.
- It is typically imported and used in the main application file or initialization scripts where it sets up the application's runtime environment.

This class plays a crucial role in ensuring that the application operates correctly across different environments while maintaining security and performance.

---

*Generated by CodeWorm on 2026-02-18 17:31*
